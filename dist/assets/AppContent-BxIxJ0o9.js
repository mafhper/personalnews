const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AuraWallpaperRenderer-68F7fDYv.js","assets/performance-o4eTjbDj.js","assets/react-vendor-Cgg2GOmP.js","assets/services-Cgo2Rk-m.js","assets/Header-DgUnHDIa.js","assets/index-PLyDweJM.js","assets/index-D3Wco41k.css","assets/useNotificationReplacements-CfDXkkdJ.js","assets/FeedContent-DJyxBthb.js","assets/useFavorites-9FCBoMXq.js","assets/Modal-CkT4Dsbi.js","assets/FeedManager-CsYHERw1.js","assets/Switch-Cr4lV_6o.js","assets/Card-DfWzDJV0.js","assets/Badge-uYw0PKQk.js","assets/SettingsSidebar-CLpTHliB.js","assets/Input-B6-1Vm2l.js","assets/KeyboardShortcutsModal-CiZUOXUL.js","assets/FavoritesModal-xgmlgC4Z.js"])))=>i.map(i=>d[i]);
import{u as R,_ as $,a as Be,b as Ue,c as He}from"./index-PLyDweJM.js";import{j as t,r as s,a as Ke}from"./performance-o4eTjbDj.js";import{b as We,m as Ve,c as Ge,v as ee,d as ke,e as le,f as Ce,I as ue,h as W}from"./services-Cgo2Rk-m.js";const Me=({loadedFeeds:e,totalFeeds:o,progress:c,isBackgroundRefresh:d=!1,errors:f=[],currentAction:i,onCancel:l,onRetryErrors:n,className:g="",priorityFeedsLoaded:k=!1})=>{const b=f.length>0,m=e>=o;return k&&!m?t.jsx("div",{className:`fixed top-0 left-0 right-0 z-[60] flex justify-center pt-4 pointer-events-none ${g}`,children:t.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 rounded-full bg-gray-900/90 border border-white/10 backdrop-blur-md shadow-xl transform transition-all duration-300 animate-in slide-in-from-top-4",children:[t.jsx("div",{className:"animate-spin rounded-full h-3.5 w-3.5 border-2 border-t-transparent border-[rgb(var(--color-accent))]"}),t.jsx("span",{className:"text-xs font-medium text-gray-200",children:"Atualizando feeds..."}),t.jsx("div",{className:"w-20 h-1.5 bg-gray-700/50 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-[rgb(var(--color-accent))] rounded-full transition-all duration-300",style:{width:`${c}%`}})}),t.jsxs("span",{className:"text-xs text-gray-500 font-mono ml-1",children:[Math.round(c),"%"]}),l&&t.jsx("button",{onClick:l,className:"text-gray-500 hover:text-white transition-colors ml-1 pointer-events-auto p-1 hover:bg-white/10 rounded-full",title:"Cancel",children:t.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):t.jsxs("div",{className:`w-full max-w-md ${g}`,children:[t.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-gray-900/70 border border-white/5",children:[m?b?t.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}):t.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-t-transparent border-[rgb(var(--color-accent))]"}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx("p",{className:"text-xs text-gray-300 truncate",children:i||(d?"Updating...":"Loading...")})}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 font-mono shrink-0",children:[t.jsxs("span",{children:[e,"/",o]}),t.jsxs("span",{className:"text-[rgb(var(--color-accent))]",children:[Math.round(c),"%"]})]}),!m&&l&&t.jsx("button",{onClick:l,className:"text-gray-500 hover:text-white text-xs transition-colors",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx("div",{className:"h-0.5 w-full bg-gray-800 rounded-full overflow-hidden mt-1",children:t.jsx("div",{className:`h-full rounded-full transition-all duration-200 ease-out ${b?"bg-yellow-500":"bg-[rgb(var(--color-accent))]"}`,style:{width:`${c}%`}})}),b&&m&&t.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-yellow-400/80",children:[t.jsxs("span",{children:[f.length," feed(s) failed"]}),n&&t.jsx("button",{onClick:n,className:"underline hover:text-yellow-300",children:"Retry"})]})]})},te=({size:e="md",color:o="rgb(var(--color-accent))",className:c=""})=>{const d={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"};return t.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 ${d[e]} ${c}`,style:{borderColor:o},role:"status","aria-label":"Loading",children:t.jsx("span",{className:"sr-only",children:"Loading..."})})},Ye=[{href:"#main-content",label:"Skip to main content"},{href:"#navigation",label:"Skip to navigation"},{href:"#search",label:"Skip to search"},{href:"#settings",label:"Skip to settings"}],qe=({links:e=Ye})=>{const o=(c,d)=>{c.preventDefault();const f=document.querySelector(d);if(f){const i=f,l=i.tabIndex;i.tabIndex===-1&&(i.tabIndex=-1),i.focus(),l!==-1&&(i.tabIndex=l),i.scrollIntoView({behavior:"smooth",block:"start"})}};return t.jsxs(t.Fragment,{children:[t.jsx("h1",{className:"sr-only",children:"Personal News Dashboard"}),t.jsx("div",{className:"skip-links",children:e.map((c,d)=>t.jsx("a",{href:c.href,onClick:f=>o(f,c.href),className:"skip-link sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:bg-[rgb(var(--color-accent))] focus:text-white focus:px-4 focus:py-2 focus:rounded-md focus:font-medium focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-[rgb(var(--color-accent))]",children:c.label},d))})]})},Qe=({currentPage:e,totalPages:o,onPageChange:c,compact:d=!1,className:f="",isNavigating:i=!1,disabled:l=!1})=>{const n=s.useCallback(r=>{r.preventDefault(),r.stopPropagation(),!l&&!i&&e>0&&c(e-1)},[l,i,e,c]),g=s.useCallback(r=>{r.preventDefault(),r.stopPropagation(),!l&&!i&&e<o-1&&c(e+1)},[l,i,e,o,c]),k=s.useCallback(r=>{!l&&!i&&r!==e&&c(r)},[l,i,e,c]);if(o<=1)return null;const b=()=>{const r=[];if(o<=(d?3:5))for(let a=0;a<o;a++)r.push(a);else{r.push(0);let a=Math.max(1,e-1),u=Math.min(o-2,e+1);e<=1&&(u=3),e>=o-2&&(a=o-4),a>1&&r.push(-1);for(let y=a;y<=u;y++)r.push(y);u<o-2&&r.push(-2),r.push(o-1)}return r},m=(r,h=!1)=>{const a="transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-[rgb(var(--color-accent))] focus:ring-opacity-50 select-none";return r?`${a} cursor-not-allowed opacity-50`:h?`${a} bg-[rgb(var(--color-accent))] text-white shadow-md`:`${a} hover:bg-gray-700 hover:text-white active:scale-95 active:bg-gray-600 touch-manipulation`};return t.jsx("div",{className:`flex items-center ${f} ${i?"opacity-75":""}`,children:d?t.jsxs("div",{className:"flex items-center space-x-0.5 sm:space-x-1",children:[t.jsx("button",{onClick:n,disabled:l||i||e===0,className:`p-2 rounded-md touch-target text-gray-300 ${m(e===0||l||i)}`,style:{minWidth:"44px",minHeight:"44px"},"aria-label":"Página anterior",title:"Página anterior (←)",children:i?t.jsx(te,{size:"sm"}):t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsxs("div",{className:"flex items-center space-x-0.5 px-1",children:[t.jsx("span",{className:"text-xs text-gray-300 font-medium min-w-[1.5ch] text-center",children:e+1}),t.jsx("span",{className:"text-xs text-gray-500",children:"/"}),t.jsx("span",{className:"text-xs text-gray-400 min-w-[1.5ch] text-center",children:o})]}),t.jsx("button",{onClick:g,disabled:l||i||e===o-1,className:`p-2 rounded-md touch-target text-gray-300 ${m(e===o-1||l||i)}`,style:{minWidth:"44px",minHeight:"44px"},"aria-label":"Próxima página",title:"Próxima página (→)",children:i?t.jsx(te,{size:"sm"}):t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}):t.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[t.jsx("div",{className:"flex items-center space-x-2 sm:hidden",children:t.jsxs("span",{className:"text-sm text-gray-400",children:["Página ",e+1," de ",o]})}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("button",{onClick:n,disabled:l||i||e===0,className:`px-4 py-2 rounded-md font-medium text-sm flex items-center space-x-2 ${m(e===0||l||i)} ${e===0||l||i?"bg-gray-800 text-gray-500":"bg-gray-700 text-white"}`,"aria-label":"Página anterior",children:[i&&t.jsx(te,{size:"sm"}),t.jsx("span",{className:"hidden sm:inline",children:i?"Carregando...":"Anterior"}),t.jsx("span",{className:"sm:hidden",children:i?"...":"←"})]}),t.jsx("div",{className:"hidden sm:flex items-center space-x-1",children:b().map((r,h)=>{if(r<0)return t.jsx("span",{className:"px-2 text-gray-500 select-none",children:"..."},`ellipsis-${h}`);const a=e===r;return t.jsx("button",{onClick:()=>k(r),disabled:l||i,className:`w-10 h-10 flex items-center justify-center rounded-md text-sm font-medium ${m(l||i,a)} ${a?"bg-[rgb(var(--color-accent))] text-white":"bg-gray-800 text-gray-300"}`,"aria-label":`Ir para página ${r+1}`,"aria-current":a?"page":void 0,children:r+1},`page-${r}`)})}),t.jsxs("button",{onClick:g,disabled:l||i||e===o-1,className:`px-4 py-2 rounded-md font-medium text-sm flex items-center space-x-2 ${m(e===o-1||l||i)} ${e===o-1||l||i?"bg-gray-800 text-gray-500":"bg-gray-700 text-white"}`,"aria-label":"Próxima página",children:[i&&t.jsx(te,{size:"sm"}),t.jsx("span",{className:"hidden sm:inline",children:i?"Carregando...":"Próximo"}),t.jsx("span",{className:"sm:hidden",children:i?"...":"→"})]})]}),t.jsx("div",{className:"hidden sm:flex items-center space-x-2 text-sm text-gray-400",children:t.jsxs("span",{children:["Página ",e+1," de ",o]})})]})})},Xe=()=>t.jsxs("div",{className:"flex flex-col h-full animate-pulse bg-gray-900/40 rounded-lg p-2",children:[t.jsx("div",{className:"w-full h-40 sm:h-32 lg:h-40 bg-gray-800 rounded-lg mb-4"}),t.jsxs("div",{className:"flex-1 flex flex-col space-y-3",children:[t.jsx("div",{className:"w-20 h-4 bg-gray-800 rounded"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"w-full h-4 bg-gray-800 rounded"}),t.jsx("div",{className:"w-3/4 h-4 bg-gray-800 rounded"}),t.jsx("div",{className:"w-1/2 h-4 bg-gray-800 rounded"})]}),t.jsxs("div",{className:"mt-auto pt-4 flex justify-between items-center",children:[t.jsx("div",{className:"w-24 h-3 bg-gray-800 rounded"}),t.jsx("div",{className:"w-16 h-3 bg-gray-800 rounded"})]})]})]}),je=({count:e=6})=>t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:e}).map((o,c)=>t.jsx("div",{className:"aspect-[3/4] sm:aspect-auto sm:h-[400px]",children:t.jsx(Xe,{})},c))}),Je=(e={})=>{const{shortcuts:o=[],enableArrowNavigation:c=!1,containerRef:d,onArrowNavigation:f}=e,i=s.useRef(o);s.useEffect(()=>{i.current=o},[o]);const l=s.useCallback(m=>{const r=m,{key:h,ctrlKey:a,shiftKey:u,altKey:y,metaKey:C}=r;for(const x of i.current){const p=x.key.toLowerCase()===h.toLowerCase(),v=(x.ctrlKey??!1)===a,T=(x.shiftKey??!1)===u,M=(x.altKey??!1)===y,F=(x.metaKey??!1)===C;if(p&&v&&T&&M&&F){x.preventDefault!==!1&&m.preventDefault(),x.action();return}}if(c&&f)switch(h){case"ArrowUp":m.preventDefault(),f("up");break;case"ArrowDown":m.preventDefault(),f("down");break;case"ArrowLeft":m.preventDefault(),f("left");break;case"ArrowRight":m.preventDefault(),f("right");break}},[c,f]);s.useEffect(()=>{const m=d?.current||document;return m.addEventListener("keydown",l),()=>{m.removeEventListener("keydown",l)}},[l,d]);const n=s.useCallback(()=>{const m=d?.current||document,r=["button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","a[href]",'[tabindex]:not([tabindex="-1"])','[contenteditable="true"]'].join(", ");return Array.from(m.querySelectorAll(r)).filter(h=>{const a=h;return a.offsetParent!==null&&!a.hasAttribute("aria-hidden")&&a.tabIndex!==-1})},[d]),g=s.useCallback(m=>{const r=n(),h=r.findIndex(u=>u===document.activeElement);let a;m==="next"?a=h<r.length-1?h+1:0:a=h>0?h-1:r.length-1,r[a]&&r[a].focus()},[n]),k=s.useCallback(()=>{const m=n();m[0]&&m[0].focus()},[n]),b=s.useCallback(()=>{const m=n();m.length>0&&m[m.length-1].focus()},[n]);return{navigateToElement:g,focusFirst:k,focusLast:b,getFocusableElements:n}},Ze=()=>{const[e,o]=R("extended-theme-settings",Ce),[c,d]=s.useState(We());s.useEffect(()=>{const r=localStorage.getItem("theme-color");if(r&&e.customThemes.length===0)try{const h=JSON.parse(r),a=Ve(h);a&&(o(u=>({...u,currentTheme:a,customThemes:[a]})),localStorage.removeItem("theme-color"))}catch(h){console.warn("Failed to migrate old theme:",h)}},[e.customThemes.length,o]),s.useEffect(()=>{if(typeof window>"u")return;const r=window.matchMedia("(prefers-color-scheme: dark)"),h=a=>{d(a.matches?"dark":"light")};return r.addEventListener("change",h),()=>r.removeEventListener("change",h)},[]),s.useEffect(()=>{if(e.autoDetectSystemTheme&&!e.systemThemeOverride){const r=Ge(c);r.id!==e.currentTheme.id&&o(h=>({...h,currentTheme:r}))}},[c,e.autoDetectSystemTheme,e.systemThemeOverride,e.currentTheme.id,o]),s.useEffect(()=>{ee(e.currentTheme)&&ke(e.currentTheme)},[e.currentTheme]);const f=s.useCallback(r=>{ee(r)&&o(h=>({...h,currentTheme:r,systemThemeOverride:h.autoDetectSystemTheme?r.id.includes("light")?"light":"dark":null}))},[o]),i=s.useCallback(r=>{ee(r)&&o(h=>({...h,customThemes:[...h.customThemes.filter(a=>a.id!==r.id),r]}))},[o]),l=s.useCallback(r=>{o(h=>({...h,customThemes:h.customThemes.filter(a=>a.id!==r),currentTheme:h.currentTheme.id===r?le[0].theme:h.currentTheme}))},[o]),n=s.useCallback(r=>{o(h=>({...h,...r}))},[o]),g=s.useCallback(()=>{o(Ce)},[o]),k=s.useCallback(()=>[...le.map(r=>r.theme),...e.customThemes],[e.customThemes]),b=s.useCallback(r=>k().find(h=>h.id===r),[k]),m=s.useCallback((r,h)=>{const a={...r,id:`custom-${Date.now()}`,name:h};return i(a),a},[i]);return{themeSettings:e,currentTheme:e.currentTheme,systemPreference:c,defaultPresets:le,customThemes:e.customThemes,allThemes:k(),setCurrentTheme:f,addCustomTheme:i,removeCustomTheme:l,duplicateTheme:m,getThemeById:b,updateThemeSettings:n,resetToDefaults:g,validateTheme:ee,applyThemeToDOM:ke}},ce=e=>{const o=e.match(/hsl\((\d+(?:\.\d+)?),\s*(\d+)%,\s*(\d+)%\)/);return o?{h:parseFloat(o[1]),s:parseInt(o[2]),l:parseInt(o[3])}:{h:0,s:0,l:0}},de=e=>{let o=0,c=0,d=0;e.length===4?(o=parseInt("0x"+e[1]+e[1]),c=parseInt("0x"+e[2]+e[2]),d=parseInt("0x"+e[3]+e[3])):e.length===7&&(o=parseInt("0x"+e[1]+e[2]),c=parseInt("0x"+e[3]+e[4]),d=parseInt("0x"+e[5]+e[6])),o/=255,c/=255,d/=255;const f=Math.min(o,c,d),i=Math.max(o,c,d),l=i-f;let n=0,g=0,k=0;return l===0?n=0:i===o?n=(c-d)/l%6:i===c?n=(d-o)/l+2:n=(o-c)/l+4,n=Math.round(n*60),n<0&&(n+=360),k=(i+f)/2,g=l===0?0:l/(1-Math.abs(2*k-1)),{h:n,s:Math.round(g*100),l:Math.round(k*100)}},Le=({h:e,s:o,l:c})=>`hsl(${e%360}, ${Math.max(0,Math.min(100,o))}%, ${Math.max(0,Math.min(100,c))}%)`,H=(e,o,c,d)=>{const f=e.startsWith("#")?de(e):ce(e);return Le({h:f.h+o,s:f.s+c,l:f.l+d})},Y=(e,o)=>e+(Math.random()*o-o/2),_=(e,o,c)=>Math.min(c,Math.max(o,e)),q=(e,o)=>{const c=o.startsWith("#")?de(o):ce(o),d=c.l<10,f=c.l<40,i=c.l>60;return e.map(l=>{const n=l.color.startsWith("#")?de(l.color):ce(l.color);let g=l.blendMode;const k=Math.max(.5,l.opacity),b=Math.max(30,l.size);return d?(["screen","lighten","color-dodge","normal"].includes(g)||(g=Math.random()>.4?"screen":"normal"),n.l<50&&(n.l=50+Math.random()*40),n.s<50&&(n.s=50+Math.random()*50)):f?(["multiply","darken","color-burn","difference"].includes(g)&&(g=Math.random()>.5?"overlay":"screen"),["overlay","soft-light"].includes(g)&&n.l<60&&(n.l=60+Math.random()*30),n.l<30&&(n.l=40+Math.random()*40)):i&&(["screen","lighten","color-dodge","plus"].includes(g)&&(g=Math.random()>.5?"multiply":"normal"),n.l>60&&(n.l=Math.random()*50),g==="normal"&&n.l>c.l-20&&(n.l=Math.max(0,c.l-40))),{...l,color:Le(n),opacity:k,size:b,blendMode:g}})},jt=e=>{const o=[];o.push({...e,shapes:q(e.shapes.map(n=>({...n,x:_(Y(n.x,40),0,100),y:_(Y(n.y,40),0,100),size:_(Y(n.size,30),25,150),id:n.id+"-remix"})),e.baseColor)});const c=H(e.baseColor,10,-5,5);o.push({...e,baseColor:c,noise:_(e.noise-10,10,50),shapes:q(e.shapes.map(n=>({...n,blur:Math.min(150,n.blur*1.3),blendMode:Math.random()>.5?"screen":"soft-light",opacity:_(n.opacity*.9,.4,.9),id:n.id+"-atmos"})),c)});const d=H(e.baseColor,0,10,-10);o.push({...e,baseColor:d,noise:_(e.noise+15,20,80),shapes:q(e.shapes.map(n=>({...n,color:H(n.color,0,20,5),blendMode:Math.random()>.5?"color-dodge":"normal",opacity:_(n.opacity+.2,.6,1),id:n.id+"-deep"})),d)});const f=30+Math.random()*30,i=H(e.baseColor,f,0,0);o.push({...e,baseColor:i,shapes:q(e.shapes.map(n=>({...n,color:H(n.color,f,0,0),x:_(Y(n.x,15),-10,110),y:_(Y(n.y,15),-10,110),id:n.id+"-flow"})),i)});const l=H(e.baseColor,180,0,0);return o.push({...e,baseColor:l,shapes:q(e.shapes.map(n=>({...n,color:H(n.color,180,20,0),blendMode:"normal",id:n.id+"-pop"})),l)}),o},et={width:1179,height:2556,noise:25,noiseScale:1.5,baseColor:"#0f0c29",shapes:[{id:"def1",type:"circle",x:80,y:20,size:100,color:"#ff00cc",opacity:.4,blur:100,blendMode:"screen"},{id:"def2",type:"circle",x:20,y:80,size:120,color:"#333399",opacity:.6,blur:120,blendMode:"screen"},{id:"def3",type:"circle",x:50,y:50,size:80,color:"#00d4ff",opacity:.3,blur:80,blendMode:"overlay"}]},Tt=[{id:"angel-aura",name:"Angel Aura",category:"Aura",thumbnail:"linear-gradient(135deg, #fdf4ff 0%, #d8b4fe 100%)",config:{baseColor:"#faf5ff",noise:22,noiseScale:1.2,shapes:[{id:"aa1",type:"circle",x:20,y:20,size:120,color:"#d8b4fe",opacity:.6,blur:100,blendMode:"multiply"},{id:"aa2",type:"circle",x:80,y:80,size:140,color:"#f9a8d4",opacity:.5,blur:120,blendMode:"multiply"},{id:"aa3",type:"circle",x:50,y:50,size:90,color:"#bae6fd",opacity:.7,blur:80,blendMode:"multiply"},{id:"aa4",type:"circle",x:50,y:40,size:60,color:"#ffffff",opacity:.9,blur:60,blendMode:"overlay"}]}},{id:"soul-glow",name:"Soul Glow",category:"Aura",thumbnail:"linear-gradient(135deg, #1e1b4b 0%, #4c1d95 100%)",config:{baseColor:"#0f0518",noise:35,noiseScale:2,shapes:[{id:"sg1",type:"circle",x:50,y:50,size:110,color:"#7c3aed",opacity:.5,blur:100,blendMode:"screen"},{id:"sg2",type:"circle",x:50,y:50,size:70,color:"#db2777",opacity:.6,blur:80,blendMode:"screen"},{id:"sg3",type:"circle",x:50,y:50,size:40,color:"#fcd34d",opacity:.8,blur:40,blendMode:"overlay"}]}},{id:"cotton-candy",name:"Daydream",category:"Soft",thumbnail:"linear-gradient(135deg, #fff1f2 0%, #fda4af 100%)",config:{baseColor:"#fff1f2",noise:18,noiseScale:1,shapes:[{id:"cc1",type:"circle",x:10,y:10,size:130,color:"#fecdd3",opacity:.8,blur:120,blendMode:"multiply"},{id:"cc2",type:"circle",x:90,y:90,size:120,color:"#bfdbfe",opacity:.7,blur:100,blendMode:"multiply"},{id:"cc3",type:"circle",x:50,y:50,size:80,color:"#fef3c7",opacity:.6,blur:80,blendMode:"multiply"}]}},{id:"dune-haze",name:"Dune Haze",category:"Soft",thumbnail:"linear-gradient(135deg, #f5f5f4 0%, #d6d3d1 100%)",config:{baseColor:"#e7e5e4",noise:40,noiseScale:1.8,shapes:[{id:"dh1",type:"circle",x:50,y:20,size:150,color:"#a8a29e",opacity:.4,blur:120,blendMode:"multiply"},{id:"dh2",type:"circle",x:50,y:120,size:100,color:"#fbbf24",opacity:.3,blur:100,blendMode:"overlay"},{id:"dh3",type:"circle",x:10,y:60,size:80,color:"#d1d5db",opacity:.5,blur:60,blendMode:"multiply"}]}},{id:"chroma-flow",name:"Chromesthesia",category:"Abstract",thumbnail:"linear-gradient(135deg, #000000 0%, #22d3ee 50%, #e879f9 100%)",config:{baseColor:"#101010",noise:30,noiseScale:1.5,shapes:[{id:"cf1",type:"circle",x:20,y:30,size:100,color:"#22d3ee",opacity:.6,blur:100,blendMode:"screen"},{id:"cf2",type:"circle",x:80,y:70,size:120,color:"#e879f9",opacity:.5,blur:120,blendMode:"screen"},{id:"cf3",type:"circle",x:50,y:50,size:90,color:"#facc15",opacity:.4,blur:80,blendMode:"overlay"},{id:"cf4",type:"circle",x:50,y:50,size:150,color:"#ffffff",opacity:.1,blur:60,blendMode:"overlay"}]}},{id:"iridescent-oil",name:"Iridescent",category:"Abstract",thumbnail:"linear-gradient(135deg, #d4d4d8 0%, #a1a1aa 100%)",config:{baseColor:"#71717a",noise:25,noiseScale:1.2,shapes:[{id:"io1",type:"circle",x:30,y:30,size:100,color:"#f472b6",opacity:.6,blur:80,blendMode:"color-dodge"},{id:"io2",type:"circle",x:70,y:70,size:110,color:"#34d399",opacity:.5,blur:90,blendMode:"color-dodge"},{id:"io3",type:"circle",x:50,y:50,size:140,color:"#60a5fa",opacity:.5,blur:100,blendMode:"overlay"}]}},{id:"midnight-oil",name:"Midnight",category:"Dark",thumbnail:"linear-gradient(135deg, #020617 0%, #1e1b4b 100%)",config:{baseColor:"#020617",noise:45,noiseScale:2.5,shapes:[{id:"mo1",type:"circle",x:10,y:90,size:130,color:"#1d4ed8",opacity:.5,blur:120,blendMode:"screen"},{id:"mo2",type:"circle",x:90,y:10,size:100,color:"#be185d",opacity:.4,blur:100,blendMode:"screen"},{id:"mo3",type:"circle",x:50,y:50,size:60,color:"#ffffff",opacity:.1,blur:50,blendMode:"overlay"}]}},{id:"burnt-ember",name:"Ember",category:"Dark",thumbnail:"linear-gradient(135deg, #450a0a 0%, #7f1d1d 100%)",config:{baseColor:"#2a0a0a",noise:50,noiseScale:3,shapes:[{id:"be1",type:"circle",x:50,y:120,size:120,color:"#ef4444",opacity:.6,blur:100,blendMode:"screen"},{id:"be2",type:"circle",x:50,y:50,size:150,color:"#000000",opacity:.8,blur:80,blendMode:"overlay"},{id:"be3",type:"circle",x:50,y:20,size:80,color:"#fdba74",opacity:.3,blur:100,blendMode:"color-dodge"}]}},{id:"cyber-mist",name:"Cyber Mist",category:"Neon",thumbnail:"linear-gradient(135deg, #111827 0%, #10b981 100%)",config:{baseColor:"#030712",noise:40,noiseScale:2,shapes:[{id:"cm1",type:"circle",x:0,y:50,size:100,color:"#10b981",opacity:.5,blur:100,blendMode:"screen"},{id:"cm2",type:"circle",x:100,y:50,size:100,color:"#8b5cf6",opacity:.5,blur:100,blendMode:"screen"},{id:"cm3",type:"circle",x:50,y:0,size:120,color:"#06b6d4",opacity:.4,blur:100,blendMode:"overlay"}]}},{id:"heat-map",name:"Heatmap",category:"Neon",thumbnail:"linear-gradient(135deg, #312e81 0%, #f43f5e 100%)",config:{baseColor:"#1e1b4b",noise:30,noiseScale:1.5,shapes:[{id:"hm1",type:"circle",x:30,y:30,size:100,color:"#f43f5e",opacity:.7,blur:90,blendMode:"screen"},{id:"hm2",type:"circle",x:70,y:70,size:110,color:"#3b82f6",opacity:.7,blur:90,blendMode:"screen"},{id:"hm3",type:"circle",x:50,y:50,size:80,color:"#ffffff",opacity:.3,blur:50,blendMode:"overlay"}]}}],St=e=>{const o=Math.floor(Math.random()*3)+3,c=[],d=(m,r,h)=>`hsl(${m}, ${r}%, ${h}%)`,f=Math.floor(Math.random()*360),i=Math.random()>.4,l=i?d(f,40,Math.floor(Math.random()*10)+5):d(f,20,Math.floor(Math.random()*10)+88),n=i?["screen","color-dodge","normal","lighten"]:["multiply","overlay","normal","difference"],g=Math.random();let k=[];g<.33?k=Array(o).fill(0).map(()=>(f+Math.random()*60-30)%360):g<.66?k=Array(o).fill(0).map((m,r)=>r%2===0?f:(f+180)%360):k=Array(o).fill(0).map((m,r)=>(f+r*120)%360);for(let m=0;m<o;m++){const r=k[m],h=Math.random()*40+60,a=i?Math.random()*40+50:Math.random()*40+10,u=n[Math.floor(Math.random()*n.length)];c.push({id:`rand-${Date.now()}-${m}`,type:"circle",x:Math.random()*100,y:Math.random()*100,size:Math.random()*80+60,color:d(r,h,a),opacity:Math.random()*.4+.5,blur:Math.random()*60+60,blendMode:u})}return{...e,baseColor:l,noise:Math.floor(Math.random()*25)+20,noiseScale:Math.random()*1.5+1.5,shapes:c}},tt={style:"default",position:"floating",height:"compact",showTitle:!1,showLogo:!0,backgroundColor:"#0a0a0c",backgroundOpacity:95,blurIntensity:"medium",borderColor:"#ffffff",borderOpacity:8},ot={density:"comfortable",showAuthor:!0,showDate:!0,showTags:!0},rt=[{id:"masonry",name:"Masonry Default",description:"Layout padrão com grade dinâmica e header flutuante.",header:{style:"default",height:"compact",showTitle:!1,showLogo:!0,backgroundColor:"#1F1F1F",backgroundOpacity:60,blurIntensity:"heavy",borderColor:"#ffffff",borderOpacity:8},content:{layoutMode:"masonry",density:"comfortable",showAuthor:!0,showDate:!0,showTime:!1,showTags:!0,paginationType:"numbered"}},{id:"magazine",name:"Magazine",description:"Layout clássico com header sólido e navegação central.",header:{style:"centered",position:"sticky",height:"normal",showTitle:!0,showLogo:!0,backgroundColor:"#1a1a1a",backgroundOpacity:98,blurIntensity:"heavy",borderColor:"#ffffff",borderOpacity:10},content:{layoutMode:"magazine",density:"comfortable",showAuthor:!0,showDate:!0,showTime:!1,showTags:!0,paginationType:"numbered"}},{id:"modern",name:"Modern Portal",description:"Layout editorial moderno com hero sections e destaques visuais.",header:{style:"default",height:"compact",showTitle:!1,showLogo:!0,backgroundColor:"#1F1F1F",backgroundOpacity:60,blurIntensity:"heavy",borderColor:"#ffffff",borderOpacity:8},content:{layoutMode:"modern",density:"comfortable",showAuthor:!0,showDate:!0,showTime:!1,showTags:!0,paginationType:"numbered"}},{id:"newspaper",name:"Newspaper",description:"Estilo jornal clássico, denso e informativo.",header:{style:"default",position:"floating",height:"compact",showTitle:!1,showLogo:!0,backgroundColor:"#111827",backgroundOpacity:100,blurIntensity:"none",borderColor:"#374151",borderOpacity:25},content:{layoutMode:"newspaper",density:"compact",showAuthor:!0,showDate:!0,showTime:!1,showTags:!1,paginationType:"numbered"}},{id:"minimal",name:"Minimal",description:"Foco no conteúdo. Header flutuante transparente.",header:{style:"minimal",height:"compact",showTitle:!1,showLogo:!0,backgroundColor:"#000000",backgroundOpacity:40,blurIntensity:"heavy",borderColor:"transparent",borderOpacity:0},content:{layoutMode:"minimal",density:"spacious",showAuthor:!0,showDate:!1,showTime:!1,showTags:!1,paginationType:"numbered"}},{id:"focus",name:"Focus",description:"Leitura sem distrações. Header oculto e layout de coluna única.",header:{style:"default",position:"floating",height:"compact",showTitle:!1,showLogo:!0,backgroundColor:"#1F1F1F",backgroundOpacity:60,blurIntensity:"none",borderColor:"#ffffff",borderOpacity:8},content:{layoutMode:"focus",density:"comfortable",showAuthor:!0,showDate:!0,showTime:!1,showTags:!0,paginationType:"numbered"}},{id:"immersive",name:"Immersive",description:"Experiência full-screen com header ultra-discreto.",header:{style:"minimal",position:"floating",height:"normal",showTitle:!1,showLogo:!0,backgroundColor:"#000000",backgroundOpacity:0,blurIntensity:"none",borderColor:"transparent",borderOpacity:0},content:{layoutMode:"immersive",density:"spacious",showAuthor:!0,showDate:!0,showTime:!1,showTags:!1,paginationType:"numbered"}},{id:"brutalist",name:"Brutalist",description:"Bordas fortes, alto contraste e tipografia marcante.",header:{style:"default",position:"floating",height:"compact",showTitle:!0,showLogo:!0,backgroundColor:"#000000",backgroundOpacity:100,blurIntensity:"none",borderColor:"#ffffff",borderOpacity:100},content:{layoutMode:"brutalist",density:"compact",showAuthor:!0,showDate:!0,showTime:!1,showTags:!0,paginationType:"numbered"}},{id:"timeline",name:"Timeline",description:"Navegação por tempo. Header sticky compacto.",header:{style:"default",position:"floating",height:"compact",showTitle:!1,showLogo:!0,backgroundColor:"#1f2937",backgroundOpacity:90,blurIntensity:"light",borderColor:"#374151",borderOpacity:50},content:{layoutMode:"timeline",density:"comfortable",showAuthor:!0,showDate:!0,showTime:!1,showTags:!0,paginationType:"numbered"}},{id:"bento",name:"Bento Grid",description:"Layout modular moderno.",header:{style:"default",height:"compact",showTitle:!1,showLogo:!0,backgroundColor:"#1a1a1a",backgroundOpacity:60,blurIntensity:"heavy",borderColor:"#ffffff",borderOpacity:5},content:{layoutMode:"bento",density:"compact",showAuthor:!1,showDate:!0,showTime:!1,showTags:!1,paginationType:"numbered"}},{id:"pocketfeeds",name:"PocketFeeds",description:"Layout focado em podcasts com player de áudio integrado.",header:{style:"default",position:"floating",height:"compact",showTitle:!1,showLogo:!0,backgroundColor:"#1F1F1F",backgroundOpacity:50,blurIntensity:"heavy",borderColor:"#ffffff",borderOpacity:8},content:{layoutMode:"pocketfeeds",density:"comfortable",showAuthor:!0,showDate:!0,showTime:!1,showTags:!0,paginationType:"numbered"}}];function st(e){return{id:e.id,name:e.name,description:e.description,header:{...tt,...e.header},content:{...ot,...e.content}}}const at=rt.map(st),ie={style:"default",position:ue.header,height:"compact",showTitle:!1,showLogo:!0,customTitle:"Personal News",logoUrl:null,logoSize:"md",logoColorMode:"original",syncFavicon:!0,backgroundColor:"#1F1F1F",backgroundOpacity:60,blurIntensity:"heavy",borderColor:"#ffffff",borderOpacity:8,categoryBackgroundColor:"#ffffff",categoryBackgroundOpacity:3,bgColor:"#1F1F1F",bgOpacity:.6,blur:20},oe={showAuthor:!0,showDate:!0,showTime:!1,showTags:!0,layoutMode:"modern",density:"comfortable",paginationType:"numbered"},Te={type:"aura",value:"",auraSettings:et},Se=at,nt=()=>{const{themeSettings:e,updateThemeSettings:o,currentTheme:c,customThemes:d,defaultPresets:f,setCurrentTheme:i,removeCustomTheme:l}=Ze(),[n,g]=R("appearance-header",ie),[k,b]=R("appearance-content",oe),[m,r]=R("appearance-background",Te),[h,a]=R("appearance-active-layout",ue.layout),[u,y]=R("appearance-overrides",{}),C=s.useCallback((S,O=!0)=>{g(N=>({...N,...S})),O&&(a(null),y(N=>{const L=N||{};return{...L,header:{...L.header||{},...S}}}))},[g,y,a]),x=s.useCallback((S,O=!0)=>{b(N=>({...N,...S})),O&&(a(null),y(N=>{const L=N||{};return{...L,content:{...L.content||{},...S}}}))},[b,y,a]),p=s.useCallback(S=>{r(O=>({...O,...S}))},[r]),v=s.useCallback(()=>{y({})},[y]),T=s.useCallback((S,O=!0,N=!0)=>{const L=Se.find(P=>P.id===S);if(L){console.log(`Applying layout preset: ${S} (persist: ${O})`,{presetContent:L.content}),N&&y(X=>({...X,content:{}}));const P=N?{}:u?.content||{},Q={...oe,...L.content,...P};b(Q),O&&a(S)}},[b,a,u,y]),M=s.useCallback(()=>{const S=u?.header||{},O=u?.content||{};if(h){const N=Se.find(L=>L.id===h);if(N){const L={...ie,...N.header,...S},P={...oe,...N.content,...O};g(L),b(P);return}}h&&T(h)},[h,T,b,g,u?.content,u?.header]),F=s.useCallback(()=>{g(ie),b(oe),r(Te),a(null),y({})},[g,b,r,a,y]);return{headerConfig:n,contentConfig:k,backgroundConfig:m,activeLayoutId:h,updateHeaderConfig:C,updateContentConfig:x,updateBackgroundConfig:p,applyLayoutPreset:T,resetAppearance:F,clearUserOverrides:v,themeSettings:e,updateThemeSettings:o,currentTheme:c,customThemes:d,defaultPresets:f,setCurrentTheme:i,removeCustomTheme:l,refreshAppearance:M}},lt=()=>{const[e,o]=R("feed-categories",W);s.useEffect(()=>{o(a=>{const u=new Set(a.map(p=>p.id)),y=W.filter(p=>!u.has(p.id));let C=y.length>0;const x=a.map(p=>{if(p.isDefault){const v=W.find(T=>T.id===p.id);if(v&&p.autoDiscovery!==v.autoDiscovery&&v.autoDiscovery!==void 0)return C=!0,{...p,autoDiscovery:v.autoDiscovery}}return p});return C?[...x,...y].sort((p,v)=>{const T=p.isDefault?W.find(F=>F.id===p.id)?.order??999:999,M=v.isDefault?W.find(F=>F.id===v.id)?.order??999:999;return T!==M?T-M:p.order-v.order}):a})},[o]);const c=s.useCallback((a,u,y,C,x,p)=>{const v={id:`custom-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:a,color:u,description:y,order:0,isDefault:!1,layoutMode:C,headerPosition:x,autoDiscovery:p??!0};return o(T=>{const M=Math.max(...T.map(S=>S.order)),F={...v,order:M+1};return[...T,F]}),v},[o]),d=s.useCallback((a,u)=>{o(y=>y.map(C=>C.id===a?{...C,...u}:C))},[o]),f=s.useCallback(a=>{o(u=>u.filter(y=>y.id!==a))},[o]),i=s.useCallback(a=>{o(u=>{const y=a.map((x,p)=>{const v=u.find(T=>T.id===x);return v?{...v,order:p}:null}).filter(Boolean),C=u.filter(x=>!a.includes(x.id));return[...y,...C]})},[o]),l=s.useCallback(a=>e.find(u=>u.id===a),[e]),n=s.useCallback(a=>{const u={};return e.forEach(y=>{u[y.id]=[]}),u.uncategorized=[],a.forEach(y=>{y.categoryId&&u[y.categoryId]?u[y.categoryId].push(y):u.uncategorized.push(y),u.all&&!y.hideFromAll&&u.all.push(y)}),Object.keys(u).forEach(y=>{u[y].sort((C,x)=>{const p=(C.customTitle||C.url).toLowerCase(),v=(x.customTitle||x.url).toLowerCase();return p.localeCompare(v)})}),u},[e]),g=s.useCallback((a,u,y,C)=>{const x=y.map(p=>p.url===a?{...p,categoryId:u==="uncategorized"?void 0:u}:p);C(x)},[]),k=s.useCallback(()=>{const a={categories:e.filter(u=>!u.isDefault),exportDate:new Date().toISOString(),version:"1.0"};return JSON.stringify(a,null,2)},[e]),b=s.useCallback(a=>{try{const u=JSON.parse(a);if(!u.categories||!Array.isArray(u.categories))return!1;const y=u.categories.filter(C=>C.id&&C.name&&C.color&&typeof C.order=="number");return y.length===0?!1:(o(C=>{const x=new Set(C.map(M=>M.id)),p=y.filter(M=>!x.has(M.id)),v=Math.max(...C.map(M=>M.order)),T=p.map((M,F)=>({...M,order:v+F+1,isDefault:!1}));return[...C,...T]}),!0)}catch(u){return console.error("Failed to import categories:",u),!1}},[o]),m=s.useCallback(()=>{o(W)},[o]),r=s.useCallback(()=>{o(a=>a.map(u=>({...u,layoutMode:void 0})))},[o]);return{categories:s.useMemo(()=>[...e].sort((a,u)=>a.order-u.order),[e]),createCategory:c,updateCategory:d,deleteCategory:f,reorderCategories:i,getCategoryById:l,getCategorizedFeeds:n,moveFeedToCategory:g,exportCategories:k,importCategories:b,resetToDefaults:m,resetCategoryLayouts:r}},it=(e,o=12,c={})=>{const{persistInUrl:d=!1,resetTriggers:f=[],urlParamName:i="page"}=c,[l,n]=s.useState(()=>{if(d&&typeof window<"u"){const p=new URLSearchParams(window.location.search).get(i);if(p){const v=parseInt(p,10)-1,T=Math.max(1,Math.ceil(e/o));if(v>=0)return Math.min(v,T-1)}}return 0}),[g,k]=s.useState(!1),b=s.useMemo(()=>Math.max(1,Math.ceil(e/o)),[e,o]),m=s.useCallback(x=>{if(d&&typeof window<"u"){const p=new URL(window.location.href);x===0?p.searchParams.delete(i):p.searchParams.set(i,(x+1).toString()),window.history.replaceState({},"",p.toString())}},[d,i]),r=s.useCallback(x=>{const p=Math.max(0,Math.min(x,b-1));if(p!==l){k(!0),n(p),m(p);const v=setTimeout(()=>k(!1),150);return()=>clearTimeout(v)}},[l,b,m]),h=s.useCallback(()=>{l<b-1&&r(l+1)},[l,b,r]),a=s.useCallback(()=>{l>0&&r(l-1)},[l,r]),u=s.useCallback(()=>{r(0)},[r]);s.useEffect(()=>{f.length>0&&setTimeout(()=>u(),0)},f),s.useEffect(()=>{l>=b&&b>0&&setTimeout(()=>r(b-1),0)},[l,b,r]),s.useEffect(()=>{if(typeof window>"u")return;const x=p=>{const v=document.activeElement;if(!(v?.tagName==="INPUT"||v?.tagName==="TEXTAREA"||v?.contentEditable==="true"||p.ctrlKey||p.metaKey||p.altKey))switch(p.key){case"ArrowLeft":l>0&&(p.preventDefault(),a());break;case"ArrowRight":l<b-1&&(p.preventDefault(),h());break;case"Home":l>0&&(p.preventDefault(),r(0));break;case"End":l<b-1&&(p.preventDefault(),r(b-1));break}};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[l,b,h,a,r]);const y=l*o,C=Math.min(y+o,e);return{currentPage:l,totalPages:b,articlesPerPage:o,isNavigating:g,setPage:r,nextPage:h,prevPage:a,resetPagination:u,canGoNext:l<b-1,canGoPrev:l>0,startIndex:y,endIndex:C}};function ct(e){const{onSwipeLeft:o,onSwipeRight:c,onSwipeUp:d,onSwipeDown:f,threshold:i=50}=e,l=s.useRef(null),n=s.useRef(null);return s.useEffect(()=>{const g=e.element||l.current;if(!g)return;const k=m=>{const r=m.touches[0];n.current={x:r.clientX,y:r.clientY}},b=m=>{if(!n.current)return;const r=m.changedTouches[0],h=r.clientX-n.current.x,a=r.clientY-n.current.y;Math.abs(h)>Math.abs(a)?h>i&&c?c():h<-i&&o&&o():a>i&&f?f():a<-i&&d&&d(),n.current=null};return g.addEventListener("touchstart",k),g.addEventListener("touchend",b),()=>{g.removeEventListener("touchstart",k),g.removeEventListener("touchend",b)}},[e.element,o,c,d,f,i]),l}const Ne={topStoriesCount:15,showPublicationTime:!0,articlesPerPage:21,autoRefreshInterval:15},dt=()=>{const[e,o]=R("article-layout-settings",Ne);return{settings:e,updateSettings:f=>{const i={...e,...f};"topStoriesCount"in f&&(i.articlesPerPage=6+i.topStoriesCount),o(i)},resetToDefaults:()=>{o(Ne)}}},ut=s.lazy(()=>$(()=>import("./AuraWallpaperRenderer-68F7fDYv.js"),__vite__mapDeps([0,1,2,3]))),ht=Ke.memo(({backgroundConfig:e,currentTheme:o})=>t.jsxs("div",{className:`fixed inset-0 z-[-1] transition-colors duration-500 ease-in-out ${e.type==="solid"?"bg-[rgb(var(--color-background))]":""}`,style:e.type==="gradient"||e.type==="image"||e.type==="aura"?{backgroundImage:e.value,backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundAttachment:e.type==="image"?"fixed":"scroll",backgroundColor:`rgb(${o.colors.background})`}:{backgroundColor:e.value||`rgb(${o.colors.background})`},children:[e.type==="aura"&&e.auraSettings&&t.jsx("div",{className:"absolute inset-0",children:t.jsx(s.Suspense,{fallback:null,children:t.jsx(ut,{config:{...e.auraSettings,width:window.innerWidth,height:window.innerHeight},className:"w-full h-full",lowQuality:!1})})}),e.type!=="solid"&&t.jsx("div",{className:`absolute inset-0 ${e.type==="image"?"bg-black/30":"bg-black/40"}`}),e.type!=="solid"&&t.jsx("div",{className:"absolute inset-x-0 bottom-0 h-[30vh]",style:{background:"linear-gradient(to bottom, transparent, rgb(var(--color-background)))"}})]})),mt=s.lazy(()=>$(()=>import("./Header-DgUnHDIa.js"),__vite__mapDeps([4,1,2,3,5,6,7]))),ft=s.lazy(()=>$(()=>import("./FeedContent-DJyxBthb.js").then(e=>e.b),__vite__mapDeps([8,5,1,2,3,6,9])).then(e=>({default:e.FeedContent}))),pt=s.lazy(()=>$(()=>import("./Modal-CkT4Dsbi.js"),__vite__mapDeps([10,1,2,3])).then(e=>({default:e.Modal}))),yt=s.lazy(()=>$(()=>import("./FeedManager-CsYHERw1.js"),__vite__mapDeps([11,1,2,3,5,6,7,12,10,13,14])).then(e=>({default:e.FeedManager}))),gt=s.lazy(()=>$(()=>import("./SettingsSidebar-CLpTHliB.js"),__vite__mapDeps([15,5,1,2,3,6,13,16,0,12,7])).then(e=>({default:e.SettingsSidebar}))),bt=s.lazy(()=>$(()=>import("./KeyboardShortcutsModal-CiZUOXUL.js"),__vite__mapDeps([17,1,2,3,10])).then(e=>({default:e.KeyboardShortcutsModal}))),xt=s.lazy(()=>$(()=>import("./FavoritesModal-xgmlgC4Z.js"),__vite__mapDeps([18,1,2,3,10,9,5,6,7,13,16,14])).then(e=>({default:e.FavoritesModal}))),wt=s.lazy(()=>$(()=>import("./performance-o4eTjbDj.js").then(e=>e.P),__vite__mapDeps([1,2,3]))),vt=()=>{const{feeds:e,setFeeds:o,articles:c,loadingState:d,loadFeeds:f,refreshFeeds:i,retryFailedFeeds:l,cancelLoading:n}=Be(),{isFeedManagerOpen:g,isSettingsOpen:k,isFavoritesOpen:b,isShortcutsOpen:m,openFeedManager:r,openSettings:h,openFavorites:a,openShortcuts:u,closeFeedManager:y,closeSettings:C,closeFavorites:x,closeShortcuts:p}=Ue(),{isModalOpen:v}=He(),T=d.status==="loading"&&!d.isBackgroundRefresh,[M,F]=s.useState("all"),[S,O]=s.useState(null),{currentTheme:N,themeSettings:L,backgroundConfig:P,applyLayoutPreset:Q,updateHeaderConfig:X,refreshAppearance:he}=nt(),{categories:I,getCategorizedFeeds:Ae}=lt(),J=Ae(e),[me,Fe]=R("time-format",ue.timeFormat),[re,fe]=s.useState([]),[V,pe]=s.useState(!1),[se,ye]=s.useState(""),[Ee,ge]=s.useState({}),{settings:K}=dt(),[Ie,be]=s.useState(!1);s.useEffect(()=>{if(L.themeTransitions){const w=requestAnimationFrame(()=>{be(!0)}),j=setTimeout(()=>be(!1),300);return()=>{cancelAnimationFrame(w),clearTimeout(j)}}},[N.id,L.themeTransitions]),s.useEffect(()=>{if(K.autoRefreshInterval>0&&e.length>0){const w=K.autoRefreshInterval*60*1e3;console.log(`Setting up auto-refresh every ${K.autoRefreshInterval} minutes`);const j=setInterval(()=>{console.log("Triggering auto-refresh..."),i()},w);return()=>clearInterval(j)}},[K.autoRefreshInterval,e.length,i]);const ae=s.useCallback(()=>{i(M)},[i,M]),De=s.useCallback((w,j)=>{ye(w),ge(j),pe(!!w.trim())},[]),Oe=s.useCallback(w=>{fe(w)},[]),ze=s.useCallback(()=>{ye(""),ge({}),pe(!1),fe([])},[]),B=s.useCallback(w=>{w>=0&&w<I.length&&F(I[w].id)},[I]),xe=s.useCallback(()=>{const w=document.querySelector('input[type="search"], input[placeholder*="Search"]');w&&w.focus()},[]),we=s.useDeferredValue(c),G=s.useMemo(()=>{const w=we;let j;if(S)j=w.filter(A=>A.feedUrl===S);else if(V&&re.length>=0)j=re;else if(M==="all"||M==="All"){const A=J.all||[];if(A.length===e.length)j=w;else{const E=new Set(A.map(D=>D.url));j=w.filter(D=>D.feedUrl&&E.has(D.feedUrl))}}else{const A=I.find(E=>E.id===M);if(A){const E=J[M]||[],D=new Set(E.map(U=>U.url));j=w.filter(U=>{const ve=U.feedUrl&&D.has(U.feedUrl);if(A.autoDiscovery===!1)return ve;const $e=U.categories?.some(Pe=>Pe.toLowerCase()===A.name.toLowerCase());return ve||$e})}else j=w.filter(E=>E.categories?.some(D=>D.toLowerCase()===M.toLowerCase()))}return j},[V,re,we,M,I,J,e,S]),z=it(G.length,K.articlesPerPage,{persistInUrl:!0,resetTriggers:[M,V,se]}),Z=s.useCallback((w,j)=>{he(),F(w);const A=I.find(E=>E.id===w);A&&(A.layoutMode&&Q(A.layoutMode,!1),A.headerPosition&&X({position:A.headerPosition},!1)),O(j||null),z.resetPagination(),window.scrollTo({top:0,behavior:"smooth"})},[I,z,Q,X,he]),_e=s.useMemo(()=>[{key:"k",ctrlKey:!0,action:xe,description:"Open search"},{key:"r",ctrlKey:!0,action:ae,description:"Refresh articles"},{key:"m",ctrlKey:!0,action:r,description:"Manage feeds"},{key:"s",ctrlKey:!0,action:h,description:"Open settings"},{key:"f",ctrlKey:!0,action:a,description:"Open favorites"},{key:"h",ctrlKey:!0,action:u,description:"Show keyboard shortcuts"},{key:"?",action:u,description:"Show keyboard shortcuts"},{key:"1",action:()=>B(0),description:"Select All category"},{key:"2",action:()=>B(1),description:"Select Tech category"},{key:"3",action:()=>B(2),description:"Select Reviews category"},{key:"4",action:()=>B(3),description:"Select Science category"},{key:"5",action:()=>B(4),description:"Select Entertainment category"},{key:"6",action:()=>B(5),description:"Select AI category"}],[xe,ae,B,r,h,a,u]);Je({shortcuts:_e,enableArrowNavigation:!0,onArrowNavigation:w=>{if(w==="up"||w==="down"){const j=document.querySelectorAll('article a, [role="article"] a'),A=document.activeElement,E=Array.from(j).findIndex(U=>U===A);let D;w==="down"?D=E<j.length-1?E+1:0:D=E>0?E-1:j.length-1,j[D]&&j[D].focus()}}});const ne=G.slice(z.startIndex,z.endIndex),Re=ct({onSwipeLeft:()=>{const w=I.findIndex(j=>j.id===M);w<I.length-1&&Z(I[w+1].id)},onSwipeRight:()=>{const w=I.findIndex(j=>j.id===M);w>0&&Z(I[w-1].id)},threshold:75});return t.jsxs(t.Fragment,{children:[t.jsx(ht,{backgroundConfig:P,currentTheme:N}),t.jsxs("div",{className:`text-[rgb(var(--color-text))] min-h-screen font-sans antialiased relative flex flex-col theme-transition-all ${Ie?"theme-change-animation":""}`,children:[t.jsx(qe,{}),!v&&t.jsx(s.Suspense,{fallback:t.jsx("div",{className:"h-16 w-full bg-black/10 animate-pulse"}),children:t.jsx(mt,{onManageFeedsClick:r,onRefreshClick:ae,selectedCategory:M,onNavigation:Z,categorizedFeeds:J,onOpenSettings:h,onOpenFavorites:a,articles:c,onSearch:De,onSearchResultsChange:Oe,categories:I,onGoHome:()=>Z("all")})}),t.jsxs("main",{ref:Re,id:"main-content",className:"w-full min-h-screen relative z-10 flex-grow pt-8 pb-6 lg:pt-8 lg:pb-8",tabIndex:-1,children:[d.status==="loading"&&t.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-12",children:d.priorityFeedsLoaded?t.jsx(Me,{loadedFeeds:d.loadedFeeds,totalFeeds:d.totalFeeds,progress:d.progress,isBackgroundRefresh:d.isBackgroundRefresh,errors:d.errors,currentAction:d.currentAction,onCancel:n,onRetryErrors:l,priorityFeedsLoaded:!0}):t.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh] w-full max-w-2xl mx-auto",children:t.jsx(Me,{loadedFeeds:d.loadedFeeds,totalFeeds:d.totalFeeds,progress:d.progress,isBackgroundRefresh:d.isBackgroundRefresh,errors:d.errors,currentAction:d.currentAction,onCancel:n,onRetryErrors:l,className:"w-full"})})}),V&&t.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-12",children:t.jsxs("div",{className:"mb-6 flex items-center justify-between bg-gray-800 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"text-[rgb(var(--color-accent))]",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-[rgb(var(--color-text))] font-medium",children:['Search results for "',se,'"']}),t.jsxs("p",{className:"text-[rgb(var(--color-textSecondary))] text-sm",children:[G.length," article",G.length!==1?"s":""," found",Object.keys(Ee).length>0&&" with filters applied"]})]})]}),t.jsx("button",{onClick:ze,className:"text-[rgb(var(--color-textSecondary))] hover:text-[rgb(var(--color-text))] transition-colors px-3 py-1 rounded border border-[rgb(var(--color-border))] hover:border-[rgb(var(--color-text))]",children:"Clear Search"})]})}),T&&c.length===0&&t.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-12",children:t.jsx(je,{count:K.articlesPerPage})}),ne.length>0&&t.jsxs(t.Fragment,{children:[t.jsx(s.Suspense,{fallback:t.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-12",children:t.jsx(je,{count:3})}),children:t.jsx(ft,{articles:ne,timeFormat:me,selectedCategory:M})}),z.totalPages>1&&t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-12 mt-8 flex flex-col items-center space-y-4",children:[t.jsx(Qe,{currentPage:z.currentPage,totalPages:z.totalPages,onPageChange:z.setPage,isNavigating:z.isNavigating,compact:!1}),t.jsx("div",{className:"sm:hidden text-center text-[rgb(var(--color-textSecondary))] text-xs",children:t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16l-4-4m0 0l4-4m-4 4h18"})}),t.jsx("span",{children:"Swipe to change category"}),t.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})]}),!T&&d.status!=="loading"&&ne.length===0&&G.length===0&&t.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-12",children:V?t.jsxs("div",{className:"text-center text-[rgb(var(--color-textSecondary))] py-20",children:[t.jsx("div",{className:"mb-4",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-[rgb(var(--color-textSecondary))]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t.jsx("h3",{className:"text-xl font-semibold mb-2 text-[rgb(var(--color-text))]",children:"No search results found"}),t.jsxs("p",{className:"mb-4",children:['No articles match your search for "',se,'"']}),t.jsx("button",{onClick:r,className:"bg-[rgb(var(--color-accent))] hover:bg-[rgb(var(--color-accent-dark))] text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Clear Search"})]}):c.length>0?t.jsxs("p",{className:"text-center text-[rgb(var(--color-textSecondary))]",children:['No articles found for the category "',M,'".']}):e.length>0?t.jsx("p",{className:"text-center text-[rgb(var(--color-textSecondary))]",children:"No articles found from the provided feeds. Check your network or the feed URLs."}):t.jsxs("div",{className:"text-center text-[rgb(var(--color-textSecondary))] py-20",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Welcome to your News Dashboard!"}),t.jsx("p",{className:"mb-6",children:"You don't have any RSS feeds yet."}),t.jsx("button",{onClick:r,className:"bg-[rgb(var(--color-accent))] hover:bg-[rgb(var(--color-accent-dark))] text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Add Your First Feed"})]})})]}),t.jsxs(s.Suspense,{fallback:null,children:[t.jsx(pt,{isOpen:g,onClose:y,size:"full",children:t.jsx(yt,{currentFeeds:e,setFeeds:o,closeModal:y,onRefreshFeeds:()=>f(!0)})}),t.jsx(gt,{isOpen:k,onClose:C,timeFormat:me,setTimeFormat:Fe}),t.jsx(xt,{isOpen:b,onClose:x}),t.jsx(bt,{isOpen:m,onClose:p})]}),t.jsx(s.Suspense,{fallback:null,children:t.jsx(wt,{})})]})]})},Nt=Object.freeze(Object.defineProperty({__proto__:null,default:vt},Symbol.toStringTag,{value:"Module"}));export{Nt as A,et as D,je as F,Se as L,Tt as P,nt as a,dt as b,St as c,Ze as d,jt as g,lt as u};
