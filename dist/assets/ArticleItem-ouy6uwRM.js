import{r as i,u as x,j as t}from"./performance-DGt_hWBo.js";import{A as p}from"./ArticleImage-mTbK1QK_.js";import{F as b}from"./videoEmbed-CIFIcgq3.js";import{u as v}from"./useFavorites-CBvJ39Hs.js";import{k as w,b as j}from"./index-qehJ29F6.js";const N=i.memo(()=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{d:"M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H9.828a1 1 0 00-.707.293l-2.828 2.828a1 1 0 01-1.414 0l-2.828-2.828A1 1 0 002.172 17H4a2 2 0 01-2-2V5z"})}));N.displayName="ChatBubbleIcon";const y=i.memo(({filled:e=!1})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:e?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}));y.displayName="HeartIcon";const T=({article:e,index:u=0,timeFormat:a="24h",onClick:r})=>{const{startRenderTiming:c,endRenderTiming:m}=x(),{isFavorite:d,toggleFavorite:h}=v(),{settings:g}=w(),{contentConfig:n}=j();i.useEffect(()=>(c(),()=>{m()}),[c,m]),d(e),i.useCallback(s=>{s.preventDefault(),s.stopPropagation(),h(e)},[h,e]);const f=s=>{const l=Math.floor((new Date().getTime()-s.getTime())/1e3);let o=l/31536e3;return o>1?Math.floor(o)+" years ago":(o=l/2592e3,o>1?Math.floor(o)+" months ago":(o=l/86400,o>1?Math.floor(o)+" days ago":(o=l/3600,o>1?Math.floor(o)+" hours ago":(o=l/60,o>1?Math.floor(o)+" minutes ago":Math.floor(l)+" seconds ago"))))};return t.jsx("article",{className:"h-full flex flex-col",children:t.jsxs("div",{className:"flex flex-col h-full group",children:[t.jsxs("div",{className:"relative mb-4 bg-gray-800 rounded-lg overflow-hidden h-40 sm:h-32 lg:h-40",children:[t.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",onClick:s=>{r&&(s.preventDefault(),r(e))},className:"block w-full h-full cursor-pointer","aria-hidden":"true",tabIndex:-1,children:t.jsx(p,{article:e,width:400,height:200,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"})}),t.jsx("div",{className:"absolute top-2 left-2 bg-black/70 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold pointer-events-none z-10",children:u}),t.jsx(b,{article:e,size:"medium",position:"overlay",className:"top-2 right-2 z-10 opacity-0 group-hover:opacity-100"})]}),t.jsx("div",{className:"flex-1 flex flex-col",children:t.jsxs("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col group",onClick:s=>{r&&(s.preventDefault(),r(e))},"aria-label":`Article: ${e.title} from ${e.author||e.sourceTitle}`,children:[n.showTags&&t.jsx("div",{className:"mb-2",children:t.jsx("span",{className:"inline-block bg-[rgb(var(--color-accent))]/20 text-[rgb(var(--color-accent))] px-2 py-0.5 rounded text-xs font-medium uppercase tracking-wide truncate max-w-full",children:e.sourceTitle})}),t.jsx("h4",{className:"font-bold text-base lg:text-lg leading-tight group-hover:underline text-gray-100 mb-3 line-clamp-3",children:e.title}),t.jsxs("div",{className:"mt-auto space-y-2",children:[t.jsx("div",{className:"flex items-center justify-between text-xs text-gray-400",children:n.showAuthor&&e.author&&t.jsx("span",{className:"truncate max-w-[120px]","aria-label":`Author: ${e.author}`,title:e.author,children:e.author})}),(n.showDate||n.showTime)&&t.jsx("time",{className:"text-gray-500 text-xs block",dateTime:e.pubDate.toISOString(),"aria-label":`Published ${f(e.pubDate)}`,children:g.showPublicationTime||n.showTime?a==="12h"?`${e.pubDate.toLocaleDateString()} às ${e.pubDate.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",hour12:!0})}`:`${e.pubDate.toLocaleDateString()} às ${e.pubDate.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",hour12:!1})}`:f(e.pubDate)})]})]})})]})})},k=(e,u)=>{if(e.index!==u.index)return!1;const a=e.article,r=u.article;return a.title===r.title&&a.link===r.link&&a.pubDate.getTime()===r.pubDate.getTime()&&a.sourceTitle===r.sourceTitle&&a.imageUrl===r.imageUrl&&a.author===r.author},S=i.memo(T,k);export{S as A};
