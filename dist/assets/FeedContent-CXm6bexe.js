const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MasonryLayout-K9DplwgQ.js","assets/performance-o4eTjbDj.js","assets/react-vendor-Cgg2GOmP.js","assets/services-Cgo2Rk-m.js","assets/FeaturedArticle-V_CFJoIL.js","assets/AppContent-DDdf7jwS.js","assets/index-CY0uw9Qf.js","assets/index-S09NgZdw.css","assets/OptimizedImage-BAqbAOA1.js","assets/ArticleReaderModal-CfE0ui-D.js","assets/useFavorites-ajOYLTeq.js","assets/MinimalLayout-DJvDcc5a.js","assets/SmallOptimizedImage-Bktx4lvp.js","assets/PortalLayout-Dc1PJv-Z.js","assets/ImmersiveLayout-nRtnmZYc.js","assets/BrutalistLayout-Clf-oNj6.js","assets/TimelineLayout-DEAgTFpc.js","assets/BentoLayout-BY6jzz3x.js","assets/ModernPortalLayout-BNOhVw-8.js","assets/NewspaperLayout-BXb-f5WB.js","assets/FocusLayout-DCNVgiMh.js","assets/GalleryLayout-C-Svqe07.js","assets/CompactLayout-CHT4v0Sc.js","assets/SplitLayout-BWIE2qI8.js","assets/CyberpunkLayout-CsfFzsCG.js","assets/TerminalLayout-Cwv6CfDo.js","assets/PocketFeedsLayout-BD6Ji8xQ.js"])))=>i.map(i=>d[i]);
import{f as go,d as po,_ as ye}from"./index-CY0uw9Qf.js";import{a as D,j as c,r as F,u as xo,w as vo}from"./performance-o4eTjbDj.js";import{b as bo,a as Rr,u as yo,F as To}from"./AppContent-DDdf7jwS.js";import{L as _o,u as wo}from"./useFavorites-ajOYLTeq.js";import{n as No,k as Eo}from"./services-Cgo2Rk-m.js";const wt=0,Ge=1,tt=2,kr=4;function nr(e){return()=>e}function So(e){e()}function Lr(e,r){return t=>e(r(t))}function sr(e,r){return()=>e(r)}function Io(e,r){return t=>e(r,t)}function Ft(e){return e!==void 0}function Ao(...e){return()=>{e.map(So)}}function rt(){}function Nt(e,r){return r(e),e}function Co(e,r){return r(e)}function ie(...e){return e}function Z(e,r){return e(Ge,r)}function G(e,r){e(wt,r)}function Gt(e){e(tt)}function le(e){return e(kr)}function B(e,r){return Z(e,Io(r,wt))}function De(e,r){const t=e(Ge,o=>{t(),r(o)});return t}function lr(e){let r,t;return o=>i=>{r=i,t&&clearTimeout(t),t=setTimeout(()=>{o(r)},e)}}function jr(e,r){return e===r}function oe(e=jr){let r;return t=>o=>{e(r,o)||(r=o,t(o))}}function M(e){return r=>t=>{e(t)&&r(t)}}function k(e){return r=>Lr(r,e)}function Be(e){return r=>()=>{r(e)}}function w(e,...r){const t=Ro(...r);return((o,i)=>{switch(o){case tt:Gt(e);return;case Ge:return Z(e,t(i))}})}function He(e,r){return t=>o=>{t(r=e(r,o))}}function qe(e){return r=>t=>{e>0?e--:r(t)}}function Me(e){let r=null,t;return o=>i=>{r=i,!t&&(t=setTimeout(()=>{t=void 0,o(r)},e))}}function V(...e){const r=new Array(e.length);let t=0,o=null;const i=Math.pow(2,e.length)-1;return e.forEach((n,a)=>{const s=Math.pow(2,a);Z(n,l=>{const u=t;t=t|s,r[a]=l,u!==i&&t===i&&o&&(o(),o=null)})}),n=>a=>{const s=()=>{n([a].concat(r))};t===i?s():o=s}}function Ro(...e){return r=>e.reduceRight(Co,r)}function ko(e){let r,t;const o=()=>r?.();return function(i,n){switch(i){case Ge:return n?t===n?void 0:(o(),t=n,r=Z(e,n),r):(o(),rt);case tt:o(),t=null;return}}}function E(e){let r=e;const t=X();return((o,i)=>{switch(o){case wt:r=i;break;case Ge:{i(r);break}case kr:return r}return t(o,i)})}function be(e,r){return Nt(E(r),t=>B(e,t))}function X(){const e=[];return((r,t)=>{switch(r){case wt:e.slice().forEach(o=>{o(t)});return;case tt:e.splice(0,e.length);return;case Ge:return e.push(t),()=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)}}})}function Ce(e){return Nt(X(),r=>B(e,r))}function K(e,r=[],{singleton:t}={singleton:!0}){return{constructor:e,dependencies:r,id:Lo(),singleton:t}}const Lo=()=>Symbol();function jo(e){const r=new Map,t=({constructor:o,dependencies:i,id:n,singleton:a})=>{if(a&&r.has(n))return r.get(n);const s=o(i.map(l=>t(l)));return a&&r.set(n,s),s};return t(e)}function fe(...e){const r=X(),t=new Array(e.length);let o=0;const i=Math.pow(2,e.length)-1;return e.forEach((n,a)=>{const s=Math.pow(2,a);Z(n,l=>{t[a]=l,o=o|s,o===i&&G(r,t)})}),function(n,a){switch(n){case tt:{Gt(r);return}case Ge:return o===i&&a(t),Z(r,a)}}}function P(e,r=jr){return w(e,oe(r))}function Bt(...e){return function(r,t){switch(r){case tt:return;case Ge:return Ao(...e.map(o=>Z(o,t)))}}}var Se=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(Se||{});const Do={0:"debug",3:"error",1:"log",2:"warn"},zo=()=>typeof globalThis>"u"?window:globalThis,Ve=K(()=>{const e=E(3);return{log:E((r,t,o=1)=>{var i;const n=(i=zo().VIRTUOSO_LOG_LEVEL)!=null?i:le(e);o>=n&&console[Do[o]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",r,t)}),logLevel:e}},[],{singleton:!0});function Ye(e,r,t){return Vt(e,r,t).callbackRef}function Vt(e,r,t){const o=D.useRef(null);let i=a=>{};const n=D.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(a=>{const s=()=>{const l=a[0].target;l.offsetParent!==null&&e(l)};t?s():requestAnimationFrame(s)}):null,[e,t]);return i=a=>{a&&r?(n?.observe(a),o.current=a):(o.current&&n?.unobserve(o.current),o.current=null)},{callbackRef:i,ref:o}}function Bo(e,r,t,o,i,n,a,s,l){const u=D.useCallback(h=>{const f=Ho(h.children,r,s?"offsetWidth":"offsetHeight",i);let d=h.parentElement;for(;!d.dataset.virtuosoScroller;)d=d.parentElement;const x=d.lastElementChild.dataset.viewportType==="window";let b;x&&(b=d.ownerDocument.defaultView);const y=a?s?a.scrollLeft:a.scrollTop:x?s?b.scrollX||b.document.documentElement.scrollLeft:b.scrollY||b.document.documentElement.scrollTop:s?d.scrollLeft:d.scrollTop,v=a?s?a.scrollWidth:a.scrollHeight:x?s?b.document.documentElement.scrollWidth:b.document.documentElement.scrollHeight:s?d.scrollWidth:d.scrollHeight,g=a?s?a.offsetWidth:a.offsetHeight:x?s?b.innerWidth:b.innerHeight:s?d.offsetWidth:d.offsetHeight;o({scrollHeight:v,scrollTop:Math.max(y,0),viewportHeight:g}),n?.(s?ar("column-gap",getComputedStyle(h).columnGap,i):ar("row-gap",getComputedStyle(h).rowGap,i)),f!==null&&e(f)},[e,r,i,n,a,o,s]);return Vt(u,t,l)}function Ho(e,r,t,o){const i=e.length;if(i===0)return null;const n=[];for(let a=0;a<i;a++){const s=e.item(a);if(s.dataset.index===void 0)continue;const l=parseInt(s.dataset.index),u=parseFloat(s.dataset.knownSize),h=r(s,t);if(h===0&&o("Zero-sized element, this should not happen",{child:s},Se.ERROR),h===u)continue;const f=n[n.length-1];n.length===0||f.size!==h||f.endIndex!==l-1?n.push({endIndex:l,size:h,startIndex:l}):n[n.length-1].endIndex++}return n}function ar(e,r,t){return r!=="normal"&&!(r!=null&&r.endsWith("px"))&&t(`${e} was not resolved to pixel value correctly`,r,Se.WARN),r==="normal"?0:parseInt(r??"0",10)}function Dr(e,r,t){const o=D.useRef(null),i=D.useCallback(l=>{if(!(l!=null&&l.offsetParent))return;const u=l.getBoundingClientRect(),h=u.width;let f,d;if(r){const x=r.getBoundingClientRect(),b=u.top-x.top;d=x.height-Math.max(0,b),f=b+r.scrollTop}else{const x=a.current.ownerDocument.defaultView;d=x.innerHeight-Math.max(0,u.top),f=u.top+x.scrollY}o.current={offsetTop:f,visibleHeight:d,visibleWidth:h},e(o.current)},[e,r]),{callbackRef:n,ref:a}=Vt(i,!0,t),s=D.useCallback(()=>{i(a.current)},[i,a]);return D.useEffect(()=>{var l;if(r){r.addEventListener("scroll",s);const u=new ResizeObserver(()=>{requestAnimationFrame(s)});return u.observe(r),()=>{r.removeEventListener("scroll",s),u.unobserve(r)}}else{const u=(l=a.current)==null?void 0:l.ownerDocument.defaultView;return u?.addEventListener("scroll",s),u?.addEventListener("resize",s),()=>{u?.removeEventListener("scroll",s),u?.removeEventListener("resize",s)}}},[s,r,a]),n}const Ne=K(()=>{const e=X(),r=X(),t=E(0),o=X(),i=E(0),n=X(),a=X(),s=E(0),l=E(0),u=E(0),h=E(0),f=X(),d=X(),x=E(!1),b=E(!1),y=E(!1);return B(w(e,k(({scrollTop:v})=>v)),r),B(w(e,k(({scrollHeight:v})=>v)),a),B(r,i),{deviation:t,fixedFooterHeight:u,fixedHeaderHeight:l,footerHeight:h,headerHeight:s,horizontalDirection:b,scrollBy:d,scrollContainerState:e,scrollHeight:a,scrollingInProgress:x,scrollTo:f,scrollTop:r,skipAnimationFrameInResizeObserver:y,smoothScrollTargetReached:o,statefulScrollTop:i,viewportHeight:n}},[],{singleton:!0}),st={lvl:0};function zr(e,r){const t=e.length;if(t===0)return[];let{index:o,value:i}=r(e[0]);const n=[];for(let a=1;a<t;a++){const{index:s,value:l}=r(e[a]);n.push({end:s-1,start:o,value:i}),o=s,i=l}return n.push({end:1/0,start:o,value:i}),n}function Q(e){return e===st}function lt(e,r){if(!Q(e))return r===e.k?e.v:r<e.k?lt(e.l,r):lt(e.r,r)}function ze(e,r,t="k"){if(Q(e))return[-1/0,void 0];if(Number(e[t])===r)return[e.k,e.v];if(Number(e[t])<r){const o=ze(e.r,r,t);return o[0]===-1/0?[e.k,e.v]:o}return ze(e.l,r,t)}function Ae(e,r,t){return Q(e)?Pr(r,t,1):r===e.k?me(e,{k:r,v:t}):r<e.k?cr(me(e,{l:Ae(e.l,r,t)})):cr(me(e,{r:Ae(e.r,r,t)}))}function Qe(){return st}function et(e,r,t){if(Q(e))return[];const o=ze(e,r)[0];return Po(Pt(e,o,t))}function Ht(e,r){if(Q(e))return st;const{k:t,l:o,r:i}=e;if(r===t){if(Q(o))return i;if(Q(i))return o;{const[n,a]=Hr(o);return vt(me(e,{k:n,l:Br(o),v:a}))}}else return r<t?vt(me(e,{l:Ht(o,r)})):vt(me(e,{r:Ht(i,r)}))}function Xe(e){return Q(e)?[]:[...Xe(e.l),{k:e.k,v:e.v},...Xe(e.r)]}function Pt(e,r,t){if(Q(e))return[];const{k:o,l:i,r:n,v:a}=e;let s=[];return o>r&&(s=s.concat(Pt(i,r,t))),o>=r&&o<=t&&s.push({k:o,v:a}),o<=t&&(s=s.concat(Pt(n,r,t))),s}function vt(e){const{l:r,lvl:t,r:o}=e;if(o.lvl>=t-1&&r.lvl>=t-1)return e;if(t>o.lvl+1){if(It(r))return Mr(me(e,{lvl:t-1}));if(!Q(r)&&!Q(r.r))return me(r.r,{l:me(r,{r:r.r.l}),lvl:t,r:me(e,{l:r.r.r,lvl:t-1})});throw new Error("Unexpected empty nodes")}else{if(It(e))return Mt(me(e,{lvl:t-1}));if(!Q(o)&&!Q(o.l)){const i=o.l,n=It(i)?o.lvl-1:o.lvl;return me(i,{l:me(e,{lvl:t-1,r:i.l}),lvl:i.lvl+1,r:Mt(me(o,{l:i.r,lvl:n}))})}else throw new Error("Unexpected empty nodes")}}function me(e,r){return Pr(r.k!==void 0?r.k:e.k,r.v!==void 0?r.v:e.v,r.lvl!==void 0?r.lvl:e.lvl,r.l!==void 0?r.l:e.l,r.r!==void 0?r.r:e.r)}function Br(e){return Q(e.r)?e.l:vt(me(e,{r:Br(e.r)}))}function It(e){return Q(e)||e.lvl>e.r.lvl}function Hr(e){return Q(e.r)?[e.k,e.v]:Hr(e.r)}function Pr(e,r,t,o=st,i=st){return{k:e,l:o,lvl:t,r:i,v:r}}function cr(e){return Mt(Mr(e))}function Mr(e){const{l:r}=e;return!Q(r)&&r.lvl===e.lvl?me(r,{r:me(e,{l:r.r})}):e}function Mt(e){const{lvl:r,r:t}=e;return!Q(t)&&!Q(t.r)&&t.lvl===r&&t.r.lvl===r?me(t,{l:me(e,{r:t.l}),lvl:r+1}):e}function Po(e){return zr(e,({k:r,v:t})=>({index:r,value:t}))}function Or(e,r){return!!(e&&e.startIndex===r.startIndex&&e.endIndex===r.endIndex)}function at(e,r){return!!(e&&e[0]===r[0]&&e[1]===r[1])}const Ut=K(()=>({recalcInProgress:E(!1)}),[],{singleton:!0});function Wr(e,r,t){return e[Tt(e,r,t)]}function Tt(e,r,t,o=0){let i=e.length-1;for(;o<=i;){const n=Math.floor((o+i)/2),a=e[n],s=t(a,r);if(s===0)return n;if(s===-1){if(i-o<2)return n-1;i=n-1}else{if(i===o)return n;o=n+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${r}`)}function Mo(e,r,t,o){const i=Tt(e,r,o),n=Tt(e,t,o,i);return e.slice(i,n+1)}function Fe(e,r){return Math.round(e.getBoundingClientRect()[r])}function Et(e){return!Q(e.groupOffsetTree)}function $t({index:e},r){return r===e?0:r<e?-1:1}function Oo(){return{groupIndices:[],groupOffsetTree:Qe(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:Qe()}}function Wo(e,r){let t=Q(e)?0:1/0;for(const o of r){const{endIndex:i,size:n,startIndex:a}=o;if(t=Math.min(t,a),Q(e)){e=Ae(e,0,n);continue}const s=et(e,a-1,i+1);if(s.some(qo(o)))continue;let l=!1,u=!1;for(const{end:h,start:f,value:d}of s)l?(i>=f||n===d)&&(e=Ht(e,f)):(u=d!==n,l=!0),h>i&&i>=f&&d!==n&&(e=Ae(e,i+1,d));u&&(e=Ae(e,a,n))}return[e,t]}function Fo(e){return typeof e.groupIndex<"u"}function Go({offset:e},r){return r===e?0:r<e?-1:1}function ct(e,r,t){if(r.length===0)return 0;const{index:o,offset:i,size:n}=Wr(r,e,$t),a=e-o,s=n*a+(a-1)*t+i;return s>0?s+t:s}function Fr(e,r){if(!Et(r))return e;let t=0;for(;r.groupIndices[t]<=e+t;)t++;return e+t}function Gr(e,r,t){if(Fo(e))return r.groupIndices[e.groupIndex]+1;{const o=e.index==="LAST"?t:e.index;let i=Fr(o,r);return i=Math.max(0,i,Math.min(t,i)),i}}function Vo(e,r,t,o=0){return o>0&&(r=Math.max(r,Wr(e,o,$t).offset)),zr(Mo(e,r,t,Go),Xo)}function Uo(e,[r,t,o,i]){r.length>0&&o("received item sizes",r,Se.DEBUG);const n=e.sizeTree;let a=n,s=0;if(t.length>0&&Q(n)&&r.length===2){const d=r[0].size,x=r[1].size;a=t.reduce((b,y)=>Ae(Ae(b,y,d),y+1,x),a)}else[a,s]=Wo(a,r);if(a===n)return e;const{lastIndex:l,lastOffset:u,lastSize:h,offsetTree:f}=Ot(e.offsetTree,s,a,i);return{groupIndices:t,groupOffsetTree:t.reduce((d,x)=>Ae(d,x,ct(x,f,i)),Qe()),lastIndex:l,lastOffset:u,lastSize:h,offsetTree:f,sizeTree:a}}function $o(e){return Xe(e).map(({k:r,v:t},o,i)=>{const n=i[o+1];return{endIndex:n?n.k-1:1/0,size:t,startIndex:r}})}function ur(e,r){let t=0,o=0;for(;t<e;)t+=r[o+1]-r[o]-1,o++;return o-(t===e?0:1)}function Ot(e,r,t,o){let i=e,n=0,a=0,s=0,l=0;if(r!==0){l=Tt(i,r-1,$t),s=i[l].offset;const u=ze(t,r-1);n=u[0],a=u[1],i.length&&i[l].size===ze(t,r)[1]&&(l-=1),i=i.slice(0,l+1)}else i=[];for(const{start:u,value:h}of et(t,r,1/0)){const f=u-n,d=f*a+s+f*o;i.push({index:u,offset:d,size:h}),n=u,s=d,a=h}return{lastIndex:n,lastOffset:s,lastSize:a,offsetTree:i}}function Xo(e){return{index:e.index,value:e}}function qo(e){const{endIndex:r,size:t,startIndex:o}=e;return i=>i.start===o&&(i.end===r||i.end===1/0)&&i.value===t}const Yo={offsetHeight:"height",offsetWidth:"width"},Pe=K(([{log:e},{recalcInProgress:r}])=>{const t=X(),o=X(),i=be(o,0),n=X(),a=X(),s=E(0),l=E([]),u=E(void 0),h=E(void 0),f=E(void 0),d=E(void 0),x=E((m,T)=>Fe(m,Yo[T])),b=E(void 0),y=E(0),v=Oo(),g=be(w(t,V(l,e,y),He(Uo,v),oe()),v),p=be(w(l,oe(),He((m,T)=>({current:T,prev:m.current}),{current:[],prev:[]}),k(({prev:m})=>m)),[]);B(w(l,M(m=>m.length>0),V(g,y),k(([m,T,S])=>{const _=m.reduce((j,I,z)=>Ae(j,I,ct(I,T.offsetTree,S)||z),Qe());return{...T,groupIndices:m,groupOffsetTree:_}})),g),B(w(o,V(g),M(([m,{lastIndex:T}])=>m<T),k(([m,{lastIndex:T,lastSize:S}])=>[{endIndex:T,size:S,startIndex:m}])),t),B(u,h);const N=be(w(u,k(m=>m===void 0)),!0);B(w(h,M(m=>m!==void 0&&Q(le(g).sizeTree)),k(m=>{const T=le(f),S=le(l).length>0;return T?S?[{endIndex:0,size:T,startIndex:0},{endIndex:1,size:m,startIndex:1}]:[]:[{endIndex:0,size:m,startIndex:0}]})),t),B(w(d,M(m=>m!==void 0&&m.length>0&&Q(le(g).sizeTree)),k(m=>{const T=[];let S=m[0],_=0;for(let j=1;j<m.length;j++){const I=m[j];I!==S&&(T.push({endIndex:j-1,size:S,startIndex:_}),S=I,_=j)}return T.push({endIndex:m.length-1,size:S,startIndex:_}),T})),t),B(w(l,V(f,h),M(([,m,T])=>m!==void 0&&T!==void 0),k(([m,T,S])=>{const _=[];for(let j=0;j<m.length;j++){const I=m[j],z=m[j+1];_.push({startIndex:I,endIndex:I,size:T}),z!==void 0&&_.push({startIndex:I+1,endIndex:z-1,size:S})}return _})),t);const R=Ce(w(t,V(g),He(({sizes:m},[T,S])=>({changed:S!==m,sizes:S}),{changed:!1,sizes:v}),k(m=>m.changed)));Z(w(s,He((m,T)=>({diff:m.prev-T,prev:T}),{diff:0,prev:0}),k(m=>m.diff)),m=>{const{groupIndices:T}=le(g);if(m>0)G(r,!0),G(n,m+ur(m,T));else if(m<0){const S=le(p);S.length>0&&(m-=ur(-m,S)),G(a,m)}}),Z(w(s,V(e)),([m,T])=>{m<0&&T("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},Se.ERROR)});const C=Ce(n);B(w(n,V(g),k(([m,T])=>{const S=T.groupIndices.length>0,_=[],j=T.lastSize;if(S){const I=lt(T.sizeTree,0);let z=0,H=0;for(;z<m;){const Y=T.groupIndices[H],J=T.groupIndices.length===H+1?1/0:T.groupIndices[H+1]-Y-1;_.push({endIndex:Y,size:I,startIndex:Y}),_.push({endIndex:Y+1+J-1,size:j,startIndex:Y+1}),H++,z+=J+1}const W=Xe(T.sizeTree);return z!==m&&W.shift(),W.reduce((Y,{k:J,v:ge})=>{let Te=Y.ranges;return Y.prevSize!==0&&(Te=[...Y.ranges,{endIndex:J+m-1,size:Y.prevSize,startIndex:Y.prevIndex}]),{prevIndex:J+m,prevSize:ge,ranges:Te}},{prevIndex:m,prevSize:0,ranges:_}).ranges}return Xe(T.sizeTree).reduce((I,{k:z,v:H})=>({prevIndex:z+m,prevSize:H,ranges:[...I.ranges,{endIndex:z+m-1,size:I.prevSize,startIndex:I.prevIndex}]}),{prevIndex:0,prevSize:j,ranges:[]}).ranges})),t);const L=Ce(w(a,V(g,y),k(([m,{offsetTree:T},S])=>{const _=-m;return ct(_,T,S)})));return B(w(a,V(g,y),k(([m,T,S])=>{if(T.groupIndices.length>0){if(Q(T.sizeTree))return T;let _=Qe();const j=le(p);let I=0,z=0,H=0;for(;I<-m;){H=j[z];const W=j[z+1]-H-1;z++,I+=W+1}if(_=Xe(T.sizeTree).reduce((W,{k:Y,v:J})=>Ae(W,Math.max(0,Y+m),J),_),I!==-m){const W=lt(T.sizeTree,H);_=Ae(_,0,W);const Y=ze(T.sizeTree,-m+1)[1];_=Ae(_,1,Y)}return{...T,sizeTree:_,...Ot(T.offsetTree,0,_,S)}}else{const _=Xe(T.sizeTree).reduce((j,{k:I,v:z})=>Ae(j,Math.max(0,I+m),z),Qe());return{...T,sizeTree:_,...Ot(T.offsetTree,0,_,S)}}})),g),{beforeUnshiftWith:C,data:b,defaultItemSize:h,firstItemIndex:s,fixedItemSize:u,fixedGroupSize:f,gap:y,groupIndices:l,heightEstimates:d,itemSize:x,listRefresh:R,shiftWith:a,shiftWithOffset:L,sizeRanges:t,sizes:g,statefulTotalCount:i,totalCount:o,trackItemSizes:N,unshiftWith:n}},ie(Ve,Ut),{singleton:!0});function Ko(e){return e.reduce((r,t)=>(r.groupIndices.push(r.totalCount),r.totalCount+=t+1,r),{groupIndices:[],totalCount:0})}const Vr=K(([{groupIndices:e,sizes:r,totalCount:t},{headerHeight:o,scrollTop:i}])=>{const n=X(),a=X(),s=Ce(w(n,k(Ko)));return B(w(s,k(l=>l.totalCount)),t),B(w(s,k(l=>l.groupIndices)),e),B(w(fe(i,r,o),M(([l,u])=>Et(u)),k(([l,u,h])=>ze(u.groupOffsetTree,Math.max(l-h,0),"v")[0]),oe(),k(l=>[l])),a),{groupCounts:n,topItemsIndexes:a}},ie(Pe,Ne)),Ue=K(([{log:e}])=>{const r=E(!1),t=Ce(w(r,M(o=>o),oe()));return Z(r,o=>{o&&le(e)("props updated",{},Se.DEBUG)}),{didMount:t,propsReady:r}},ie(Ve),{singleton:!0}),Jo=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Ur(e){const r=typeof e=="number"?{index:e}:e;return r.align||(r.align="start"),(!r.behavior||!Jo)&&(r.behavior="auto"),r.offset||(r.offset=0),r}const ft=K(([{gap:e,listRefresh:r,sizes:t,totalCount:o},{fixedFooterHeight:i,fixedHeaderHeight:n,footerHeight:a,headerHeight:s,scrollingInProgress:l,scrollTo:u,smoothScrollTargetReached:h,viewportHeight:f},{log:d}])=>{const x=X(),b=X(),y=E(0);let v=null,g=null,p=null;function N(){v&&(v(),v=null),p&&(p(),p=null),g&&(clearTimeout(g),g=null),G(l,!1)}return B(w(x,V(t,f,o,y,s,a,d),V(e,n,i),k(([[R,C,L,m,T,S,_,j],I,z,H])=>{const W=Ur(R),{align:Y,behavior:J,offset:ge}=W,Te=m-1,xe=Gr(W,C,Te);let ee=ct(xe,C.offsetTree,I)+S;Y==="end"?(ee+=z+ze(C.sizeTree,xe)[1]-L+H,xe===Te&&(ee+=_)):Y==="center"?ee+=(z+ze(C.sizeTree,xe)[1]-L+H)/2:ee-=T,ge&&(ee+=ge);const Re=_e=>{N(),_e?(j("retrying to scroll to",{location:R},Se.DEBUG),G(x,R)):(G(b,!0),j("list did not change, scroll successful",{},Se.DEBUG))};if(N(),J==="smooth"){let _e=!1;p=Z(r,Ie=>{_e=_e||Ie}),v=De(h,()=>{Re(_e)})}else v=De(w(r,Zo(150)),Re);return g=setTimeout(()=>{N()},1200),G(l,!0),j("scrolling from index to",{behavior:J,index:xe,top:ee},Se.DEBUG),{behavior:J,top:ee}})),u),{scrollTargetReached:b,scrollToIndex:x,topListHeight:y}},ie(Pe,Ne,Ve),{singleton:!0});function Zo(e){return r=>{const t=setTimeout(()=>{r(!1)},e);return o=>{o&&(r(!0),clearTimeout(t))}}}function Xt(e,r){e==0?r():requestAnimationFrame(()=>{Xt(e-1,r)})}function qt(e,r){const t=r-1;return typeof e=="number"?e:e.index==="LAST"?t:e.index}const mt=K(([{defaultItemSize:e,listRefresh:r,sizes:t},{scrollTop:o},{scrollTargetReached:i,scrollToIndex:n},{didMount:a}])=>{const s=E(!0),l=E(0),u=E(!0);return B(w(a,V(l),M(([h,f])=>!!f),Be(!1)),s),B(w(a,V(l),M(([h,f])=>!!f),Be(!1)),u),Z(w(fe(r,a),V(s,t,e,u),M(([[,h],f,{sizeTree:d},x,b])=>h&&(!Q(d)||Ft(x))&&!f&&!b),V(l)),([,h])=>{De(i,()=>{G(u,!0)}),Xt(4,()=>{De(o,()=>{G(s,!0)}),G(n,h)})}),{initialItemFinalLocationReached:u,initialTopMostItemIndex:l,scrolledToInitialItem:s}},ie(Pe,Ne,ft,Ue),{singleton:!0});function $r(e,r){return Math.abs(e-r)<1.01}const ut="up",ot="down",Qo="none",ei={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},ti=0,gt=K(([{footerHeight:e,headerHeight:r,scrollBy:t,scrollContainerState:o,scrollTop:i,viewportHeight:n}])=>{const a=E(!1),s=E(!0),l=X(),u=X(),h=E(4),f=E(ti),d=be(w(Bt(w(P(i),qe(1),Be(!0)),w(P(i),qe(1),Be(!1),lr(100))),oe()),!1),x=be(w(Bt(w(t,Be(!0)),w(t,Be(!1),lr(200))),oe()),!1);B(w(fe(P(i),P(f)),k(([p,N])=>p<=N),oe()),s),B(w(s,Me(50)),u);const b=Ce(w(fe(o,P(n),P(r),P(e),P(h)),He((p,[{scrollHeight:N,scrollTop:R},C,L,m,T])=>{const S=R+C-N>-T,_={scrollHeight:N,scrollTop:R,viewportHeight:C};if(S){let I,z;return R>p.state.scrollTop?(I="SCROLLED_DOWN",z=p.state.scrollTop-R):(I="SIZE_DECREASED",z=p.state.scrollTop-R||p.scrollTopDelta),{atBottom:!0,atBottomBecause:I,scrollTopDelta:z,state:_}}let j;return _.scrollHeight>p.state.scrollHeight?j="SIZE_INCREASED":C<p.state.viewportHeight?j="VIEWPORT_HEIGHT_DECREASING":R<p.state.scrollTop?j="SCROLLING_UPWARDS":j="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:j,state:_}},ei),oe((p,N)=>p&&p.atBottom===N.atBottom))),y=be(w(o,He((p,{scrollHeight:N,scrollTop:R,viewportHeight:C})=>{if($r(p.scrollHeight,N))return{changed:!1,jump:0,scrollHeight:N,scrollTop:R};{const L=N-(R+C)<1;return p.scrollTop!==R&&L?{changed:!0,jump:p.scrollTop-R,scrollHeight:N,scrollTop:R}:{changed:!0,jump:0,scrollHeight:N,scrollTop:R}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),M(p=>p.changed),k(p=>p.jump)),0);B(w(b,k(p=>p.atBottom)),a),B(w(a,Me(50)),l);const v=E(ot);B(w(o,k(({scrollTop:p})=>p),oe(),He((p,N)=>le(x)?{direction:p.direction,prevScrollTop:N}:{direction:N<p.prevScrollTop?ut:ot,prevScrollTop:N},{direction:ot,prevScrollTop:0}),k(p=>p.direction)),v),B(w(o,Me(50),Be(Qo)),v);const g=E(0);return B(w(d,M(p=>!p),Be(0)),g),B(w(i,Me(100),V(d),M(([p,N])=>N),He(([p,N],[R])=>[N,R],[0,0]),k(([p,N])=>N-p)),g),{atBottomState:b,atBottomStateChange:l,atBottomThreshold:h,atTopStateChange:u,atTopThreshold:f,isAtBottom:a,isAtTop:s,isScrolling:d,lastJumpDueToItemResize:y,scrollDirection:v,scrollVelocity:g}},ie(Ne)),ht="top",dt="bottom",hr="none";function dr(e,r,t){return typeof e=="number"?t===ut&&r===ht||t===ot&&r===dt?e:0:t===ut?r===ht?e.main:e.reverse:r===dt?e.main:e.reverse}function fr(e,r){var t;return typeof e=="number"?e:(t=e[r])!=null?t:0}const Yt=K(([{deviation:e,fixedHeaderHeight:r,headerHeight:t,scrollTop:o,viewportHeight:i}])=>{const n=X(),a=E(0),s=E(0),l=E(0),u=be(w(fe(P(o),P(i),P(t),P(n,at),P(l),P(a),P(r),P(e),P(s)),k(([h,f,d,[x,b],y,v,g,p,N])=>{const R=h-p,C=v+g,L=Math.max(d-R,0);let m=hr;const T=fr(N,ht),S=fr(N,dt);return x-=p,x+=d+g,b+=d+g,b-=p,x>h+C-T&&(m=ut),b<h-L+f+S&&(m=ot),m!==hr?[Math.max(R-d-dr(y,ht,m)-T,0),R-L-g+f+dr(y,dt,m)+S]:null}),M(h=>h!=null),oe(at)),[0,0]);return{increaseViewportBy:s,listBoundary:n,overscan:l,topListHeight:a,visibleRange:u}},ie(Ne),{singleton:!0});function ri(e,r,t){if(Et(r)){const o=Fr(e,r);return[{index:ze(r.groupOffsetTree,o)[0],offset:0,size:0},{data:t?.[0],index:o,offset:0,size:0}]}return[{data:t?.[0],index:e,offset:0,size:0}]}const At={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function bt(e,r,t,o,i,n){const{lastIndex:a,lastOffset:s,lastSize:l}=i;let u=0,h=0;if(e.length>0){u=e[0].offset;const y=e[e.length-1];h=y.offset+y.size}const f=t-a,d=s+f*l+(f-1)*o,x=u,b=d-h;return{bottom:h,firstItemIndex:n,items:mr(e,i,n),offsetBottom:b,offsetTop:u,top:x,topItems:mr(r,i,n),topListHeight:r.reduce((y,v)=>v.size+y,0),totalCount:t}}function Xr(e,r,t,o,i,n){let a=0;if(t.groupIndices.length>0)for(const h of t.groupIndices){if(h-a>=e)break;a++}const s=e+a,l=qt(r,s),u=Array.from({length:s}).map((h,f)=>({data:n[f+l],index:f+l,offset:0,size:0}));return bt(u,[],s,i,t,o)}function mr(e,r,t){if(e.length===0)return[];if(!Et(r))return e.map(u=>({...u,index:u.index+t,originalIndex:u.index}));const o=e[0].index,i=e[e.length-1].index,n=[],a=et(r.groupOffsetTree,o,i);let s,l=0;for(const u of e){(!s||s.end<u.index)&&(s=a.shift(),l=r.groupIndices.indexOf(s.start));let h;u.index===s.start?h={index:l,type:"group"}:h={groupIndex:l,index:u.index-(l+1)+t},n.push({...h,data:u.data,offset:u.offset,originalIndex:u.index,size:u.size})}return n}function gr(e,r){var t;return e===void 0?0:typeof e=="number"?e:(t=e[r])!=null?t:0}const Ke=K(([{data:e,firstItemIndex:r,gap:t,sizes:o,totalCount:i},n,{listBoundary:a,topListHeight:s,visibleRange:l},{initialTopMostItemIndex:u,scrolledToInitialItem:h},{topListHeight:f},d,{didMount:x},{recalcInProgress:b}])=>{const y=E([]),v=E(0),g=X(),p=E(0);B(n.topItemsIndexes,y);const N=be(w(fe(x,b,P(l,at),P(i),P(o),P(u),h,P(y),P(r),P(t),P(p),e),M(([m,T,,S,,,,,,,,_])=>{const j=_&&_.length!==S;return m&&!T&&!j}),k(([,,[m,T],S,_,j,I,z,H,W,Y,J])=>{var ge,Te,xe,ee;const Re=_,{offsetTree:_e,sizeTree:Ie}=Re,Oe=le(v);if(S===0)return{...At,totalCount:S};if(m===0&&T===0)return Oe===0?{...At,totalCount:S}:Xr(Oe,j,_,H,W,J||[]);if(Q(Ie))return Oe>0?null:bt(ri(qt(j,S),Re,J),[],S,W,Re,H);const re=[];if(z.length>0){const ae=z[0],ne=z[z.length-1];let de=0;for(const ce of et(Ie,ae,ne)){const U=ce.value,$=Math.max(ce.start,ae),we=Math.min(ce.end,ne);for(let ue=$;ue<=we;ue++)re.push({data:J?.[ue],index:ue,offset:de,size:U}),de+=U}}if(!I)return bt([],re,S,W,Re,H);const Ee=z.length>0?z[z.length-1]+1:0,A=Vo(_e,m,T,Ee);if(A.length===0)return null;const q=S-1,te=Nt([],ae=>{for(const ne of A){const de=ne.value;let ce=de.offset,U=ne.start;const $=de.size;if(de.offset<m){U+=Math.floor((m-de.offset+W)/($+W));const ue=U-ne.start;ce+=ue*$+ue*W}U<Ee&&(ce+=(Ee-U)*$,U=Ee);const we=Math.min(ne.end,q);for(let ue=U;ue<=we&&!(ce>=T);ue++)ae.push({data:J?.[ue],index:ue,offset:ce,size:$}),ce+=$+W}}),he=gr(Y,ht),pe=gr(Y,dt);if(te.length>0&&(he>0||pe>0)){const ae=te[0],ne=te[te.length-1];if(he>0&&ae.index>Ee){const de=Math.min(he,ae.index-Ee),ce=[];let U=ae.offset;for(let $=ae.index-1;$>=ae.index-de;$--){const we=(Te=(ge=et(Ie,$,$)[0])==null?void 0:ge.value)!=null?Te:ae.size;U-=we+W,ce.unshift({data:J?.[$],index:$,offset:U,size:we})}te.unshift(...ce)}if(pe>0&&ne.index<q){const de=Math.min(pe,q-ne.index);let ce=ne.offset+ne.size+W;for(let U=ne.index+1;U<=ne.index+de;U++){const $=(ee=(xe=et(Ie,U,U)[0])==null?void 0:xe.value)!=null?ee:ne.size;te.push({data:J?.[U],index:U,offset:ce,size:$}),ce+=$+W}}}return bt(te,re,S,W,Re,H)}),M(m=>m!==null),oe()),At);B(w(e,M(Ft),k(m=>m?.length)),i),B(w(N,k(m=>m.topListHeight)),f),B(f,s),B(w(N,k(m=>[m.top,m.bottom])),a),B(w(N,k(m=>m.items)),g);const R=Ce(w(N,M(({items:m})=>m.length>0),V(i,e),M(([{items:m},T])=>m[m.length-1].originalIndex===T-1),k(([,m,T])=>[m-1,T]),oe(at),k(([m])=>m))),C=Ce(w(N,Me(200),M(({items:m,topItems:T})=>m.length>0&&m[0].originalIndex===T.length),k(({items:m})=>m[0].index),oe())),L=Ce(w(N,M(({items:m})=>m.length>0),k(({items:m})=>{let T=0,S=m.length-1;for(;m[T].type==="group"&&T<S;)T++;for(;m[S].type==="group"&&S>T;)S--;return{endIndex:m[S].index,startIndex:m[T].index}}),oe(Or)));return{endReached:R,initialItemCount:v,itemsRendered:g,listState:N,minOverscanItemCount:p,rangeChanged:L,startReached:C,topItemsIndexes:y,...d}},ie(Pe,Vr,Yt,mt,ft,gt,Ue,Ut),{singleton:!0}),qr=K(([{fixedFooterHeight:e,fixedHeaderHeight:r,footerHeight:t,headerHeight:o},{listState:i}])=>{const n=X(),a=be(w(fe(t,e,o,r,i),k(([s,l,u,h,f])=>s+l+u+h+f.offsetBottom+f.bottom)),0);return B(P(a),n),{totalListHeight:a,totalListHeightChanged:n}},ie(Ne,Ke),{singleton:!0}),oi=K(([{viewportHeight:e},{totalListHeight:r}])=>{const t=E(!1),o=be(w(fe(t,e,r),M(([i])=>i),k(([,i,n])=>Math.max(0,i-n)),Me(0),oe()),0);return{alignToBottom:t,paddingTopAddition:o}},ie(Ne,qr),{singleton:!0}),Yr=K(()=>({context:E(null)})),ii=({itemBottom:e,itemTop:r,locationParams:{align:t,behavior:o,...i},viewportBottom:n,viewportTop:a})=>r<a?{...i,align:t??"start",behavior:o}:e>n?{...i,align:t??"end",behavior:o}:null,Kr=K(([{gap:e,sizes:r,totalCount:t},{fixedFooterHeight:o,fixedHeaderHeight:i,headerHeight:n,scrollingInProgress:a,scrollTop:s,viewportHeight:l},{scrollToIndex:u}])=>{const h=X();return B(w(h,V(r,l,t,n,i,o,s),V(e),k(([[f,d,x,b,y,v,g,p],N])=>{const{align:R,behavior:C,calculateViewLocation:L=ii,done:m,...T}=f,S=Gr(f,d,b-1),_=ct(S,d.offsetTree,N)+y+v,j=_+ze(d.sizeTree,S)[1],I=p+v,z=p+x-g,H=L({itemBottom:j,itemTop:_,locationParams:{align:R,behavior:C,...T},viewportBottom:z,viewportTop:I});return H?m&&De(w(a,M(W=>!W),qe(le(a)?1:2)),m):m?.(),H}),M(f=>f!==null)),u),{scrollIntoView:h}},ie(Pe,Ne,ft,Ke,Ve),{singleton:!0});function pr(e){return e?e==="smooth"?"smooth":"auto":!1}const ni=(e,r)=>typeof e=="function"?pr(e(r)):r&&pr(e),si=K(([{listRefresh:e,totalCount:r,fixedItemSize:t,data:o},{atBottomState:i,isAtBottom:n},{scrollToIndex:a},{scrolledToInitialItem:s},{didMount:l,propsReady:u},{log:h},{scrollingInProgress:f},{context:d},{scrollIntoView:x}])=>{const b=E(!1),y=X();let v=null;function g(C){G(a,{align:"end",behavior:C,index:"LAST"})}Z(w(fe(w(P(r),qe(1)),l),V(P(b),n,s,f),k(([[C,L],m,T,S,_])=>{let j=L&&S,I="auto";return j&&(I=ni(m,T||_),j=j&&!!I),{followOutputBehavior:I,shouldFollow:j,totalCount:C}}),M(({shouldFollow:C})=>C)),({followOutputBehavior:C,totalCount:L})=>{v&&(v(),v=null),le(t)?requestAnimationFrame(()=>{le(h)("following output to ",{totalCount:L},Se.DEBUG),g(C)}):v=De(e,()=>{le(h)("following output to ",{totalCount:L},Se.DEBUG),g(C),v=null})});function p(C){const L=De(i,m=>{C&&!m.atBottom&&m.notAtBottomBecause==="SIZE_INCREASED"&&!v&&(le(h)("scrolling to bottom due to increased size",{},Se.DEBUG),g("auto"))});setTimeout(L,100)}Z(w(fe(P(b),r,u),M(([C,,L])=>C&&L),He(({value:C},[,L])=>({refreshed:C===L,value:L}),{refreshed:!1,value:0}),M(({refreshed:C})=>C),V(b,r)),([,C])=>{le(s)&&p(C!==!1)}),Z(y,()=>{p(le(b)!==!1)}),Z(fe(P(b),i),([C,L])=>{C&&!L.atBottom&&L.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&g("auto")});const N=E(null),R=X();return B(Bt(w(P(o),k(C=>{var L;return(L=C?.length)!=null?L:0})),w(P(r))),R),Z(w(fe(w(R,qe(1)),l),V(P(N),s,f,d),k(([[C,L],m,T,S,_])=>L&&T&&m?.({context:_,totalCount:C,scrollingInProgress:S})),M(C=>!!C),Me(0)),C=>{v&&(v(),v=null),le(t)?requestAnimationFrame(()=>{le(h)("scrolling into view",{}),G(x,C)}):v=De(e,()=>{le(h)("scrolling into view",{}),G(x,C),v=null})}),{autoscrollToBottom:y,followOutput:b,scrollIntoViewOnChange:N}},ie(Pe,gt,ft,mt,Ue,Ve,Ne,Yr,Kr)),li=K(([{data:e,firstItemIndex:r,gap:t,sizes:o},{initialTopMostItemIndex:i},{initialItemCount:n,listState:a},{didMount:s}])=>(B(w(s,V(n),M(([,l])=>l!==0),V(i,o,r,t,e),k(([[,l],u,h,f,d,x=[]])=>Xr(l,u,h,f,d,x))),a),{}),ie(Pe,mt,Ke,Ue),{singleton:!0}),ai=K(([{didMount:e},{scrollTo:r},{listState:t}])=>{const o=E(0);return Z(w(e,V(o),M(([,i])=>i!==0),k(([,i])=>({top:i}))),i=>{De(w(t,qe(1),M(n=>n.items.length>1)),()=>{requestAnimationFrame(()=>{G(r,i)})})}),{initialScrollTop:o}},ie(Ue,Ne,Ke),{singleton:!0}),Jr=K(([{scrollVelocity:e}])=>{const r=E(!1),t=X(),o=E(!1);return B(w(e,V(o,r,t),M(([i,n])=>!!n),k(([i,n,a,s])=>{const{enter:l,exit:u}=n;if(a){if(u(i,s))return!1}else if(l(i,s))return!0;return a}),oe()),r),Z(w(fe(r,e,t),V(o)),([[i,n,a],s])=>{i&&s&&s.change&&s.change(n,a)}),{isSeeking:r,scrollSeekConfiguration:o,scrollSeekRangeChanged:t,scrollVelocity:e}},ie(gt),{singleton:!0}),Kt=K(([{scrollContainerState:e,scrollTo:r}])=>{const t=X(),o=X(),i=X(),n=E(!1),a=E(void 0);return B(w(fe(t,o),k(([{scrollHeight:s,scrollTop:l,viewportHeight:u},{offsetTop:h}])=>({scrollHeight:s,scrollTop:Math.max(0,l-h),viewportHeight:u}))),e),B(w(r,V(o),k(([s,{offsetTop:l}])=>({...s,top:s.top+l}))),i),{customScrollParent:a,useWindowScroll:n,windowScrollContainerState:t,windowScrollTo:i,windowViewportRect:o}},ie(Ne)),ci=K(([{sizeRanges:e,sizes:r},{headerHeight:t,scrollTop:o},{initialTopMostItemIndex:i},{didMount:n},{useWindowScroll:a,windowScrollContainerState:s,windowViewportRect:l}])=>{const u=X(),h=E(void 0),f=E(null),d=E(null);return B(s,f),B(l,d),Z(w(u,V(r,o,a,f,d,t)),([x,b,y,v,g,p,N])=>{const R=$o(b.sizeTree);v&&g!==null&&p!==null&&(y=g.scrollTop-p.offsetTop),y-=N,x({ranges:R,scrollTop:y})}),B(w(h,M(Ft),k(ui)),i),B(w(n,V(h),M(([,x])=>x!==void 0),oe(),k(([,x])=>x.ranges)),e),{getState:u,restoreStateFrom:h}},ie(Pe,Ne,mt,Ue,Kt));function ui(e){return{align:"start",index:0,offset:e.scrollTop}}const hi=K(([{topItemsIndexes:e}])=>{const r=E(0);return B(w(r,M(t=>t>=0),k(t=>Array.from({length:t}).map((o,i)=>i))),e),{topItemCount:r}},ie(Ke));function Zr(e){let r=!1,t;return(()=>(r||(r=!0,t=e()),t))}const di=Zr(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),fi=K(([{deviation:e,scrollBy:r,scrollingInProgress:t,scrollTop:o},{isAtBottom:i,isScrolling:n,lastJumpDueToItemResize:a,scrollDirection:s},{listState:l},{beforeUnshiftWith:u,gap:h,shiftWithOffset:f,sizes:d},{log:x},{recalcInProgress:b}])=>{const y=Ce(w(l,V(a),He(([,g,p,N],[{bottom:R,items:C,offsetBottom:L,totalCount:m},T])=>{const S=R+L;let _=0;return p===m&&g.length>0&&C.length>0&&(C[0].originalIndex===0&&g[0].originalIndex===0||(_=S-N,_!==0&&(_+=T))),[_,C,m,S]},[0,[],0,0]),M(([g])=>g!==0),V(o,s,t,i,x,b),M(([,g,p,N,,,R])=>!R&&!N&&g!==0&&p===ut),k(([[g],,,,,p])=>(p("Upward scrolling compensation",{amount:g},Se.DEBUG),g))));function v(g){g>0?(G(r,{behavior:"auto",top:-g}),G(e,0)):(G(e,0),G(r,{behavior:"auto",top:-g}))}return Z(w(y,V(e,n)),([g,p,N])=>{N&&di()?G(e,p-g):v(-g)}),Z(w(fe(be(n,!1),e,b),M(([g,p,N])=>!g&&!N&&p!==0),k(([g,p])=>p),Me(1)),v),B(w(f,k(g=>({top:-g}))),r),Z(w(u,V(d,h),k(([g,{groupIndices:p,lastSize:N,sizeTree:R},C])=>{function L(m){return m*(N+C)}if(p.length===0)return L(g);{let m=0;const T=lt(R,0);let S=0,_=0;for(;S<g;){S++,m+=T;let j=p.length===_+1?1/0:p[_+1]-p[_]-1;S+j>g&&(m-=T,j=g-S+1),S+=j,m+=L(j),_++}return m}})),g=>{G(e,g),requestAnimationFrame(()=>{G(r,{top:g}),requestAnimationFrame(()=>{G(e,0),G(b,!1)})})}),{deviation:e}},ie(Ne,gt,Ke,Pe,Ve,Ut)),mi=K(([e,r,t,o,i,n,a,s,l,u,h])=>({...e,...r,...t,...o,...i,...n,...a,...s,...l,...u,...h}),ie(Yt,li,Ue,Jr,qr,ai,oi,Kt,Kr,Ve,Yr)),Qr=K(([{data:e,defaultItemSize:r,firstItemIndex:t,fixedItemSize:o,fixedGroupSize:i,gap:n,groupIndices:a,heightEstimates:s,itemSize:l,sizeRanges:u,sizes:h,statefulTotalCount:f,totalCount:d,trackItemSizes:x},{initialItemFinalLocationReached:b,initialTopMostItemIndex:y,scrolledToInitialItem:v},g,p,N,R,{scrollToIndex:C},L,{topItemCount:m},{groupCounts:T},S])=>{const{listState:_,minOverscanItemCount:j,topItemsIndexes:I,rangeChanged:z,...H}=R;return B(z,S.scrollSeekRangeChanged),B(w(S.windowViewportRect,k(W=>W.visibleHeight)),g.viewportHeight),{data:e,defaultItemHeight:r,firstItemIndex:t,fixedItemHeight:o,fixedGroupHeight:i,gap:n,groupCounts:T,heightEstimates:s,initialItemFinalLocationReached:b,initialTopMostItemIndex:y,scrolledToInitialItem:v,sizeRanges:u,topItemCount:m,topItemsIndexes:I,totalCount:d,...N,groupIndices:a,itemSize:l,listState:_,minOverscanItemCount:j,scrollToIndex:C,statefulTotalCount:f,trackItemSizes:x,rangeChanged:z,...H,...S,...g,sizes:h,...p}},ie(Pe,mt,Ne,ci,si,Ke,ft,fi,hi,Vr,mi));function gi(e,r){const t={},o={};let i=0;const n=e.length;for(;i<n;)o[e[i]]=1,i+=1;for(const a in r)Object.hasOwn(o,a)||(t[a]=r[a]);return t}const pt=typeof document<"u"?D.useLayoutEffect:D.useEffect;function eo(e,r,t){const o=Object.keys(r.required||{}),i=Object.keys(r.optional||{}),n=Object.keys(r.methods||{}),a=Object.keys(r.events||{}),s=D.createContext({});function l(v,g){v.propsReady&&G(v.propsReady,!1);for(const p of o){const N=v[r.required[p]];G(N,g[p])}for(const p of i)if(p in g){const N=v[r.optional[p]];G(N,g[p])}v.propsReady&&G(v.propsReady,!0)}function u(v){return n.reduce((g,p)=>(g[p]=N=>{const R=v[r.methods[p]];G(R,N)},g),{})}function h(v){return a.reduce((g,p)=>(g[p]=ko(v[r.events[p]]),g),{})}const f=D.forwardRef((v,g)=>{const{children:p,...N}=v,[R]=D.useState(()=>Nt(jo(e),m=>{l(m,N)})),[C]=D.useState(sr(h,R));pt(()=>{for(const m of a)m in N&&Z(C[m],N[m]);return()=>{Object.values(C).map(Gt)}},[N,C,R]),pt(()=>{l(R,N)}),D.useImperativeHandle(g,nr(u(R)));const L=t;return c.jsx(s.Provider,{value:R,children:t?c.jsx(L,{...gi([...o,...i,...a],N),children:p}):p})}),d=v=>{const g=D.useContext(s);return D.useCallback(p=>{G(g[v],p)},[g,v])},x=v=>{const g=D.useContext(s)[v],p=D.useCallback(N=>Z(g,N),[g]);return D.useSyncExternalStore(p,()=>le(g),()=>le(g))},b=v=>{const g=D.useContext(s)[v],[p,N]=D.useState(sr(le,g));return pt(()=>Z(g,R=>{R!==p&&N(nr(R))}),[g,p]),p},y=D.version.startsWith("18")?x:b;return{Component:f,useEmitter:(v,g)=>{const p=D.useContext(s)[v];pt(()=>Z(p,g),[g,p])},useEmitterValue:y,usePublisher:d}}const to=D.createContext(void 0),ro=D.createContext(void 0),oo=typeof document<"u"?D.useLayoutEffect:D.useEffect;function Ct(e){return"self"in e}function pi(e){return"body"in e}function io(e,r,t,o=rt,i,n){const a=D.useRef(null),s=D.useRef(null),l=D.useRef(null),u=D.useCallback(d=>{let x,b,y;const v=d.target;if(pi(v)||Ct(v)){const p=Ct(v)?v:v.defaultView;y=n?p.scrollX:p.scrollY,x=n?p.document.documentElement.scrollWidth:p.document.documentElement.scrollHeight,b=n?p.innerWidth:p.innerHeight}else y=n?v.scrollLeft:v.scrollTop,x=n?v.scrollWidth:v.scrollHeight,b=n?v.offsetWidth:v.offsetHeight;const g=()=>{e({scrollHeight:x,scrollTop:Math.max(y,0),viewportHeight:b})};d.suppressFlushSync?g():go.flushSync(g),s.current!==null&&(y===s.current||y<=0||y===x-b)&&(s.current=null,r(!0),l.current&&(clearTimeout(l.current),l.current=null))},[e,r,n]);D.useEffect(()=>{const d=i||a.current;return o(i||a.current),u({suppressFlushSync:!0,target:d}),d.addEventListener("scroll",u,{passive:!0}),()=>{o(null),d.removeEventListener("scroll",u)}},[a,u,t,o,i]);function h(d){const x=a.current;if(!x||(n?"offsetWidth"in x&&x.offsetWidth===0:"offsetHeight"in x&&x.offsetHeight===0))return;const b=d.behavior==="smooth";let y,v,g;Ct(x)?(v=Math.max(Fe(x.document.documentElement,n?"width":"height"),n?x.document.documentElement.scrollWidth:x.document.documentElement.scrollHeight),y=n?x.innerWidth:x.innerHeight,g=n?window.scrollX:window.scrollY):(v=x[n?"scrollWidth":"scrollHeight"],y=Fe(x,n?"width":"height"),g=x[n?"scrollLeft":"scrollTop"]);const p=v-y;if(d.top=Math.ceil(Math.max(Math.min(p,d.top),0)),$r(y,v)||d.top===g){e({scrollHeight:v,scrollTop:g,viewportHeight:y}),b&&r(!0);return}b?(s.current=d.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,s.current=null,r(!0)},1e3)):s.current=null,n&&(d={behavior:d.behavior,left:d.top}),x.scrollTo(d)}function f(d){n&&(d={behavior:d.behavior,left:d.top}),a.current.scrollBy(d)}return{scrollByCallback:f,scrollerRef:a,scrollToCallback:h}}const Rt="-webkit-sticky",xr="sticky",Jt=Zr(()=>{if(typeof document>"u")return xr;const e=document.createElement("div");return e.style.position=Rt,e.style.position===Rt?Rt:xr});function Zt(e){return e}const xi=K(()=>{const e=E(s=>`Item ${s}`),r=E(s=>`Group ${s}`),t=E({}),o=E(Zt),i=E("div"),n=E(rt),a=(s,l=null)=>be(w(t,k(u=>u[s]),oe()),l);return{components:t,computeItemKey:o,EmptyPlaceholder:a("EmptyPlaceholder"),FooterComponent:a("Footer"),GroupComponent:a("Group","div"),groupContent:r,HeaderComponent:a("Header"),HeaderFooterTag:i,ItemComponent:a("Item","div"),itemContent:e,ListComponent:a("List","div"),ScrollerComponent:a("Scroller","div"),scrollerRef:n,ScrollSeekPlaceholder:a("ScrollSeekPlaceholder"),TopItemListComponent:a("TopItemList")}}),vi=K(([e,r])=>({...e,...r}),ie(Qr,xi)),bi=({height:e})=>c.jsx("div",{style:{height:e}}),yi={overflowAnchor:"none",position:Jt(),zIndex:1},no={overflowAnchor:"none"},Ti={...no,display:"inline-block",height:"100%"},vr=D.memo(function({showTopList:e=!1}){const r=O("listState"),t=ke("sizeRanges"),o=O("useWindowScroll"),i=O("customScrollParent"),n=ke("windowScrollContainerState"),a=ke("scrollContainerState"),s=i||o?n:a,l=O("itemContent"),u=O("context"),h=O("groupContent"),f=O("trackItemSizes"),d=O("itemSize"),x=O("log"),b=ke("gap"),y=O("horizontalDirection"),{callbackRef:v}=Bo(t,d,f,e?rt:s,x,b,i,y,O("skipAnimationFrameInResizeObserver")),[g,p]=D.useState(0);Qt("deviation",H=>{g!==H&&p(H)});const N=O("EmptyPlaceholder"),R=O("ScrollSeekPlaceholder")||bi,C=O("ListComponent"),L=O("ItemComponent"),m=O("GroupComponent"),T=O("computeItemKey"),S=O("isSeeking"),_=O("groupIndices").length>0,j=O("alignToBottom"),I=O("initialItemFinalLocationReached"),z=e?{}:{boxSizing:"border-box",...y?{display:"inline-block",height:"100%",marginLeft:g!==0?g:j?"auto":0,paddingLeft:r.offsetTop,paddingRight:r.offsetBottom,whiteSpace:"nowrap"}:{marginTop:g!==0?g:j?"auto":0,paddingBottom:r.offsetBottom,paddingTop:r.offsetTop},...I?{}:{visibility:"hidden"}};return!e&&r.totalCount===0&&N?c.jsx(N,{...ve(N,u)}):c.jsx(C,{...ve(C,u),"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",ref:v,style:z,children:(e?r.topItems:r.items).map(H=>{const W=H.originalIndex,Y=T(W+r.firstItemIndex,H.data,u);return S?F.createElement(R,{...ve(R,u),height:H.size,index:H.index,key:Y,type:H.type||"item",...H.type==="group"?{}:{groupIndex:H.groupIndex}}):H.type==="group"?F.createElement(m,{...ve(m,u),"data-index":W,"data-item-index":H.index,"data-known-size":H.size,key:Y,style:yi},h(H.index,u)):F.createElement(L,{...ve(L,u),...Ei(L,H.data),"data-index":W,"data-item-group-index":H.groupIndex,"data-item-index":H.index,"data-known-size":H.size,key:Y,style:y?Ti:no},_?l(H.index,H.groupIndex,H.data,u):l(H.index,H.data,u))})})}),_i={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},wi={outline:"none",overflowX:"auto",position:"relative"},St=e=>({height:"100%",position:"absolute",top:0,width:"100%",...e?{display:"flex",flexDirection:"column"}:{}}),Ni={position:Jt(),top:0,width:"100%",zIndex:1};function ve(e,r){if(typeof e!="string")return{context:r}}function Ei(e,r){return{item:typeof e=="string"?void 0:r}}const Si=D.memo(function(){const e=O("HeaderComponent"),r=ke("headerHeight"),t=O("HeaderFooterTag"),o=Ye(D.useMemo(()=>n=>{r(Fe(n,"height"))},[r]),!0,O("skipAnimationFrameInResizeObserver")),i=O("context");return e?c.jsx(t,{ref:o,children:c.jsx(e,{...ve(e,i)})}):null}),Ii=D.memo(function(){const e=O("FooterComponent"),r=ke("footerHeight"),t=O("HeaderFooterTag"),o=Ye(D.useMemo(()=>n=>{r(Fe(n,"height"))},[r]),!0,O("skipAnimationFrameInResizeObserver")),i=O("context");return e?c.jsx(t,{ref:o,children:c.jsx(e,{...ve(e,i)})}):null});function so({useEmitter:e,useEmitterValue:r,usePublisher:t}){return D.memo(function({children:o,style:i,context:n,...a}){const s=t("scrollContainerState"),l=r("ScrollerComponent"),u=t("smoothScrollTargetReached"),h=r("scrollerRef"),f=r("horizontalDirection")||!1,{scrollByCallback:d,scrollerRef:x,scrollToCallback:b}=io(s,u,l,h,void 0,f);return e("scrollTo",b),e("scrollBy",d),c.jsx(l,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:x,style:{...f?wi:_i,...i},tabIndex:0,...a,...ve(l,n),children:o})})}function lo({useEmitter:e,useEmitterValue:r,usePublisher:t}){return D.memo(function({children:o,style:i,context:n,...a}){const s=t("windowScrollContainerState"),l=r("ScrollerComponent"),u=t("smoothScrollTargetReached"),h=r("totalListHeight"),f=r("deviation"),d=r("customScrollParent"),x=D.useRef(null),b=r("scrollerRef"),{scrollByCallback:y,scrollerRef:v,scrollToCallback:g}=io(s,u,l,b,d);return oo(()=>{var p;return v.current=d||((p=x.current)==null?void 0:p.ownerDocument.defaultView),()=>{v.current=null}},[v,d]),e("windowScrollTo",g),e("scrollBy",y),c.jsx(l,{ref:x,"data-virtuoso-scroller":!0,style:{position:"relative",...i,...h!==0?{height:h+f}:{}},...a,...ve(l,n),children:o})})}const Ai=({children:e})=>{const r=D.useContext(to),t=ke("viewportHeight"),o=ke("fixedItemHeight"),i=O("alignToBottom"),n=O("horizontalDirection"),a=D.useMemo(()=>Lr(t,l=>Fe(l,n?"width":"height")),[t,n]),s=Ye(a,!0,O("skipAnimationFrameInResizeObserver"));return D.useEffect(()=>{r&&(t(r.viewportHeight),o(r.itemHeight))},[r,t,o]),c.jsx("div",{"data-viewport-type":"element",ref:s,style:St(i),children:e})},Ci=({children:e})=>{const r=D.useContext(to),t=ke("windowViewportRect"),o=ke("fixedItemHeight"),i=O("customScrollParent"),n=Dr(t,i,O("skipAnimationFrameInResizeObserver")),a=O("alignToBottom");return D.useEffect(()=>{r&&(o(r.itemHeight),t({offsetTop:0,visibleHeight:r.viewportHeight,visibleWidth:100}))},[r,t,o]),c.jsx("div",{"data-viewport-type":"window",ref:n,style:St(a),children:e})},Ri=({children:e})=>{const r=O("TopItemListComponent")||"div",t=O("headerHeight"),o={...Ni,marginTop:`${t}px`},i=O("context");return c.jsx(r,{style:o,...ve(r,i),children:e})},ki=D.memo(function(e){const r=O("useWindowScroll"),t=O("topItemsIndexes").length>0,o=O("customScrollParent"),i=O("context");return c.jsxs(o||r?Di:ji,{...e,context:i,children:[t&&c.jsx(Ri,{children:c.jsx(vr,{showTopList:!0})}),c.jsxs(o||r?Ci:Ai,{children:[c.jsx(Si,{}),c.jsx(vr,{}),c.jsx(Ii,{})]})]})}),{Component:Li,useEmitter:Qt,useEmitterValue:O,usePublisher:ke}=eo(vi,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",minOverscanItemCount:"minOverscanItemCount",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",heightEstimates:"heightEstimates",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},ki),ji=so({useEmitter:Qt,useEmitterValue:O,usePublisher:ke}),Di=lo({useEmitter:Qt,useEmitterValue:O,usePublisher:ke}),br=Li,zi=K(()=>{const e=E(u=>c.jsxs("td",{children:["Item $",u]})),r=E(null),t=E(u=>c.jsxs("td",{colSpan:1e3,children:["Group ",u]})),o=E(null),i=E(null),n=E({}),a=E(Zt),s=E(rt),l=(u,h=null)=>be(w(n,k(f=>f[u]),oe()),h);return{components:n,computeItemKey:a,context:r,EmptyPlaceholder:l("EmptyPlaceholder"),FillerRow:l("FillerRow"),fixedFooterContent:i,fixedHeaderContent:o,itemContent:e,groupContent:t,ScrollerComponent:l("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TableBodyComponent:l("TableBody","tbody"),TableComponent:l("Table","table"),TableFooterComponent:l("TableFoot","tfoot"),TableHeadComponent:l("TableHead","thead"),TableRowComponent:l("TableRow","tr"),GroupComponent:l("Group","tr")}});ie(Qr,zi);Jt();const yr={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},Bi={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:Tr,floor:_t,max:it,min:kt,round:_r}=Math;function wr(e,r,t){return Array.from({length:r-e+1}).map((o,i)=>({data:t===null?null:t[i+e],index:i+e}))}function Hi(e){return{...Bi,items:e}}function xt(e,r){return e&&e.width===r.width&&e.height===r.height}function Pi(e,r){return e&&e.column===r.column&&e.row===r.row}const Mi=K(([{increaseViewportBy:e,listBoundary:r,overscan:t,visibleRange:o},{footerHeight:i,headerHeight:n,scrollBy:a,scrollContainerState:s,scrollTo:l,scrollTop:u,smoothScrollTargetReached:h,viewportHeight:f},d,x,{didMount:b,propsReady:y},{customScrollParent:v,useWindowScroll:g,windowScrollContainerState:p,windowScrollTo:N,windowViewportRect:R},C])=>{const L=E(0),m=E(0),T=E(yr),S=E({height:0,width:0}),_=E({height:0,width:0}),j=X(),I=X(),z=E(0),H=E(null),W=E({column:0,row:0}),Y=X(),J=X(),ge=E(!1),Te=E(0),xe=E(!0),ee=E(!1),Re=E(!1);Z(w(b,V(Te),M(([A,q])=>!!q)),()=>{G(xe,!1)}),Z(w(fe(b,xe,_,S,Te,ee),M(([A,q,te,he,,pe])=>A&&!q&&te.height!==0&&he.height!==0&&!pe)),([,,,,A])=>{G(ee,!0),Xt(1,()=>{G(j,A)}),De(w(u),()=>{G(r,[0,0]),G(xe,!0)})}),B(w(J,M(A=>A!=null&&A.scrollTop>0),Be(0)),m),Z(w(b,V(J),M(([,A])=>A!=null)),([,A])=>{A&&(G(S,A.viewport),G(_,A.item),G(W,A.gap),A.scrollTop>0&&(G(ge,!0),De(w(u,qe(1)),q=>{G(ge,!1)}),G(l,{top:A.scrollTop})))}),B(w(S,k(({height:A})=>A)),f),B(w(fe(P(S,xt),P(_,xt),P(W,(A,q)=>A&&A.column===q.column&&A.row===q.row),P(u)),k(([A,q,te,he])=>({gap:te,item:q,scrollTop:he,viewport:A}))),Y),B(w(fe(P(L),o,P(W,Pi),P(_,xt),P(S,xt),P(H),P(m),P(ge),P(xe),P(Te)),M(([,,,,,,,A])=>!A),k(([A,[q,te],he,pe,ae,ne,de,,ce,U])=>{const{column:$,row:we}=he,{height:ue,width:je}=pe,{width:Je}=ae;if(de===0&&(A===0||Je===0))return yr;if(je===0){const ir=qt(U,A),mo=ir+Math.max(de-1,0);return Hi(wr(ir,mo,ne))}const We=ao(Je,je,$);let Ze,$e;ce?q===0&&te===0&&de>0?(Ze=0,$e=de-1):(Ze=We*_t((q+we)/(ue+we)),$e=We*Tr((te+we)/(ue+we))-1,$e=kt(A-1,it($e,We-1)),Ze=kt($e,it(0,Ze))):(Ze=0,$e=-1);const er=wr(Ze,$e,ne),{bottom:tr,top:rr}=Nr(ae,he,pe,er),or=Tr(A/We),fo=or*ue+(or-1)*we-tr;return{bottom:tr,itemHeight:ue,items:er,itemWidth:je,offsetBottom:fo,offsetTop:rr,top:rr}})),T),B(w(H,M(A=>A!==null),k(A=>A.length)),L),B(w(fe(S,_,T,W),M(([A,q,{items:te}])=>te.length>0&&q.height!==0&&A.height!==0),k(([A,q,{items:te},he])=>{const{bottom:pe,top:ae}=Nr(A,he,q,te);return[ae,pe]}),oe(at)),r);const _e=E(!1);B(w(u,V(_e),k(([A,q])=>q||A!==0)),_e);const Ie=Ce(w(fe(T,L),M(([{items:A}])=>A.length>0),V(_e),M(([[A,q],te])=>{const he=A.items[A.items.length-1].index===q-1;return(te||A.bottom>0&&A.itemHeight>0&&A.offsetBottom===0&&A.items.length===q)&&he}),k(([[,A]])=>A-1),oe())),Oe=Ce(w(P(T),M(({items:A})=>A.length>0&&A[0].index===0),Be(0),oe())),re=Ce(w(P(T),V(ge),M(([{items:A},q])=>A.length>0&&!q),k(([{items:A}])=>({endIndex:A[A.length-1].index,startIndex:A[0].index})),oe(Or),Me(0)));B(re,x.scrollSeekRangeChanged),B(w(j,V(S,_,L,W),k(([A,q,te,he,pe])=>{const ae=Ur(A),{align:ne,behavior:de,offset:ce}=ae;let U=ae.index;U==="LAST"&&(U=he-1),U=it(0,U,kt(he-1,U));let $=Wt(q,pe,te,U);return ne==="end"?$=_r($-q.height+te.height):ne==="center"&&($=_r($-q.height/2+te.height/2)),ce&&($+=ce),{behavior:de,top:$}})),l);const Ee=be(w(T,k(A=>A.offsetBottom+A.bottom)),0);return B(w(R,k(A=>({height:A.visibleHeight,width:A.visibleWidth}))),S),{customScrollParent:v,data:H,deviation:z,footerHeight:i,gap:W,headerHeight:n,increaseViewportBy:e,initialItemCount:m,itemDimensions:_,overscan:t,restoreStateFrom:J,scrollBy:a,scrollContainerState:s,scrollHeight:I,scrollTo:l,scrollToIndex:j,scrollTop:u,smoothScrollTargetReached:h,totalCount:L,useWindowScroll:g,viewportDimensions:S,windowScrollContainerState:p,windowScrollTo:N,windowViewportRect:R,...x,gridState:T,horizontalDirection:Re,initialTopMostItemIndex:Te,totalListHeight:Ee,...d,endReached:Ie,propsReady:y,rangeChanged:re,startReached:Oe,stateChanged:Y,stateRestoreInProgress:ge,...C}},ie(Yt,Ne,gt,Jr,Ue,Kt,Ve));function ao(e,r,t){return it(1,_t((e+t)/(_t(r)+t)))}function Nr(e,r,t,o){const{height:i}=t;if(i===void 0||o.length===0)return{bottom:0,top:0};const n=Wt(e,r,t,o[0].index);return{bottom:Wt(e,r,t,o[o.length-1].index)+i,top:n}}function Wt(e,r,t,o){const i=ao(e.width,t.width,r.column),n=_t(o/i),a=n*t.height+it(0,n-1)*r.row;return a>0?a+r.row:a}const Oi=K(()=>{const e=E(f=>`Item ${f}`),r=E({}),t=E(null),o=E("virtuoso-grid-item"),i=E("virtuoso-grid-list"),n=E(Zt),a=E("div"),s=E(rt),l=(f,d=null)=>be(w(r,k(x=>x[f]),oe()),d),u=E(!1),h=E(!1);return B(P(h),u),{components:r,computeItemKey:n,context:t,FooterComponent:l("Footer"),HeaderComponent:l("Header"),headerFooterTag:a,itemClassName:o,ItemComponent:l("Item","div"),itemContent:e,listClassName:i,ListComponent:l("List","div"),readyStateChanged:u,reportReadyState:h,ScrollerComponent:l("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder","div")}}),Wi=K(([e,r])=>({...e,...r}),ie(Mi,Oi)),Fi=D.memo(function(){const e=se("gridState"),r=se("listClassName"),t=se("itemClassName"),o=se("itemContent"),i=se("computeItemKey"),n=se("isSeeking"),a=Le("scrollHeight"),s=se("ItemComponent"),l=se("ListComponent"),u=se("ScrollSeekPlaceholder"),h=se("context"),f=Le("itemDimensions"),d=Le("gap"),x=se("log"),b=se("stateRestoreInProgress"),y=Le("reportReadyState"),v=Ye(D.useMemo(()=>g=>{const p=g.parentElement.parentElement.scrollHeight;a(p);const N=g.firstChild;if(N){const{height:R,width:C}=N.getBoundingClientRect();f({height:R,width:C})}d({column:Er("column-gap",getComputedStyle(g).columnGap,x),row:Er("row-gap",getComputedStyle(g).rowGap,x)})},[a,f,d,x]),!0,!1);return oo(()=>{e.itemHeight>0&&e.itemWidth>0&&y(!0)},[e]),b?null:c.jsx(l,{className:r,ref:v,...ve(l,h),"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(g=>{const p=i(g.index,g.data,h);return n?c.jsx(u,{...ve(u,h),height:e.itemHeight,index:g.index,width:e.itemWidth},p):F.createElement(s,{...ve(s,h),className:t,"data-index":g.index,key:p},o(g.index,g.data,h))})})}),Gi=D.memo(function(){const e=se("HeaderComponent"),r=Le("headerHeight"),t=se("headerFooterTag"),o=Ye(D.useMemo(()=>n=>{r(Fe(n,"height"))},[r]),!0,!1),i=se("context");return e?c.jsx(t,{ref:o,children:c.jsx(e,{...ve(e,i)})}):null}),Vi=D.memo(function(){const e=se("FooterComponent"),r=Le("footerHeight"),t=se("headerFooterTag"),o=Ye(D.useMemo(()=>n=>{r(Fe(n,"height"))},[r]),!0,!1),i=se("context");return e?c.jsx(t,{ref:o,children:c.jsx(e,{...ve(e,i)})}):null}),Ui=({children:e})=>{const r=D.useContext(ro),t=Le("itemDimensions"),o=Le("viewportDimensions"),i=Ye(D.useMemo(()=>n=>{o(n.getBoundingClientRect())},[o]),!0,!1);return D.useEffect(()=>{r&&(o({height:r.viewportHeight,width:r.viewportWidth}),t({height:r.itemHeight,width:r.itemWidth}))},[r,o,t]),c.jsx("div",{ref:i,style:St(!1),children:e})},$i=({children:e})=>{const r=D.useContext(ro),t=Le("windowViewportRect"),o=Le("itemDimensions"),i=se("customScrollParent"),n=Dr(t,i,!1);return D.useEffect(()=>{r&&(o({height:r.itemHeight,width:r.itemWidth}),t({offsetTop:0,visibleHeight:r.viewportHeight,visibleWidth:r.viewportWidth}))},[r,t,o]),c.jsx("div",{ref:n,style:St(!1),children:e})},Xi=D.memo(function({...e}){const r=se("useWindowScroll"),t=se("customScrollParent"),o=t||r?Ki:Yi,i=t||r?$i:Ui,n=se("context");return c.jsx(o,{...e,...ve(o,n),children:c.jsxs(i,{children:[c.jsx(Gi,{}),c.jsx(Fi,{}),c.jsx(Vi,{})]})})}),{Component:qi,useEmitter:co,useEmitterValue:se,usePublisher:Le}=eo(Wi,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},Xi),Yi=so({useEmitter:co,useEmitterValue:se,usePublisher:Le}),Ki=lo({useEmitter:co,useEmitterValue:se,usePublisher:Le});function Er(e,r,t){return r!=="normal"&&!(r!=null&&r.endsWith("px"))&&t(`${e} was not resolved to pixel value correctly`,r,Se.WARN),r==="normal"?0:parseInt(r??"0",10)}const Ji=qi,nt=F.memo(({article:e,className:r="",alt:t="",width:o,height:i,priority:n=!1,fill:a=!1})=>{const l=e.imageUrl!==void 0&&e.imageUrl!==null?`https://picsum.photos/seed/${encodeURIComponent(e.link)}/${o||1200}/${i||800}`:null,u=[e.imageUrl,l].filter(d=>typeof d=="string"&&d.length>0),h=u[0],f=u.slice(1);return F.useEffect(()=>{},[e.link,h,e.imageUrl,n,f.length,u]),!e.imageUrl&&u.length===0?c.jsx("div",{className:`${r} bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center`,style:{minHeight:i||200,minWidth:o||300},children:c.jsxs("div",{className:"text-center p-4 min-w-0 max-w-full",children:[c.jsx("div",{className:"text-gray-500 text-xs font-medium uppercase tracking-widest mb-2 truncate px-2",children:e.sourceTitle}),c.jsx("div",{className:"text-gray-600 text-xs",children:"Sem imagem"})]})}):c.jsx(_o,{src:h,fallbacks:f,alt:t||e.title,className:r,retryAttempts:2,retryDelay:500,priority:n,width:o,height:i,aspectRatio:a?void 0:"16/9",fill:a})});nt.displayName="ArticleImage";const uo=F.memo(({filled:e=!1,className:r=""})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,fill:e?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}));uo.displayName="HeartIcon";const Zi=({article:e,size:r="medium",position:t="overlay",className:o="","aria-label":i,title:n})=>{const{isFavorite:a,toggleFavorite:s}=wo(),l=a(e),u=F.useCallback(g=>{g.preventDefault(),g.stopPropagation(),s(e)},[s,e]),h=F.useCallback(g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),g.stopPropagation(),s(e))},[s,e]),f={small:{container:"w-6 h-6 p-1",icon:"h-3 w-3"},medium:{container:"w-8 h-8 p-1.5",icon:"h-4 w-4"},large:{container:"w-10 h-10 p-2",icon:"h-5 w-5"}},d={overlay:"absolute",inline:"relative"},x=`
    ${f[r].container}
    ${d[t]}
    rounded-full
    transition-all duration-200 ease-in-out
    flex items-center justify-center
    focus:outline-none
    focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent
    ${o}
  `,b=t==="overlay"?`
      bg-black/70 backdrop-blur-sm
      ${l?"text-red-500 hover:text-red-400 focus:ring-red-500":"text-white hover:text-red-500 focus:ring-white"}
      hover:bg-black/80
    `:`
      bg-gray-800/90 hover:bg-gray-700/90
      ${l?"text-red-500 hover:text-red-400 focus:ring-red-500":"text-gray-400 hover:text-red-500 focus:ring-gray-400"}
    `,y=l?"Remove from favorites":"Add to favorites",v=l?"Remove from favorites":"Add to favorites";return c.jsx("button",{onClick:u,onKeyDown:h,className:`${x} ${b}`,"aria-label":i||y,"aria-pressed":l,title:n||v,type:"button",role:"button",tabIndex:0,children:c.jsx(uo,{filled:l,className:f[r].icon})})},Qi=(e,r)=>e.article.link===r.article.link&&e.size===r.size&&e.position===r.position&&e.className===r.className&&e["aria-label"]===r["aria-label"]&&e.title===r.title,yt=F.memo(Zi,Qi),en=e=>{const r=Math.floor((new Date().getTime()-e.getTime())/1e3);let t=r/31536e3;return t>1?Math.floor(t)+" years ago":(t=r/2592e3,t>1?Math.floor(t)+" months ago":(t=r/86400,t>1?Math.floor(t)+" days ago":(t=r/3600,t>1?Math.floor(t)+" hours ago":(t=r/60,t>1?Math.floor(t)+" minutes ago":Math.floor(r)+" seconds ago"))))},tn=({article:e,index:r=0,className:t="",onClick:o})=>c.jsx("article",{className:`h-full flex flex-col ${t}`,children:c.jsxs("div",{className:"flex flex-col h-full group",children:[c.jsxs("div",{className:"relative mb-4 bg-gray-800 rounded-lg overflow-hidden h-40 sm:h-32 lg:h-40",children:[e.imageUrl?c.jsx("img",{src:e.imageUrl,alt:e.title,loading:"lazy",width:400,height:200,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):c.jsx("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center",children:c.jsx("span",{className:"text-gray-500 text-xs",children:"No Image"})}),c.jsx("div",{className:"absolute top-2 left-2 bg-black/70 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold pointer-events-none z-10",children:r})]}),c.jsx("div",{className:"flex-1 flex flex-col",children:c.jsxs("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col group",onClick:i=>{o&&(i.preventDefault(),o(e))},children:[c.jsx("div",{className:"mb-2",children:c.jsx("span",{className:"inline-block bg-blue-500/20 text-blue-400 px-2 py-0.5 rounded text-xs font-medium uppercase tracking-wide truncate max-w-full",children:e.sourceTitle})}),c.jsx("h4",{className:"font-bold text-base lg:text-lg leading-tight group-hover:underline text-gray-100 mb-3 line-clamp-3",children:e.title}),c.jsxs("div",{className:"mt-auto space-y-2",children:[c.jsx("div",{className:"flex items-center justify-between text-xs text-gray-400",children:e.author&&c.jsx("span",{className:"truncate max-w-[120px]",title:e.author,children:e.author})}),c.jsx("time",{className:"text-gray-500 text-xs block",dateTime:e.pubDate.toISOString(),children:en(e.pubDate)})]})]})})]})}),ho=F.memo(tn),rn=F.memo(()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H9.828a1 1 0 00-.707.293l-2.828 2.828a1 1 0 01-1.414 0l-2.828-2.828A1 1 0 002.172 17H4a2 2 0 01-2-2V5z"})}));rn.displayName="ChatBubbleIcon";const on=F.memo(({filled:e=!1})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:e?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}));on.displayName="HeartIcon";const nn=({article:e,index:r=0,timeFormat:t="24h",layoutMode:o,className:i="",onClick:n})=>{const{startRenderTiming:a,endRenderTiming:s}=xo(),{settings:l}=bo(),{contentConfig:u}=Rr();F.useEffect(()=>(a(),()=>{s()}),[a,s]);const h=d=>{const x=Math.floor((new Date().getTime()-d.getTime())/1e3);let b=x/31536e3;return b>1?Math.floor(b)+" years ago":(b=x/2592e3,b>1?Math.floor(b)+" months ago":(b=x/86400,b>1?Math.floor(b)+" days ago":(b=x/3600,b>1?Math.floor(b)+" hours ago":(b=x/60,b>1?Math.floor(b)+" minutes ago":Math.floor(x)+" seconds ago"))))},f=o==="list"||o==="minimal";return c.jsx("article",{className:`h-full flex flex-col transition-all duration-300 ${i}`,children:c.jsxs("div",{className:`
        flex h-full group transition-all duration-300
        ${f?"flex-row gap-6 p-5 bg-[rgb(var(--color-surface))]/80":"flex-col p-5 bg-[rgb(var(--color-surface))]/40"}
        backdrop-blur-xl
        rounded-2xl border border-white/20
        hover:bg-[rgb(var(--color-surface))] hover:border-[rgb(var(--color-accent))]/40
        hover:shadow-2xl hover:shadow-black/60
      `,children:[c.jsxs("div",{className:`relative bg-gray-800/50 rounded-xl overflow-hidden ${f?"w-28 sm:w-40 h-20 sm:h-28 shrink-0 mb-0":"h-40 sm:h-32 lg:h-44 mb-4"}`,children:[c.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",onClick:d=>{n&&(d.preventDefault(),n(e))},className:"block w-full h-full cursor-pointer","aria-hidden":"true",tabIndex:-1,children:c.jsx(nt,{article:e,width:400,height:200,fill:!0,className:"w-full h-full object-cover object-center transition-transform duration-500 group-hover:scale-105"})}),c.jsx("div",{className:"absolute top-2 left-2 bg-black/70 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold pointer-events-none z-10",children:r}),c.jsx(yt,{article:e,size:"medium",position:"overlay",className:"top-2 right-2 z-10 opacity-0 group-hover:opacity-100 shadow-lg bg-black/20 hover:bg-black/40 transition-all"})]}),c.jsx("div",{className:"flex-1 flex flex-col",children:c.jsxs("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col group",onClick:d=>{n&&(d.preventDefault(),n(e))},"aria-label":`Article: ${e.title} from ${e.author||e.sourceTitle}`,children:[u.showTags&&c.jsx("div",{className:"mb-2",children:c.jsx("span",{className:"inline-block bg-[rgb(var(--color-accent))] text-white px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-[0.1em] truncate max-w-full shadow-md shadow-black/40",children:e.sourceTitle})}),c.jsx("h4",{className:"font-bold text-base lg:text-lg leading-snug group-hover:text-white text-gray-100 mb-2 line-clamp-3 transition-colors",children:e.title}),e.description&&c.jsx("p",{className:"text-gray-300/90 group-hover:text-gray-100 text-sm mt-1 mb-3 line-clamp-2 leading-relaxed font-medium transition-colors",children:e.description}),c.jsxs("div",{className:`space-y-2 ${f?"":"mt-auto"}`,children:[c.jsx("div",{className:"flex items-center justify-between text-xs font-bold text-white transition-colors",children:u.showAuthor&&e.author&&c.jsxs("span",{className:"truncate max-w-[150px] bg-black/40 px-2 py-0.5 rounded shadow-sm","aria-label":`Author: ${e.author}`,title:e.author,children:["Por ",e.author]})}),(u.showDate||u.showTime)&&c.jsx("time",{className:"text-white/80 font-bold text-[10px] block group-hover:text-white transition-colors bg-white/5 self-start px-2 py-0.5 rounded italic",dateTime:e.pubDate.toISOString(),"aria-label":`Published ${h(e.pubDate)}`,children:l.showPublicationTime||u.showTime?t==="12h"?`${e.pubDate.toLocaleDateString()} s ${e.pubDate.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",hour12:!0})}`:`${e.pubDate.toLocaleDateString()} s ${e.pubDate.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",hour12:!1})}`:h(e.pubDate)})]})]})})]})})},sn=e=>e.renderMode==="light"?c.jsx(ho,{...e}):c.jsx(nn,{...e}),ln=(e,r)=>{if(e.index!==r.index||e.renderMode!==r.renderMode)return!1;const t=e.article,o=r.article;return t.title===o.title&&t.link===o.link&&t.pubDate.getTime()===o.pubDate.getTime()&&t.sourceTitle===o.sourceTitle&&t.imageUrl===o.imageUrl&&t.author===o.author},Sr=F.memo(sn,ln),an=e=>{const r=new Date,t=typeof e=="string"?new Date(e):e,o=r.getTime()-t.getTime();if(o<0||isNaN(o))return t.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"});const i=Math.floor(o/6e4);if(i<1)return"agora";if(i<60)return`${i}min`;const n=Math.floor(i/60);if(n<24)return`${n}h`;const a=Math.floor(n/24);return a<7?`${a}d`:t.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})},cn=({article:e,onClick:r})=>c.jsxs("article",{className:"group cursor-pointer flex items-start gap-4 p-3 rounded-lg hover:bg-[rgb(var(--color-surface))] transition-colors border-b border-[rgb(var(--color-border))] last:border-0",onClick:()=>r(e),children:[c.jsx("span",{className:"text-xs font-bold uppercase text-[rgb(var(--color-accent))] w-24 flex-shrink-0 truncate pt-0.5",children:e.sourceTitle}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"font-medium text-sm text-[rgb(var(--color-text))] group-hover:text-[rgb(var(--color-accent))] transition-colors line-clamp-2 mb-1",children:e.title}),e.description&&c.jsx("p",{className:"text-xs text-[rgb(var(--color-textSecondary))] line-clamp-2 leading-relaxed",children:e.description})]}),c.jsx("span",{className:"text-xs text-[rgb(var(--color-textSecondary))] flex-shrink-0 pt-0.5",children:an(e.pubDate)})]}),un=F.memo(cn),hn=({articles:e,onArticleClick:r})=>{const{t}=po(),o=new Date,i=l=>{const u=typeof l=="string"?new Date(l):l,h=o.getTime()-u.getTime();if(h<0||isNaN(h))return u.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"});const f=Math.floor(h/6e4);if(f<1)return t("time.now")||"agora";if(f<60)return`${f}min`;const d=Math.floor(f/60);if(d<24)return`${d}h`;const x=Math.floor(d/24);return x<7?`${x}d`:u.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})},n=e[0],a=e.slice(1,4),s=e.slice(4,10);return n?c.jsxs("div",{className:"mb-8 animate-in fade-in duration-300",children:[c.jsx("section",{className:"mb-12",children:c.jsx("article",{className:"relative group cursor-pointer overflow-hidden rounded-2xl bg-[rgb(var(--color-surface))]",onClick:()=>r(n),children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[c.jsxs("div",{className:"relative aspect-[4/3] md:aspect-auto md:h-[400px] overflow-hidden",children:[c.jsx(nt,{article:n,width:1200,height:800,fill:!0,className:"w-full h-full object-cover object-center transition-transform duration-700 group-hover:scale-105"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 via-transparent to-transparent md:hidden"}),c.jsx(yt,{article:n,size:"medium",position:"overlay",className:"top-4 right-4 z-10 bg-black/50 hover:bg-black/70 border border-white/20 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity"})]}),c.jsxs("div",{className:"flex flex-col justify-center p-6 md:p-10 bg-gradient-to-br from-[rgb(var(--color-surface))] to-[rgb(var(--color-background))]",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider bg-[rgb(var(--color-accent))] text-white truncate max-w-[150px] md:max-w-[200px]",children:n.sourceTitle}),c.jsx("span",{className:"text-sm text-[rgb(var(--color-textSecondary))]",children:i(n.pubDate)})]}),c.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-[rgb(var(--color-text))] leading-tight mb-4 group-hover:text-[rgb(var(--color-accent))] transition-colors",children:n.title}),c.jsx("p",{className:"text-[rgb(var(--color-textSecondary))] text-base md:text-lg leading-relaxed line-clamp-3 mb-6",children:n.description}),n.author&&c.jsxs("p",{className:"text-sm text-[rgb(var(--color-textSecondary))] italic",children:[t("article.by")||"Por"," ",n.author]}),c.jsx("button",{className:"mt-6 self-start px-6 py-2.5 bg-[rgb(var(--color-primary))] text-white rounded-lg font-semibold text-sm hover:opacity-90 transition-opacity",children:t("action.read")||"Ler artigo"})]})]})})}),a.length>0&&c.jsxs("section",{className:"mb-12",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-[rgb(var(--color-border))] to-transparent"}),c.jsx("h2",{className:"text-sm font-bold uppercase tracking-widest text-[rgb(var(--color-textSecondary))]",children:"Featured Stories"}),c.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-[rgb(var(--color-border))] to-transparent"})]}),c.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:a.map((l,u)=>c.jsxs("article",{className:"group cursor-pointer",onClick:()=>r(l),children:[c.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden rounded-xl mb-4 bg-[rgb(var(--color-surface))]",children:[c.jsx(nt,{article:l,width:600,height:400,fill:!0,className:"w-full h-full object-cover object-center transition-transform duration-500 group-hover:scale-105"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),c.jsx(yt,{article:l,size:"small",position:"overlay",className:"top-3 right-3 z-10 bg-black/50 hover:bg-black/70 border border-white/20 shadow-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-xs font-bold uppercase text-[rgb(var(--color-accent))] truncate max-w-[120px]",children:l.sourceTitle}),c.jsx("span",{className:"text-xs text-[rgb(var(--color-textSecondary))]",children:""}),c.jsx("span",{className:"text-xs text-[rgb(var(--color-textSecondary))]",children:i(l.pubDate)})]}),c.jsx("h3",{className:"font-bold text-lg text-[rgb(var(--color-text))] leading-snug group-hover:text-[rgb(var(--color-accent))] transition-colors line-clamp-2",children:l.title}),l.description&&c.jsx("p",{className:"text-sm text-[rgb(var(--color-textSecondary))] mt-2 line-clamp-2",children:l.description})]},u))})]}),s.length>0&&c.jsxs("section",{className:"mb-12",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("h2",{className:"text-sm font-bold uppercase tracking-widest text-[rgb(var(--color-textSecondary))]",children:"More News"}),c.jsx("div",{className:"h-px flex-1 bg-[rgb(var(--color-border))]"})]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((l,u)=>c.jsxs("article",{className:"group cursor-pointer flex gap-4 p-4 rounded-xl bg-[rgb(var(--color-surface))] hover:bg-[rgb(var(--color-background))] border border-[rgb(var(--color-border))] hover:border-[rgb(var(--color-accent))] transition-all relative",onClick:()=>r(l),children:[c.jsx("div",{className:"w-24 h-24 flex-shrink-0 overflow-hidden rounded-lg bg-[rgb(var(--color-background))]",children:c.jsx(nt,{article:l,width:200,height:200,fill:!0,className:"w-full h-full object-cover object-center"})}),c.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-bold uppercase text-[rgb(var(--color-accent))] truncate max-w-[100px]",children:l.sourceTitle}),c.jsx("span",{className:"text-[10px] text-[rgb(var(--color-textSecondary))] flex-shrink-0",children:i(l.pubDate)})]}),c.jsx("div",{className:"relative",children:c.jsx(yt,{article:l,size:"small",position:"inline",className:"opacity-0 group-hover:opacity-100 transition-opacity"})})]}),c.jsx("h3",{className:"font-semibold text-sm text-[rgb(var(--color-text))] group-hover:text-[rgb(var(--color-accent))] transition-colors line-clamp-2 leading-snug",children:l.title}),l.description&&c.jsx("p",{className:"text-xs text-[rgb(var(--color-textSecondary))] mt-1 line-clamp-2",children:l.description})]})]},u))})]}),c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("h2",{className:"text-sm font-bold uppercase tracking-widest text-[rgb(var(--color-textSecondary))]",children:"Latest News"}),c.jsx("div",{className:"h-px flex-1 bg-[rgb(var(--color-border))]"})]})]}):null};function dn(e){if(!e)return null;const r=/(?:youtube\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?/\s]{11})/i,t=e.match(r);if(t&&t[1])return`https://www.youtube.com/embed/${t[1]}?autoplay=1&modestbranding=1&rel=0`;const o=/(?:vimeo\.com\/)(\d+)/i,i=e.match(o);if(i&&i[1])return`https://player.vimeo.com/video/${i[1]}?autoplay=1`;const n=/(?:twitch\.tv\/)([^"&?/\s]+)/i,a=e.match(n);if(a&&a[1]){const s=typeof window<"u"?window.location.hostname:"localhost";return`https://player.twitch.tv/?channel=${a[1]}&parent=${s}&muted=false`}return null}var Lt={exports:{}},Ir;function fn(){return Ir||(Ir=1,(function(e){function r(t,o){if(o&&o.documentElement)t=o,o=arguments[2];else if(!t||!t.documentElement)throw new Error("First argument to Readability constructor should be a document object.");if(o=o||{},this._doc=t,this._docJSDOMParser=this._doc.firstChild.__JSDOMParser__,this._articleTitle=null,this._articleByline=null,this._articleDir=null,this._articleSiteName=null,this._attempts=[],this._metadata={},this._debug=!!o.debug,this._maxElemsToParse=o.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE,this._nbTopCandidates=o.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES,this._charThreshold=o.charThreshold||this.DEFAULT_CHAR_THRESHOLD,this._classesToPreserve=this.CLASSES_TO_PRESERVE.concat(o.classesToPreserve||[]),this._keepClasses=!!o.keepClasses,this._serializer=o.serializer||function(i){return i.innerHTML},this._disableJSONLD=!!o.disableJSONLD,this._allowedVideoRegex=o.allowedVideoRegex||this.REGEXPS.videos,this._linkDensityModifier=o.linkDensityModifier||0,this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY,this._debug){let i=function(n){if(n.nodeType==n.TEXT_NODE)return`${n.nodeName} ("${n.textContent}")`;let a=Array.from(n.attributes||[],function(s){return`${s.name}="${s.value}"`}).join(" ");return`<${n.localName} ${a}>`};this.log=function(){if(typeof console<"u"){let a=Array.from(arguments,s=>s&&s.nodeType==this.ELEMENT_NODE?i(s):s);a.unshift("Reader: (Readability)"),console.log(...a)}else if(typeof dump<"u"){var n=Array.prototype.map.call(arguments,function(a){return a&&a.nodeName?i(a):a}).join(" ");dump("Reader: (Readability) "+n+`
`)}}}else this.log=function(){}}r.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,ELEMENT_NODE:1,TEXT_NODE:3,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_TAGS_TO_SCORE:"section,h2,h3,h4,h5,h6,p,td,pre".toUpperCase().split(","),DEFAULT_CHAR_THRESHOLD:500,REGEXPS:{unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i,positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|footer|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single|utility/i,byline:/byline|author|dateline|writtenby|p-author/i,replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?((dailymotion|youtube|youtube-nocookie|player\.vimeo|v\.qq)\.com|(archive|upload\.wikimedia)\.org|player\.twitch\.tv)/i,shareElements:/(\b|_)(share|sharedaddy)(\b|_)/i,nextLink:/(next|weiter|continue|>([^\|]|$)|([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|)/i,tokenize:/\W+/g,whitespace:/^\s*$/,hasContent:/\S$/,hashUrl:/^#.+/,srcsetUrl:/(\S+)(\s+[\d.]+[xw])?(\s*(?:,|$))/g,b64DataUrl:/^data:\s*([^\s;,]+)\s*;\s*base64\s*,/i,commas:/\u002C|\u060C|\uFE50|\uFE10|\uFE11|\u2E41|\u2E34|\u2E32|\uFF0C/g,jsonLdArticleTypes:/^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/,adWords:/^(ad(vertising|vertisement)?|pub(licit)?|werb(ung)?|||Anuncio)$/iu,loadingWords:/^((loading|||chargement|cargando)(|\.\.\.)?)$/iu},UNLIKELY_ROLES:["menu","menubar","complementary","navigation","alert","alertdialog","dialog"],DIV_TO_P_ELEMS:new Set(["BLOCKQUOTE","DL","DIV","IMG","OL","P","PRE","TABLE","UL"]),ALTER_TO_DIV_EXCEPTIONS:["DIV","ARTICLE","SECTION","P","OL","UL"],PRESENTATIONAL_ATTRIBUTES:["align","background","bgcolor","border","cellpadding","cellspacing","frame","hspace","rules","style","valign","vspace"],DEPRECATED_SIZE_ATTRIBUTE_ELEMS:["TABLE","TH","TD","HR","PRE"],PHRASING_ELEMS:["ABBR","AUDIO","B","BDO","BR","BUTTON","CITE","CODE","DATA","DATALIST","DFN","EM","EMBED","I","IMG","INPUT","KBD","LABEL","MARK","MATH","METER","NOSCRIPT","OBJECT","OUTPUT","PROGRESS","Q","RUBY","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","TEXTAREA","TIME","VAR","WBR"],CLASSES_TO_PRESERVE:["page"],HTML_ESCAPE_MAP:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},_postProcessContent(t){this._fixRelativeUris(t),this._simplifyNestedElements(t),this._keepClasses||this._cleanClasses(t)},_removeNodes(t,o){if(this._docJSDOMParser&&t._isLiveNodeList)throw new Error("Do not pass live node lists to _removeNodes");for(var i=t.length-1;i>=0;i--){var n=t[i],a=n.parentNode;a&&(!o||o.call(this,n,i,t))&&a.removeChild(n)}},_replaceNodeTags(t,o){if(this._docJSDOMParser&&t._isLiveNodeList)throw new Error("Do not pass live node lists to _replaceNodeTags");for(const i of t)this._setNodeTag(i,o)},_forEachNode(t,o){Array.prototype.forEach.call(t,o,this)},_findNode(t,o){return Array.prototype.find.call(t,o,this)},_someNode(t,o){return Array.prototype.some.call(t,o,this)},_everyNode(t,o){return Array.prototype.every.call(t,o,this)},_getAllNodesWithTag(t,o){return t.querySelectorAll?t.querySelectorAll(o.join(",")):[].concat.apply([],o.map(function(i){var n=t.getElementsByTagName(i);return Array.isArray(n)?n:Array.from(n)}))},_cleanClasses(t){var o=this._classesToPreserve,i=(t.getAttribute("class")||"").split(/\s+/).filter(n=>o.includes(n)).join(" ");for(i?t.setAttribute("class",i):t.removeAttribute("class"),t=t.firstElementChild;t;t=t.nextElementSibling)this._cleanClasses(t)},_isUrl(t){try{return new URL(t),!0}catch{return!1}},_fixRelativeUris(t){var o=this._doc.baseURI,i=this._doc.documentURI;function n(l){if(o==i&&l.charAt(0)=="#")return l;try{return new URL(l,o).href}catch{}return l}var a=this._getAllNodesWithTag(t,["a"]);this._forEachNode(a,function(l){var u=l.getAttribute("href");if(u)if(u.indexOf("javascript:")===0)if(l.childNodes.length===1&&l.childNodes[0].nodeType===this.TEXT_NODE){var h=this._doc.createTextNode(l.textContent);l.parentNode.replaceChild(h,l)}else{for(var f=this._doc.createElement("span");l.firstChild;)f.appendChild(l.firstChild);l.parentNode.replaceChild(f,l)}else l.setAttribute("href",n(u))});var s=this._getAllNodesWithTag(t,["img","picture","figure","video","audio","source"]);this._forEachNode(s,function(l){var u=l.getAttribute("src"),h=l.getAttribute("poster"),f=l.getAttribute("srcset");if(u&&l.setAttribute("src",n(u)),h&&l.setAttribute("poster",n(h)),f){var d=f.replace(this.REGEXPS.srcsetUrl,function(x,b,y,v){return n(b)+(y||"")+v});l.setAttribute("srcset",d)}})},_simplifyNestedElements(t){for(var o=t;o;){if(o.parentNode&&["DIV","SECTION"].includes(o.tagName)&&!(o.id&&o.id.startsWith("readability"))){if(this._isElementWithoutContent(o)){o=this._removeAndGetNext(o);continue}else if(this._hasSingleTagInsideElement(o,"DIV")||this._hasSingleTagInsideElement(o,"SECTION")){for(var i=o.children[0],n=0;n<o.attributes.length;n++)i.setAttributeNode(o.attributes[n].cloneNode());o.parentNode.replaceChild(i,o),o=i;continue}}o=this._getNextNode(o)}},_getArticleTitle(){var t=this._doc,o="",i="";try{o=i=t.title.trim(),typeof o!="string"&&(o=i=this._getInnerText(t.getElementsByTagName("title")[0]))}catch{}var n=!1;function a(d){return d.split(/\s+/).length}if(/ [\|\-\\\/>] /.test(o)){n=/ [\\\/>] /.test(o);let d=Array.from(i.matchAll(/ [\|\-\\\/>] /gi));o=i.substring(0,d.pop().index),a(o)<3&&(o=i.replace(/^[^\|\-\\\/>]*[\|\-\\\/>]/gi,""))}else if(o.includes(": ")){var s=this._getAllNodesWithTag(t,["h1","h2"]),l=o.trim(),u=this._someNode(s,function(d){return d.textContent.trim()===l});u||(o=i.substring(i.lastIndexOf(":")+1),a(o)<3?o=i.substring(i.indexOf(":")+1):a(i.substr(0,i.indexOf(":")))>5&&(o=i))}else if(o.length>150||o.length<15){var h=t.getElementsByTagName("h1");h.length===1&&(o=this._getInnerText(h[0]))}o=o.trim().replace(this.REGEXPS.normalize," ");var f=a(o);return f<=4&&(!n||f!=a(i.replace(/[\|\-\\\/>]+/g,""))-1)&&(o=i),o},_prepDocument(){var t=this._doc;this._removeNodes(this._getAllNodesWithTag(t,["style"])),t.body&&this._replaceBrs(t.body),this._replaceNodeTags(this._getAllNodesWithTag(t,["font"]),"SPAN")},_nextNode(t){for(var o=t;o&&o.nodeType!=this.ELEMENT_NODE&&this.REGEXPS.whitespace.test(o.textContent);)o=o.nextSibling;return o},_replaceBrs(t){this._forEachNode(this._getAllNodesWithTag(t,["br"]),function(o){for(var i=o.nextSibling,n=!1;(i=this._nextNode(i))&&i.tagName=="BR";){n=!0;var a=i.nextSibling;i.remove(),i=a}if(n){var s=this._doc.createElement("p");for(o.parentNode.replaceChild(s,o),i=s.nextSibling;i;){if(i.tagName=="BR"){var l=this._nextNode(i.nextSibling);if(l&&l.tagName=="BR")break}if(!this._isPhrasingContent(i))break;var u=i.nextSibling;s.appendChild(i),i=u}for(;s.lastChild&&this._isWhitespace(s.lastChild);)s.lastChild.remove();s.parentNode.tagName==="P"&&this._setNodeTag(s.parentNode,"DIV")}})},_setNodeTag(t,o){if(this.log("_setNodeTag",t,o),this._docJSDOMParser)return t.localName=o.toLowerCase(),t.tagName=o.toUpperCase(),t;for(var i=t.ownerDocument.createElement(o);t.firstChild;)i.appendChild(t.firstChild);t.parentNode.replaceChild(i,t),t.readability&&(i.readability=t.readability);for(var n=0;n<t.attributes.length;n++)i.setAttributeNode(t.attributes[n].cloneNode());return i},_prepArticle(t){this._cleanStyles(t),this._markDataTables(t),this._fixLazyImages(t),this._cleanConditionally(t,"form"),this._cleanConditionally(t,"fieldset"),this._clean(t,"object"),this._clean(t,"embed"),this._clean(t,"footer"),this._clean(t,"link"),this._clean(t,"aside");var o=this.DEFAULT_CHAR_THRESHOLD;this._forEachNode(t.children,function(i){this._cleanMatchedNodes(i,function(n,a){return this.REGEXPS.shareElements.test(a)&&n.textContent.length<o})}),this._clean(t,"iframe"),this._clean(t,"input"),this._clean(t,"textarea"),this._clean(t,"select"),this._clean(t,"button"),this._cleanHeaders(t),this._cleanConditionally(t,"table"),this._cleanConditionally(t,"ul"),this._cleanConditionally(t,"div"),this._replaceNodeTags(this._getAllNodesWithTag(t,["h1"]),"h2"),this._removeNodes(this._getAllNodesWithTag(t,["p"]),function(i){var n=this._getAllNodesWithTag(i,["img","embed","object","iframe"]).length;return n===0&&!this._getInnerText(i,!1)}),this._forEachNode(this._getAllNodesWithTag(t,["br"]),function(i){var n=this._nextNode(i.nextSibling);n&&n.tagName=="P"&&i.remove()}),this._forEachNode(this._getAllNodesWithTag(t,["table"]),function(i){var n=this._hasSingleTagInsideElement(i,"TBODY")?i.firstElementChild:i;if(this._hasSingleTagInsideElement(n,"TR")){var a=n.firstElementChild;if(this._hasSingleTagInsideElement(a,"TD")){var s=a.firstElementChild;s=this._setNodeTag(s,this._everyNode(s.childNodes,this._isPhrasingContent)?"P":"DIV"),i.parentNode.replaceChild(s,i)}}})},_initializeNode(t){switch(t.readability={contentScore:0},t.tagName){case"DIV":t.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":t.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":t.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":t.readability.contentScore-=5;break}t.readability.contentScore+=this._getClassWeight(t)},_removeAndGetNext(t){var o=this._getNextNode(t,!0);return t.remove(),o},_getNextNode(t,o){if(!o&&t.firstElementChild)return t.firstElementChild;if(t.nextElementSibling)return t.nextElementSibling;do t=t.parentNode;while(t&&!t.nextElementSibling);return t&&t.nextElementSibling},_textSimilarity(t,o){var i=t.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean),n=o.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);if(!i.length||!n.length)return 0;var a=n.filter(l=>!i.includes(l)),s=a.join(" ").length/n.join(" ").length;return 1-s},_isValidByline(t,o){var i=t.getAttribute("rel"),n=t.getAttribute("itemprop"),a=t.textContent.trim().length;return(i==="author"||n&&n.includes("author")||this.REGEXPS.byline.test(o))&&!!a&&a<100},_getNodeAncestors(t,o){o=o||0;for(var i=0,n=[];t.parentNode&&(n.push(t.parentNode),!(o&&++i===o));)t=t.parentNode;return n},_grabArticle(t){this.log("**** grabArticle ****");var o=this._doc,i=t!==null;if(t=t||this._doc.body,!t)return this.log("No body found in document. Abort."),null;for(var n=t.innerHTML;;){this.log("Starting grabArticle loop");var a=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS),s=[],l=this._doc.documentElement;let ce=!0;for(;l;){l.tagName==="HTML"&&(this._articleLang=l.getAttribute("lang"));var u=l.className+" "+l.id;if(!this._isProbablyVisible(l)){this.log("Removing hidden node - "+u),l=this._removeAndGetNext(l);continue}if(l.getAttribute("aria-modal")=="true"&&l.getAttribute("role")=="dialog"){l=this._removeAndGetNext(l);continue}if(!this._articleByline&&!this._metadata.byline&&this._isValidByline(l,u)){for(var h=this._getNextNode(l,!0),f=this._getNextNode(l),d=null;f&&f!=h;){var x=f.getAttribute("itemprop");if(x&&x.includes("name")){d=f;break}else f=this._getNextNode(f)}this._articleByline=(d??l).textContent.trim(),l=this._removeAndGetNext(l);continue}if(ce&&this._headerDuplicatesTitle(l)){this.log("Removing header: ",l.textContent.trim(),this._articleTitle.trim()),ce=!1,l=this._removeAndGetNext(l);continue}if(a){if(this.REGEXPS.unlikelyCandidates.test(u)&&!this.REGEXPS.okMaybeItsACandidate.test(u)&&!this._hasAncestorTag(l,"table")&&!this._hasAncestorTag(l,"code")&&l.tagName!=="BODY"&&l.tagName!=="A"){this.log("Removing unlikely candidate - "+u),l=this._removeAndGetNext(l);continue}if(this.UNLIKELY_ROLES.includes(l.getAttribute("role"))){this.log("Removing content with role "+l.getAttribute("role")+" - "+u),l=this._removeAndGetNext(l);continue}}if((l.tagName==="DIV"||l.tagName==="SECTION"||l.tagName==="HEADER"||l.tagName==="H1"||l.tagName==="H2"||l.tagName==="H3"||l.tagName==="H4"||l.tagName==="H5"||l.tagName==="H6")&&this._isElementWithoutContent(l)){l=this._removeAndGetNext(l);continue}if(this.DEFAULT_TAGS_TO_SCORE.includes(l.tagName)&&s.push(l),l.tagName==="DIV"){for(var b=null,y=l.firstChild;y;){var v=y.nextSibling;if(this._isPhrasingContent(y))b!==null?b.appendChild(y):this._isWhitespace(y)||(b=o.createElement("p"),l.replaceChild(b,y),b.appendChild(y));else if(b!==null){for(;b.lastChild&&this._isWhitespace(b.lastChild);)b.lastChild.remove();b=null}y=v}if(this._hasSingleTagInsideElement(l,"P")&&this._getLinkDensity(l)<.25){var g=l.children[0];l.parentNode.replaceChild(g,l),l=g,s.push(l)}else this._hasChildBlockElement(l)||(l=this._setNodeTag(l,"P"),s.push(l))}l=this._getNextNode(l)}var p=[];this._forEachNode(s,function(U){if(!(!U.parentNode||typeof U.parentNode.tagName>"u")){var $=this._getInnerText(U);if(!($.length<25)){var we=this._getNodeAncestors(U,5);if(we.length!==0){var ue=0;ue+=1,ue+=$.split(this.REGEXPS.commas).length,ue+=Math.min(Math.floor($.length/100),3),this._forEachNode(we,function(je,Je){if(!(!je.tagName||!je.parentNode||typeof je.parentNode.tagName>"u")){if(typeof je.readability>"u"&&(this._initializeNode(je),p.push(je)),Je===0)var We=1;else Je===1?We=2:We=Je*3;je.readability.contentScore+=ue/We}})}}}});for(var N=[],R=0,C=p.length;R<C;R+=1){var L=p[R],m=L.readability.contentScore*(1-this._getLinkDensity(L));L.readability.contentScore=m,this.log("Candidate:",L,"with score "+m);for(var T=0;T<this._nbTopCandidates;T++){var S=N[T];if(!S||m>S.readability.contentScore){N.splice(T,0,L),N.length>this._nbTopCandidates&&N.pop();break}}}var _=N[0]||null,j=!1,I;if(_===null||_.tagName==="BODY"){for(_=o.createElement("DIV"),j=!0;t.firstChild;)this.log("Moving child out:",t.firstChild),_.appendChild(t.firstChild);t.appendChild(_),this._initializeNode(_)}else if(_){for(var z=[],H=1;H<N.length;H++)N[H].readability.contentScore/_.readability.contentScore>=.75&&z.push(this._getNodeAncestors(N[H]));var W=3;if(z.length>=W)for(I=_.parentNode;I.tagName!=="BODY";){for(var Y=0,J=0;J<z.length&&Y<W;J++)Y+=Number(z[J].includes(I));if(Y>=W){_=I;break}I=I.parentNode}_.readability||this._initializeNode(_),I=_.parentNode;for(var ge=_.readability.contentScore,Te=ge/3;I.tagName!=="BODY";){if(!I.readability){I=I.parentNode;continue}var xe=I.readability.contentScore;if(xe<Te)break;if(xe>ge){_=I;break}ge=I.readability.contentScore,I=I.parentNode}for(I=_.parentNode;I.tagName!="BODY"&&I.children.length==1;)_=I,I=_.parentNode;_.readability||this._initializeNode(_)}var ee=o.createElement("DIV");i&&(ee.id="readability-content");var Re=Math.max(10,_.readability.contentScore*.2);I=_.parentNode;for(var _e=I.children,Ie=0,Oe=_e.length;Ie<Oe;Ie++){var re=_e[Ie],Ee=!1;if(this.log("Looking at sibling node:",re,re.readability?"with score "+re.readability.contentScore:""),this.log("Sibling has score",re.readability?re.readability.contentScore:"Unknown"),re===_)Ee=!0;else{var A=0;if(re.className===_.className&&_.className!==""&&(A+=_.readability.contentScore*.2),re.readability&&re.readability.contentScore+A>=Re)Ee=!0;else if(re.nodeName==="P"){var q=this._getLinkDensity(re),te=this._getInnerText(re),he=te.length;(he>80&&q<.25||he<80&&he>0&&q===0&&te.search(/\.( |$)/)!==-1)&&(Ee=!0)}}Ee&&(this.log("Appending node:",re),this.ALTER_TO_DIV_EXCEPTIONS.includes(re.nodeName)||(this.log("Altering sibling:",re,"to div."),re=this._setNodeTag(re,"DIV")),ee.appendChild(re),_e=I.children,Ie-=1,Oe-=1)}if(this._debug&&this.log("Article content pre-prep: "+ee.innerHTML),this._prepArticle(ee),this._debug&&this.log("Article content post-prep: "+ee.innerHTML),j)_.id="readability-page-1",_.className="page";else{var pe=o.createElement("DIV");for(pe.id="readability-page-1",pe.className="page";ee.firstChild;)pe.appendChild(ee.firstChild);ee.appendChild(pe)}this._debug&&this.log("Article content after paging: "+ee.innerHTML);var ae=!0,ne=this._getInnerText(ee,!0).length;if(ne<this._charThreshold)if(ae=!1,t.innerHTML=n,this._attempts.push({articleContent:ee,textLength:ne}),this._flagIsActive(this.FLAG_STRIP_UNLIKELYS))this._removeFlag(this.FLAG_STRIP_UNLIKELYS);else if(this._flagIsActive(this.FLAG_WEIGHT_CLASSES))this._removeFlag(this.FLAG_WEIGHT_CLASSES);else if(this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY);else{if(this._attempts.sort(function(U,$){return $.textLength-U.textLength}),!this._attempts[0].textLength)return null;ee=this._attempts[0].articleContent,ae=!0}if(ae){var de=[I,_].concat(this._getNodeAncestors(I));return this._someNode(de,function(U){if(!U.tagName)return!1;var $=U.getAttribute("dir");return $?(this._articleDir=$,!0):!1}),ee}}},_unescapeHtmlEntities(t){if(!t)return t;var o=this.HTML_ESCAPE_MAP;return t.replace(/&(quot|amp|apos|lt|gt);/g,function(i,n){return o[n]}).replace(/&#(?:x([0-9a-f]+)|([0-9]+));/gi,function(i,n,a){var s=parseInt(n||a,n?16:10);return(s==0||s>1114111||s>=55296&&s<=57343)&&(s=65533),String.fromCodePoint(s)})},_getJSONLD(t){var o=this._getAllNodesWithTag(t,["script"]),i;return this._forEachNode(o,function(n){if(!i&&n.getAttribute("type")==="application/ld+json")try{var a=n.textContent.replace(/^\s*<!\[CDATA\[|\]\]>\s*$/g,""),s=JSON.parse(a);if(Array.isArray(s)&&(s=s.find(x=>x["@type"]&&x["@type"].match(this.REGEXPS.jsonLdArticleTypes)),!s))return;var l=/^https?\:\/\/schema\.org\/?$/,u=typeof s["@context"]=="string"&&s["@context"].match(l)||typeof s["@context"]=="object"&&typeof s["@context"]["@vocab"]=="string"&&s["@context"]["@vocab"].match(l);if(!u||(!s["@type"]&&Array.isArray(s["@graph"])&&(s=s["@graph"].find(x=>(x["@type"]||"").match(this.REGEXPS.jsonLdArticleTypes))),!s||!s["@type"]||!s["@type"].match(this.REGEXPS.jsonLdArticleTypes)))return;if(i={},typeof s.name=="string"&&typeof s.headline=="string"&&s.name!==s.headline){var h=this._getArticleTitle(),f=this._textSimilarity(s.name,h)>.75,d=this._textSimilarity(s.headline,h)>.75;d&&!f?i.title=s.headline:i.title=s.name}else typeof s.name=="string"?i.title=s.name.trim():typeof s.headline=="string"&&(i.title=s.headline.trim());s.author&&(typeof s.author.name=="string"?i.byline=s.author.name.trim():Array.isArray(s.author)&&s.author[0]&&typeof s.author[0].name=="string"&&(i.byline=s.author.filter(function(x){return x&&typeof x.name=="string"}).map(function(x){return x.name.trim()}).join(", "))),typeof s.description=="string"&&(i.excerpt=s.description.trim()),s.publisher&&typeof s.publisher.name=="string"&&(i.siteName=s.publisher.name.trim()),typeof s.datePublished=="string"&&(i.datePublished=s.datePublished.trim())}catch(x){this.log(x.message)}}),i||{}},_getArticleMetadata(t){var o={},i={},n=this._doc.getElementsByTagName("meta"),a=/\s*(article|dc|dcterm|og|twitter)\s*:\s*(author|creator|description|published_time|title|site_name)\s*/gi,s=/^\s*(?:(dc|dcterm|og|twitter|parsely|weibo:(article|webpage))\s*[-\.:]\s*)?(author|creator|pub-date|description|title|site_name)\s*$/i;this._forEachNode(n,function(u){var h=u.getAttribute("name"),f=u.getAttribute("property"),d=u.getAttribute("content");if(d){var x=null,b=null;f&&(x=f.match(a),x&&(b=x[0].toLowerCase().replace(/\s/g,""),i[b]=d.trim())),!x&&h&&s.test(h)&&(b=h,d&&(b=b.toLowerCase().replace(/\s/g,"").replace(/\./g,":"),i[b]=d.trim()))}}),o.title=t.title||i["dc:title"]||i["dcterm:title"]||i["og:title"]||i["weibo:article:title"]||i["weibo:webpage:title"]||i.title||i["twitter:title"]||i["parsely-title"],o.title||(o.title=this._getArticleTitle());const l=typeof i["article:author"]=="string"&&!this._isUrl(i["article:author"])?i["article:author"]:void 0;return o.byline=t.byline||i["dc:creator"]||i["dcterm:creator"]||i.author||i["parsely-author"]||l,o.excerpt=t.excerpt||i["dc:description"]||i["dcterm:description"]||i["og:description"]||i["weibo:article:description"]||i["weibo:webpage:description"]||i.description||i["twitter:description"],o.siteName=t.siteName||i["og:site_name"],o.publishedTime=t.datePublished||i["article:published_time"]||i["parsely-pub-date"]||null,o.title=this._unescapeHtmlEntities(o.title),o.byline=this._unescapeHtmlEntities(o.byline),o.excerpt=this._unescapeHtmlEntities(o.excerpt),o.siteName=this._unescapeHtmlEntities(o.siteName),o.publishedTime=this._unescapeHtmlEntities(o.publishedTime),o},_isSingleImage(t){for(;t;){if(t.tagName==="IMG")return!0;if(t.children.length!==1||t.textContent.trim()!=="")return!1;t=t.children[0]}return!1},_unwrapNoscriptImages(t){var o=Array.from(t.getElementsByTagName("img"));this._forEachNode(o,function(n){for(var a=0;a<n.attributes.length;a++){var s=n.attributes[a];switch(s.name){case"src":case"srcset":case"data-src":case"data-srcset":return}if(/\.(jpg|jpeg|png|webp)/i.test(s.value))return}n.remove()});var i=Array.from(t.getElementsByTagName("noscript"));this._forEachNode(i,function(n){if(this._isSingleImage(n)){var a=t.createElement("div");a.innerHTML=n.innerHTML;var s=n.previousElementSibling;if(s&&this._isSingleImage(s)){var l=s;l.tagName!=="IMG"&&(l=s.getElementsByTagName("img")[0]);for(var u=a.getElementsByTagName("img")[0],h=0;h<l.attributes.length;h++){var f=l.attributes[h];if(f.value!==""&&(f.name==="src"||f.name==="srcset"||/\.(jpg|jpeg|png|webp)/i.test(f.value))){if(u.getAttribute(f.name)===f.value)continue;var d=f.name;u.hasAttribute(d)&&(d="data-old-"+d),u.setAttribute(d,f.value)}}n.parentNode.replaceChild(a.firstElementChild,s)}}})},_removeScripts(t){this._removeNodes(this._getAllNodesWithTag(t,["script","noscript"]))},_hasSingleTagInsideElement(t,o){return t.children.length!=1||t.children[0].tagName!==o?!1:!this._someNode(t.childNodes,function(i){return i.nodeType===this.TEXT_NODE&&this.REGEXPS.hasContent.test(i.textContent)})},_isElementWithoutContent(t){return t.nodeType===this.ELEMENT_NODE&&!t.textContent.trim().length&&(!t.children.length||t.children.length==t.getElementsByTagName("br").length+t.getElementsByTagName("hr").length)},_hasChildBlockElement(t){return this._someNode(t.childNodes,function(o){return this.DIV_TO_P_ELEMS.has(o.tagName)||this._hasChildBlockElement(o)})},_isPhrasingContent(t){return t.nodeType===this.TEXT_NODE||this.PHRASING_ELEMS.includes(t.tagName)||(t.tagName==="A"||t.tagName==="DEL"||t.tagName==="INS")&&this._everyNode(t.childNodes,this._isPhrasingContent)},_isWhitespace(t){return t.nodeType===this.TEXT_NODE&&t.textContent.trim().length===0||t.nodeType===this.ELEMENT_NODE&&t.tagName==="BR"},_getInnerText(t,o){o=typeof o>"u"?!0:o;var i=t.textContent.trim();return o?i.replace(this.REGEXPS.normalize," "):i},_getCharCount(t,o){return o=o||",",this._getInnerText(t).split(o).length-1},_cleanStyles(t){if(!(!t||t.tagName.toLowerCase()==="svg")){for(var o=0;o<this.PRESENTATIONAL_ATTRIBUTES.length;o++)t.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[o]);this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.includes(t.tagName)&&(t.removeAttribute("width"),t.removeAttribute("height"));for(var i=t.firstElementChild;i!==null;)this._cleanStyles(i),i=i.nextElementSibling}},_getLinkDensity(t){var o=this._getInnerText(t).length;if(o===0)return 0;var i=0;return this._forEachNode(t.getElementsByTagName("a"),function(n){var a=n.getAttribute("href"),s=a&&this.REGEXPS.hashUrl.test(a)?.3:1;i+=this._getInnerText(n).length*s}),i/o},_getClassWeight(t){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;var o=0;return typeof t.className=="string"&&t.className!==""&&(this.REGEXPS.negative.test(t.className)&&(o-=25),this.REGEXPS.positive.test(t.className)&&(o+=25)),typeof t.id=="string"&&t.id!==""&&(this.REGEXPS.negative.test(t.id)&&(o-=25),this.REGEXPS.positive.test(t.id)&&(o+=25)),o},_clean(t,o){var i=["object","embed","iframe"].includes(o);this._removeNodes(this._getAllNodesWithTag(t,[o]),function(n){if(i){for(var a=0;a<n.attributes.length;a++)if(this._allowedVideoRegex.test(n.attributes[a].value))return!1;if(n.tagName==="object"&&this._allowedVideoRegex.test(n.innerHTML))return!1}return!0})},_hasAncestorTag(t,o,i,n){i=i||3,o=o.toUpperCase();for(var a=0;t.parentNode;){if(i>0&&a>i)return!1;if(t.parentNode.tagName===o&&(!n||n(t.parentNode)))return!0;t=t.parentNode,a++}return!1},_getRowAndColumnCount(t){for(var o=0,i=0,n=t.getElementsByTagName("tr"),a=0;a<n.length;a++){var s=n[a].getAttribute("rowspan")||0;s&&(s=parseInt(s,10)),o+=s||1;for(var l=0,u=n[a].getElementsByTagName("td"),h=0;h<u.length;h++){var f=u[h].getAttribute("colspan")||0;f&&(f=parseInt(f,10)),l+=f||1}i=Math.max(i,l)}return{rows:o,columns:i}},_markDataTables(t){for(var o=t.getElementsByTagName("table"),i=0;i<o.length;i++){var n=o[i],a=n.getAttribute("role");if(a=="presentation"){n._readabilityDataTable=!1;continue}var s=n.getAttribute("datatable");if(s=="0"){n._readabilityDataTable=!1;continue}var l=n.getAttribute("summary");if(l){n._readabilityDataTable=!0;continue}var u=n.getElementsByTagName("caption")[0];if(u&&u.childNodes.length){n._readabilityDataTable=!0;continue}var h=["col","colgroup","tfoot","thead","th"],f=function(x){return!!n.getElementsByTagName(x)[0]};if(h.some(f)){this.log("Data table because found data-y descendant"),n._readabilityDataTable=!0;continue}if(n.getElementsByTagName("table")[0]){n._readabilityDataTable=!1;continue}var d=this._getRowAndColumnCount(n);if(d.columns==1||d.rows==1){n._readabilityDataTable=!1;continue}if(d.rows>=10||d.columns>4){n._readabilityDataTable=!0;continue}n._readabilityDataTable=d.rows*d.columns>10}},_fixLazyImages(t){this._forEachNode(this._getAllNodesWithTag(t,["img","picture","figure"]),function(o){if(o.src&&this.REGEXPS.b64DataUrl.test(o.src)){var i=this.REGEXPS.b64DataUrl.exec(o.src);if(i[1]==="image/svg+xml")return;for(var n=!1,a=0;a<o.attributes.length;a++){var s=o.attributes[a];if(s.name!=="src"&&/\.(jpg|jpeg|png|webp)/i.test(s.value)){n=!0;break}}if(n){var l=i[0].length,u=o.src.length-l;u<133&&o.removeAttribute("src")}}if(!((o.src||o.srcset&&o.srcset!="null")&&!o.className.toLowerCase().includes("lazy"))){for(var h=0;h<o.attributes.length;h++)if(s=o.attributes[h],!(s.name==="src"||s.name==="srcset"||s.name==="alt")){var f=null;if(/\.(jpg|jpeg|png|webp)\s+\d/.test(s.value)?f="srcset":/^\s*\S+\.(jpg|jpeg|png|webp)\S*\s*$/.test(s.value)&&(f="src"),f){if(o.tagName==="IMG"||o.tagName==="PICTURE")o.setAttribute(f,s.value);else if(o.tagName==="FIGURE"&&!this._getAllNodesWithTag(o,["img","picture"]).length){var d=this._doc.createElement("img");d.setAttribute(f,s.value),o.appendChild(d)}}}}})},_getTextDensity(t,o){var i=this._getInnerText(t,!0).length;if(i===0)return 0;var n=0,a=this._getAllNodesWithTag(t,o);return this._forEachNode(a,s=>n+=this._getInnerText(s,!0).length),n/i},_cleanConditionally(t,o){this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)&&this._removeNodes(this._getAllNodesWithTag(t,[o]),function(i){var n=function(I){return I._readabilityDataTable},a=o==="ul"||o==="ol";if(!a){var s=0,l=this._getAllNodesWithTag(i,["ul","ol"]);this._forEachNode(l,I=>s+=this._getInnerText(I).length),a=s/this._getInnerText(i).length>.9}if(o==="table"&&n(i)||this._hasAncestorTag(i,"table",-1,n)||this._hasAncestorTag(i,"code")||[...i.getElementsByTagName("table")].some(I=>I._readabilityDataTable))return!1;var u=this._getClassWeight(i);this.log("Cleaning Conditionally",i);var h=0;if(u+h<0)return!0;if(this._getCharCount(i,",")<10){for(var f=i.getElementsByTagName("p").length,d=i.getElementsByTagName("img").length,x=i.getElementsByTagName("li").length-100,b=i.getElementsByTagName("input").length,y=this._getTextDensity(i,["h1","h2","h3","h4","h5","h6"]),v=0,g=this._getAllNodesWithTag(i,["object","embed","iframe"]),p=0;p<g.length;p++){for(var N=0;N<g[p].attributes.length;N++)if(this._allowedVideoRegex.test(g[p].attributes[N].value))return!1;if(g[p].tagName==="object"&&this._allowedVideoRegex.test(g[p].innerHTML))return!1;v++}var R=this._getInnerText(i);if(this.REGEXPS.adWords.test(R)||this.REGEXPS.loadingWords.test(R))return!0;var C=R.length,L=this._getLinkDensity(i),m=["SPAN","LI","TD"].concat(Array.from(this.DIV_TO_P_ELEMS)),T=this._getTextDensity(i,m),S=this._hasAncestorTag(i,"figure"),_=(()=>{const z=[];return!S&&d>1&&f/d<.5&&z.push(`Bad p to img ratio (img=${d}, p=${f})`),!a&&x>f&&z.push(`Too many li's outside of a list. (li=${x} > p=${f})`),b>Math.floor(f/3)&&z.push(`Too many inputs per p. (input=${b}, p=${f})`),!a&&!S&&y<.9&&C<25&&(d===0||d>2)&&L>0&&z.push(`Suspiciously short. (headingDensity=${y}, img=${d}, linkDensity=${L})`),!a&&u<25&&L>.2+this._linkDensityModifier&&z.push(`Low weight and a little linky. (linkDensity=${L})`),u>=25&&L>.5+this._linkDensityModifier&&z.push(`High weight and mostly links. (linkDensity=${L})`),(v===1&&C<75||v>1)&&z.push(`Suspicious embed. (embedCount=${v}, contentLength=${C})`),d===0&&T===0&&z.push(`No useful content. (img=${d}, textDensity=${T})`),z.length?(this.log("Checks failed",z),!0):!1})();if(a&&_){for(var j=0;j<i.children.length;j++)if(i.children[j].children.length>1)return _;let z=i.getElementsByTagName("li").length;if(d==z)return!1}return _}return!1})},_cleanMatchedNodes(t,o){for(var i=this._getNextNode(t,!0),n=this._getNextNode(t);n&&n!=i;)o.call(this,n,n.className+" "+n.id)?n=this._removeAndGetNext(n):n=this._getNextNode(n)},_cleanHeaders(t){let o=this._getAllNodesWithTag(t,["h1","h2"]);this._removeNodes(o,function(i){let n=this._getClassWeight(i)<0;return n&&this.log("Removing header with low class weight:",i),n})},_headerDuplicatesTitle(t){if(t.tagName!="H1"&&t.tagName!="H2")return!1;var o=this._getInnerText(t,!1);return this.log("Evaluating similarity of header:",o,this._articleTitle),this._textSimilarity(this._articleTitle,o)>.75},_flagIsActive(t){return(this._flags&t)>0},_removeFlag(t){this._flags=this._flags&~t},_isProbablyVisible(t){return(!t.style||t.style.display!="none")&&(!t.style||t.style.visibility!="hidden")&&!t.hasAttribute("hidden")&&(!t.hasAttribute("aria-hidden")||t.getAttribute("aria-hidden")!="true"||t.className&&t.className.includes&&t.className.includes("fallback-image"))},parse(){if(this._maxElemsToParse>0){var t=this._doc.getElementsByTagName("*").length;if(t>this._maxElemsToParse)throw new Error("Aborting parsing document; "+t+" elements found")}this._unwrapNoscriptImages(this._doc);var o=this._disableJSONLD?{}:this._getJSONLD(this._doc);this._removeScripts(this._doc),this._prepDocument();var i=this._getArticleMetadata(o);this._metadata=i,this._articleTitle=i.title;var n=this._grabArticle();if(!n)return null;if(this.log("Grabbed: "+n.innerHTML),this._postProcessContent(n),!i.excerpt){var a=n.getElementsByTagName("p");a.length&&(i.excerpt=a[0].textContent.trim())}var s=n.textContent;return{title:this._articleTitle,byline:i.byline||this._articleByline,dir:this._articleDir,lang:this._articleLang,content:this._serializer(n),textContent:s,length:s.length,excerpt:i.excerpt,siteName:i.siteName||this._articleSiteName,publishedTime:i.publishedTime}}},e.exports=r})(Lt)),Lt.exports}var jt={exports:{}},Ar;function mn(){return Ar||(Ar=1,(function(e){var r={unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i};function t(i){return(!i.style||i.style.display!="none")&&!i.hasAttribute("hidden")&&(!i.hasAttribute("aria-hidden")||i.getAttribute("aria-hidden")!="true"||i.className&&i.className.includes&&i.className.includes("fallback-image"))}function o(i,n={}){typeof n=="function"&&(n={visibilityChecker:n});var a={minScore:20,minContentLength:140,visibilityChecker:t};n=Object.assign(a,n);var s=i.querySelectorAll("p, pre, article"),l=i.querySelectorAll("div > br");if(l.length){var u=new Set(s);[].forEach.call(l,function(f){u.add(f.parentNode)}),s=Array.from(u)}var h=0;return[].some.call(s,function(f){if(!n.visibilityChecker(f))return!1;var d=f.className+" "+f.id;if(r.unlikelyCandidates.test(d)&&!r.okMaybeItsACandidate.test(d)||f.matches("li p"))return!1;var x=f.textContent.trim().length;return x<n.minContentLength?!1:(h+=Math.sqrt(x-n.minContentLength),h>n.minScore)})}e.exports=o})(jt)),jt.exports}var Dt,Cr;function gn(){if(Cr)return Dt;Cr=1;var e=fn(),r=mn();return Dt={Readability:e,isProbablyReaderable:r},Dt}var pn=gn();const xn=[{name:"CorsProxy",url:e=>`https://corsproxy.io/?${encodeURIComponent(e)}`},{name:"CodeTabs",url:e=>`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(e)}`}],vn="article_cache_v2_",bn=console;async function yn(e){const r=vn+e,t=localStorage.getItem(r);if(t)return t;for(const o of xn)try{const i=await fetch(o.url(e));if(!i.ok){bn.warn(`Proxy ${o.name} returned status ${i.status} for ${e}`);continue}let n=await i.text();n=n.replace(/<link[^>]+rel=["']stylesheet["'][^>]*>/gi,"").replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/<iframe[^>]*>[\s\S]*?<\/iframe>/gi,"");const a=new DOMParser().parseFromString(n,"text/html"),s=document.createElement("base");s.href=e,a.head.appendChild(s);const u=new pn.Readability(a).parse();if(u&&u.content){const h=No.sanitize(u.content,{FORBID_TAGS:["style","link","script","iframe","frame","object","embed","form","input","button"],FORBID_ATTR:["style","class","id","onmouseover","onclick"]});try{localStorage.setItem(r,h)}catch{console.warn("Cache full, could not save article")}return h}}catch(i){console.warn(`Failed to fetch via ${o.name}`,i)}return null}const zt=({article:e,onClose:r,onNext:t,onPrev:o,hasNext:i,hasPrev:n})=>{const[a,s]=F.useState(!1),l=dn(e.link),[u,h]=D.useState(null),[f,d]=D.useState(!1);return F.useEffect(()=>{(async()=>{h(null),d(!0);const y=await yn(e.link);y&&h(y),d(!1)})();const b=y=>{y.key==="Escape"&&r(),y.key==="ArrowRight"&&i&&t(),y.key==="ArrowLeft"&&n&&o()};return window.addEventListener("keydown",b),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",b),document.body.style.overflow="unset"}},[e.link,r,t,o,i,n]),c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-8 animate-in fade-in duration-300",children:[c.jsx("div",{className:"absolute inset-0 bg-black/95 backdrop-blur-md",onClick:r}),n&&c.jsx("button",{onClick:o,className:"absolute left-4 top-1/2 -translate-y-1/2 p-4 text-[rgb(var(--color-textSecondary))] hover:text-[rgb(var(--color-text))] hover:bg-white/10 rounded-full transition-all z-[110]","aria-label":"Previous Article",children:c.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i&&c.jsx("button",{onClick:t,className:"absolute right-4 top-1/2 -translate-y-1/2 p-4 text-[rgb(var(--color-textSecondary))] hover:text-[rgb(var(--color-text))] hover:bg-white/10 rounded-full transition-all z-[110]","aria-label":"Next Article",children:c.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),c.jsx("button",{onClick:r,className:"absolute top-6 right-6 p-2 text-[rgb(var(--color-text))] hover:text-[rgb(var(--color-accent))] bg-black/20 hover:bg-white/20 backdrop-blur rounded-full z-[110] transition-colors",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),c.jsxs("div",{className:"relative w-full max-w-6xl max-h-[90vh] aspect-[16/10] bg-[rgb(var(--color-background))] text-[rgb(var(--color-text))] rounded-sm shadow-2xl overflow-hidden flex flex-col md:flex-row border-l-[12px] border-r-[12px] border-[rgb(var(--color-border))] book-shadow",children:[c.jsxs("div",{className:"w-full md:w-1/2 h-full p-8 md:p-12 md:border-r border-[rgb(var(--color-border))] flex flex-col justify-between relative bg-[rgb(var(--color-surface))] page-texture overflow-y-auto custom-scrollbar-light",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("span",{className:"px-3 py-1 bg-[rgb(var(--color-accent))] text-white text-xs font-bold uppercase tracking-widest",children:e.sourceTitle}),c.jsx("time",{className:"text-[rgb(var(--color-textSecondary))] text-xs font-serif italic",children:new Date(e.pubDate).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),c.jsx("h1",{className:"font-serif text-4xl md:text-5xl lg:text-6xl font-black leading-none tracking-tight mb-8 text-[rgb(var(--color-text))]",children:Eo(e.title)}),e.author&&c.jsxs("div",{className:"flex items-center gap-2 mb-8 text-sm font-medium text-[rgb(var(--color-textSecondary))] border-l-2 border-[rgb(var(--color-accent))] pl-3",children:["By ",e.author]}),e.imageUrl&&!a&&c.jsxs("div",{className:"relative w-full aspect-video mb-6 cursor-zoom-in group overflow-hidden shadow-lg transform rotate-1 bg-black/20",onClick:()=>s(!0),children:[c.jsx("img",{src:e.imageUrl,alt:"",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),c.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]}),l&&c.jsx("div",{className:"aspect-video w-full mb-6 bg-black shadow-lg",children:c.jsx("iframe",{src:l,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),c.jsxs("div",{className:"text-xs text-[rgb(var(--color-textSecondary))] font-mono mt-4 pt-4 border-t border-[rgb(var(--color-border))]",children:["PAGE 1  ",e.categories?.join(", ")||"Uncategorized"]})]}),c.jsxs("div",{className:"w-full md:w-1/2 h-full p-8 md:p-12 bg-[rgb(var(--color-background))] page-texture overflow-y-auto custom-scrollbar-light relative",children:[c.jsx("div",{className:"prose prose-lg prose-invert max-w-none font-serif leading-relaxed drop-cap text-[rgb(var(--color-text))]",children:u?c.jsx("div",{dangerouslySetInnerHTML:{__html:u},className:"animate-in fade-in duration-500"}):c.jsxs(c.Fragment,{children:[e.content?c.jsx("div",{dangerouslySetInnerHTML:{__html:e.content}}):c.jsx("div",{className:"text-lg leading-8",dangerouslySetInnerHTML:{__html:e.description||""}}),f&&c.jsxs("div",{className:"py-8 flex items-center justify-center text-[rgb(var(--color-textSecondary))] animate-pulse font-sans text-sm",children:[c.jsxs("svg",{className:"w-4 h-4 mr-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Fetching full story from source..."]})]})}),c.jsx("div",{className:"text-xs text-[rgb(var(--color-textSecondary))] font-mono mt-12 pt-4 border-t border-[rgb(var(--color-border))] text-right",children:"PAGE 2  PERSONAL NEWS"})]})]})]})},Tn=D.forwardRef((e,r)=>c.jsx("div",{ref:r,...e,className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-12 py-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",style:{...e.style,display:"grid"}})),_n=D.forwardRef((e,r)=>c.jsx("div",{ref:r,...e,className:"h-full"})),wn=F.lazy(()=>ye(()=>import("./MasonryLayout-K9DplwgQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(e=>({default:e.MasonryLayout}))),Nn=F.lazy(()=>ye(()=>import("./MinimalLayout-DJvDcc5a.js"),__vite__mapDeps([11,1,2,3,12,9,6,7,5,10])).then(e=>({default:e.MinimalLayout}))),En=F.lazy(()=>ye(()=>import("./PortalLayout-Dc1PJv-Z.js"),__vite__mapDeps([13,1,2,3,4,5,6,7,8,12,9,10])).then(e=>({default:e.PortalLayout}))),Sn=F.lazy(()=>ye(()=>import("./ImmersiveLayout-nRtnmZYc.js"),__vite__mapDeps([14,1,2,3,9,6,7,5,10])).then(e=>({default:e.ImmersiveLayout}))),In=F.lazy(()=>ye(()=>import("./BrutalistLayout-Clf-oNj6.js"),__vite__mapDeps([15,1,2,3,8,6,7,5,10])).then(e=>({default:e.BrutalistLayout}))),An=F.lazy(()=>ye(()=>import("./TimelineLayout-DEAgTFpc.js"),__vite__mapDeps([16,1,2,3,9,6,7,5,10])).then(e=>({default:e.TimelineLayout}))),Cn=F.lazy(()=>ye(()=>import("./BentoLayout-BY6jzz3x.js"),__vite__mapDeps([17,1,2,3,9,6,7,5,10])).then(e=>({default:e.BentoLayout}))),Rn=F.lazy(()=>ye(()=>import("./ModernPortalLayout-BNOhVw-8.js"),__vite__mapDeps([18,1,2,3,9,6,7,5,10])).then(e=>({default:e.ModernPortalLayout}))),kn=F.lazy(()=>ye(()=>import("./NewspaperLayout-BXb-f5WB.js"),__vite__mapDeps([19,1,2,3,9,6,7,5,10])).then(e=>({default:e.NewspaperLayout}))),Ln=F.lazy(()=>ye(()=>import("./FocusLayout-DCNVgiMh.js"),__vite__mapDeps([20,1,2,3,8,9,6,7,5,10])).then(e=>({default:e.FocusLayout}))),jn=F.lazy(()=>ye(()=>import("./GalleryLayout-C-Svqe07.js"),__vite__mapDeps([21,1,2,3,8,9,6,7,5,10])).then(e=>({default:e.GalleryLayout}))),Dn=F.lazy(()=>ye(()=>import("./CompactLayout-CHT4v0Sc.js"),__vite__mapDeps([22,1,2,3,9,6,7,5,10])).then(e=>({default:e.CompactLayout}))),zn=F.lazy(()=>ye(()=>import("./SplitLayout-BWIE2qI8.js"),__vite__mapDeps([23,1,2,3,8,9,6,7,5,10])).then(e=>({default:e.SplitLayout}))),Bn=F.lazy(()=>ye(()=>import("./CyberpunkLayout-CsfFzsCG.js"),__vite__mapDeps([24,1,2,3,8,9,6,7,5,10])).then(e=>({default:e.CyberpunkLayout}))),Hn=F.lazy(()=>ye(()=>import("./TerminalLayout-Cwv6CfDo.js"),__vite__mapDeps([25,1,2,3,9,6,7,8,5,10])).then(e=>({default:e.TerminalLayout}))),Pn=F.lazy(()=>ye(()=>import("./PocketFeedsLayout-BD6Ji8xQ.js"),__vite__mapDeps([26,1,2,3,10,6,7,9,5])).then(e=>({default:e.PocketFeedsLayout}))),Mn=({articles:e,timeFormat:r,selectedCategory:t})=>{const{contentConfig:o}=Rr(),{getCategoryById:i}=yo(),[n,a]=F.useState(null),s=F.useCallback(y=>{a(y)},[]),l=F.useCallback(()=>{if(!n)return;const y=e.findIndex(v=>v.link===n.link);y<e.length-1&&a(e[y+1])},[e,n]),u=F.useCallback(()=>{if(!n)return;const y=e.findIndex(v=>v.link===n.link);y>0&&a(e[y-1])},[e,n]);let h=o.layoutMode;if(t){const y=i(t);y?.layoutMode&&(h=y.layoutMode)}h==="default"&&(h="grid");const f=F.useCallback((y,v)=>h==="minimal"?c.jsx(ho,{article:v,index:y,onClick:s}):c.jsx(Sr,{article:v,index:y,timeFormat:r,onClick:s,renderMode:"light"}),[h,r,s]),d=F.useCallback((y,v)=>c.jsx(un,{article:v,onClick:s}),[s]),x=F.useCallback(y=>c.jsx(Sr,{article:e[y],index:y,timeFormat:r,onClick:s,showImage:!0,renderMode:"full",layoutMode:"grid"}),[e,r,s]);if(["masonry","immersive","brutalist","timeline","bento","newspaper","focus","gallery","compact","split","cyberpunk","terminal","pocketfeeds","modern","minimal","list"].includes(h)){const y=()=>{switch(h){case"masonry":return c.jsx(wn,{articles:e,timeFormat:r});case"immersive":return c.jsx(Sn,{articles:e,timeFormat:r});case"brutalist":return c.jsx(In,{articles:e,timeFormat:r});case"timeline":return c.jsx(An,{articles:e,timeFormat:r});case"bento":return c.jsx(Cn,{articles:e,timeFormat:r});case"newspaper":return c.jsx(kn,{articles:e,timeFormat:r});case"focus":return c.jsx(Ln,{articles:e,timeFormat:r});case"gallery":return c.jsx(jn,{articles:e,timeFormat:r});case"compact":return c.jsx(Dn,{articles:e,timeFormat:r});case"split":return c.jsx(zn,{articles:e,timeFormat:r});case"cyberpunk":return c.jsx(Bn,{articles:e,timeFormat:r});case"terminal":return c.jsx(Hn,{articles:e,timeFormat:r});case"pocketfeeds":return c.jsx(Pn,{articles:e,timeFormat:r});case"minimal":return c.jsx(Nn,{articles:e,timeFormat:r});case"list":return c.jsx(En,{articles:e,timeFormat:r});case"modern":return c.jsx(Rn,{articles:e,timeFormat:r});default:return null}};return c.jsx(F.Suspense,{fallback:c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsx(To,{count:6})}),children:y()})}if(h==="magazine"){const y=e.slice(10),v=()=>c.jsx(hn,{articles:e,onArticleClick:s});return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-12 py-8",children:c.jsx(br,{useWindowScroll:!0,data:y,components:{Header:v},itemContent:d,overscan:400})}),n&&c.jsx(zt,{article:n,onClose:()=>a(null),onNext:l,onPrev:u,hasNext:!0,hasPrev:!0})]})}return h==="grid"?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-12 py-8",children:c.jsx(Ji,{useWindowScroll:!0,totalCount:e.length,components:{List:Tn,Item:_n},itemContent:x,overscan:400})}),n&&c.jsx(zt,{article:n,onClose:()=>a(null),onNext:l,onPrev:u,hasNext:!0,hasPrev:!0})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-12 py-8",children:c.jsx(br,{useWindowScroll:!0,data:e,itemContent:f,overscan:400})}),n&&c.jsx(zt,{article:n,onClose:()=>a(null),onNext:l,onPrev:u,hasNext:e.findIndex(y=>y.link===n.link)<e.length-1,hasPrev:e.findIndex(y=>y.link===n.link)>0})]})},On=vo(Mn,"FeedContent"),$n=Object.freeze(Object.defineProperty({__proto__:null,FeedContent:On},Symbol.toStringTag,{value:"Module"}));export{Sr as A,yt as F,nt as a,$n as b,yn as f,dn as g};
