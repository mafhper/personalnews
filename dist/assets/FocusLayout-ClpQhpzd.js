import{r,R as b,j as e}from"./performance-DuI-sttC.js";import{L as v}from"./LazyImage-CuOYJRI5.js";import{A as w}from"./ArticleReaderModal-BhNoArtJ.js";import{b as j}from"./index-DL0dXV3Z.js";import"./react-vendor-Cgg2GOmP.js";import"./services-BY3oiKYC.js";import"./videoEmbed-yRvvzQp4.js";import"./articleFetcher-CV-NqR0N.js";const z=({articles:a})=>{const[l,m]=r.useState(0),[i,x]=r.useState(null),h=b.useRef(null),[f,u]=r.useState(!1),{t:p}=j(),g={position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:100},o=r.useCallback(c=>{f||(u(!0),m(c==="next"?s=>(s+1)%a.length:s=>(s-1+a.length)%a.length),setTimeout(()=>u(!1),500))},[a.length,f]);r.useEffect(()=>{if(i)return;const c=n=>{n.preventDefault(),Math.abs(n.deltaY)>50&&o(n.deltaY>0?"next":"prev")},s=n=>{(n.key==="ArrowDown"||n.key==="ArrowRight")&&o("next"),(n.key==="ArrowUp"||n.key==="ArrowLeft")&&o("prev"),n.key},d=h.current;return d&&d.addEventListener("wheel",c,{passive:!1}),window.addEventListener("keydown",s),()=>{d&&d.removeEventListener("wheel",c),window.removeEventListener("keydown",s)}},[o,i]);const t=a[l];return t?e.jsxs("div",{ref:h,className:"overflow-hidden bg-black text-white isolate font-sans",style:g,children:[e.jsxs("div",{className:"absolute inset-0 z-0 transition-opacity duration-700 ease-in-out",children:[e.jsx(v,{src:t.imageUrl||"",className:"w-full h-full object-cover opacity-40 animate-in fade-in zoom-in-105 duration-1000",alt:""},l),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-black/80"})]}),e.jsxs("div",{className:"absolute top-8 right-8 z-20 flex flex-col gap-2 items-end",children:[e.jsx("span",{className:"text-4xl font-bold font-mono text-white/20",children:String(l+1).padStart(2,"0")}),e.jsx("div",{className:"h-32 w-1 bg-white/10 rounded-full relative overflow-hidden",children:e.jsx("div",{className:"absolute top-0 left-0 w-full bg-white/50 transition-all duration-300",style:{height:`${(l+1)/a.length*100}%`}})}),e.jsx("span",{className:"text-xs font-mono text-white/20",children:String(a.length).padStart(2,"0")})]}),e.jsx("div",{className:"relative z-10 h-full flex flex-col justify-center px-8 md:px-24 max-w-6xl mx-auto",children:e.jsxs("div",{className:"animate-in slide-in-from-bottom-10 fade-in duration-500 flex flex-col justify-center h-full pb-12",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("span",{className:"px-3 py-1 rounded border border-white/20 text-xs uppercase tracking-[0.2em] bg-black/40 backdrop-blur-md",children:t.sourceTitle}),e.jsx("span",{className:"text-xs text-gray-400 font-mono tracking-widest",children:new Date(t.pubDate).toLocaleDateString().split("/").join(".")})]}),e.jsx("h2",{onClick:()=>x(t),className:`font-bold leading-none mb-8 cursor-pointer hover:text-[rgb(var(--color-accent))] transition-colors tracking-tight break-words
                  ${t.title.length>80?"text-4xl md:text-6xl lg:text-7xl":"text-5xl md:text-7xl lg:text-8xl"}
                `,children:t.title}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-300 max-w-3xl leading-relaxed mb-12 line-clamp-3 font-light",children:t.description}),e.jsxs("button",{onClick:()=>x(t),className:"group flex items-center gap-4 text-sm font-bold uppercase tracking-widest hover:text-[rgb(var(--color-accent))] transition-colors self-start",children:[e.jsx("span",{children:p("article.read_full")}),e.jsx("div",{className:"w-12 h-[1px] bg-white/30 group-hover:bg-[rgb(var(--color-accent))] transition-colors relative overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 bg-white w-full -translate-x-full group-hover:translate-x-0 transition-transform duration-300"})})]})]},l)}),e.jsx("div",{className:"absolute bottom-8 right-8 z-20 flex gap-4 text-white/30 text-xs uppercase tracking-widest animate-pulse",children:e.jsx("span",{children:p("article.scroll_hint")})}),i&&e.jsx(w,{article:i,onClose:()=>x(null),onNext:()=>{},onPrev:()=>{},hasNext:!1,hasPrev:!1})]}):null};export{z as FocusLayout};
