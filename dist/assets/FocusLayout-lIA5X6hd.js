import{r as l,a as w,j as e}from"./performance-o4eTjbDj.js";import{O as b}from"./OptimizedImage-BAqbAOA1.js";import{A as v}from"./ArticleReaderModal-DUqv-raQ.js";import{d as j}from"./index-C2YApkSY.js";import{F as N}from"./FeedContent-DOw3wpXl.js";import"./react-vendor-Cgg2GOmP.js";import"./services-Cgo2Rk-m.js";import"./AppContent-CA_X3Odh.js";import"./useFavorites-DdDPJ67s.js";const C=({articles:n})=>{const[i,m]=l.useState(0),[r,x]=l.useState(null),h=w.useRef(null),[u,f]=l.useState(!1),{t:p}=j(),g={position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:100},o=l.useCallback(c=>{u||(f(!0),m(c==="next"?s=>(s+1)%n.length:s=>(s-1+n.length)%n.length),setTimeout(()=>f(!1),500))},[n.length,u]);l.useEffect(()=>{if(r)return;const c=a=>{a.preventDefault(),Math.abs(a.deltaY)>50&&o(a.deltaY>0?"next":"prev")},s=a=>{(a.key==="ArrowDown"||a.key==="ArrowRight")&&o("next"),(a.key==="ArrowUp"||a.key==="ArrowLeft")&&o("prev"),a.key},d=h.current;return d&&d.addEventListener("wheel",c,{passive:!1}),window.addEventListener("keydown",s),()=>{d&&d.removeEventListener("wheel",c),window.removeEventListener("keydown",s)}},[o,r]);const t=n[i];return t?e.jsxs("div",{ref:h,className:"overflow-hidden bg-black text-white isolate font-sans",style:g,children:[e.jsxs("div",{className:"absolute inset-0 z-0 transition-opacity duration-700 ease-in-out",children:[e.jsx("div",{className:"w-full h-full animate-in fade-in zoom-in-105 duration-1000",children:e.jsx(b,{src:t.imageUrl,className:"w-full h-full object-cover opacity-40",alt:"",fallbackText:t.sourceTitle,width:1920,height:1080,priority:!0})},i),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-black/80 pointer-events-none"})]}),e.jsxs("div",{className:"absolute top-8 right-8 z-20 flex flex-col gap-2 items-end",children:[e.jsx("span",{className:"text-4xl font-bold font-mono text-white/20",children:String(i+1).padStart(2,"0")}),e.jsx("div",{className:"h-32 w-1 bg-white/10 rounded-full relative overflow-hidden",children:e.jsx("div",{className:"absolute top-0 left-0 w-full bg-white/50 transition-all duration-300",style:{height:`${(i+1)/n.length*100}%`}})}),e.jsx("span",{className:"text-xs font-mono text-white/20",children:String(n.length).padStart(2,"0")})]}),e.jsx("div",{className:"relative z-10 h-full flex flex-col justify-center px-8 md:px-24 max-w-6xl mx-auto",children:e.jsxs("div",{className:"animate-in slide-in-from-bottom-10 fade-in duration-500 flex flex-col justify-center h-full pb-12",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8 min-w-0",children:[e.jsx("span",{className:"px-3 py-1 rounded border border-white/20 text-xs uppercase tracking-[0.2em] bg-black/40 backdrop-blur-md truncate max-w-[200px] md:max-w-[300px]",children:t.sourceTitle}),e.jsx("span",{className:"text-xs text-gray-400 font-mono tracking-widest",children:new Date(t.pubDate).toLocaleDateString().split("/").join(".")}),e.jsx(N,{article:t,size:"medium",position:"inline",className:"bg-white/5 hover:bg-white/10 border border-white/10"})]}),e.jsx("h2",{onClick:()=>x(t),className:`font-bold leading-none mb-8 cursor-pointer hover:text-[rgb(var(--color-accent))] transition-colors tracking-tight break-words
                  ${t.title.length>80?"text-4xl md:text-6xl lg:text-7xl":"text-5xl md:text-7xl lg:text-8xl"}
                `,children:t.title}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-300 max-w-3xl leading-relaxed mb-12 line-clamp-3 font-light",children:t.description}),e.jsxs("button",{onClick:()=>x(t),className:"group flex items-center gap-4 text-sm font-bold uppercase tracking-widest hover:text-[rgb(var(--color-accent))] transition-colors self-start",children:[e.jsx("span",{children:p("article.read_full")}),e.jsx("div",{className:"w-12 h-[1px] bg-white/30 group-hover:bg-[rgb(var(--color-accent))] transition-colors relative overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 bg-white w-full -translate-x-full group-hover:translate-x-0 transition-transform duration-300"})})]})]},i)}),e.jsx("div",{className:"absolute bottom-8 right-8 z-20 flex gap-4 text-white/30 text-xs uppercase tracking-widest animate-pulse",children:e.jsx("span",{children:p("article.scroll_hint")})}),r&&e.jsx(v,{article:r,onClose:()=>x(null),onNext:()=>{},onPrev:()=>{},hasNext:!1,hasPrev:!1})]}):null};export{C as FocusLayout};
