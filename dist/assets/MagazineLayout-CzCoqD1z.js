import{r as f,R as C,j as e}from"./performance-DlrZJWlJ.js";import{k as M}from"./services-DnXlInF0.js";import{g as A}from"./videoEmbed-yRvvzQp4.js";import{f as D}from"./articleFetcher-BwJYNfsk.js";import{L as w}from"./LazyImage-C2zLxsUD.js";import{a as T,b as z}from"./index-BzYQJbSF.js";import"./react-vendor-Cgg2GOmP.js";const E=({article:t,onClose:s,onNext:i,onPrev:m,hasNext:l,hasPrev:x})=>{const[v,b]=f.useState(!1),n=A(t.link),[h,d]=C.useState(null),[j,u]=C.useState(!1);return f.useEffect(()=>{(async()=>{d(null),u(!0);const c=await D(t.link);c&&d(c),u(!1)})();const o=c=>{c.key==="Escape"&&s(),c.key==="ArrowRight"&&l&&i(),c.key==="ArrowLeft"&&x&&m()};return window.addEventListener("keydown",o),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",o),document.body.style.overflow="unset"}},[t.link,s,i,m,l,x]),e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-8 animate-in fade-in duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-black/95 backdrop-blur-md",onClick:s}),x&&e.jsx("button",{onClick:m,className:"absolute left-4 top-1/2 -translate-y-1/2 p-4 text-[rgb(var(--color-textSecondary))] hover:text-[rgb(var(--color-text))] hover:bg-white/10 rounded-full transition-all z-[110]","aria-label":"Previous Article",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l&&e.jsx("button",{onClick:i,className:"absolute right-4 top-1/2 -translate-y-1/2 p-4 text-[rgb(var(--color-textSecondary))] hover:text-[rgb(var(--color-text))] hover:bg-white/10 rounded-full transition-all z-[110]","aria-label":"Next Article",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsx("button",{onClick:s,className:"absolute top-6 right-6 p-2 text-[rgb(var(--color-text))] hover:text-[rgb(var(--color-accent))] bg-black/20 hover:bg-white/20 backdrop-blur rounded-full z-[110] transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"relative w-full max-w-6xl max-h-[90vh] aspect-[16/10] bg-[rgb(var(--color-background))] text-[rgb(var(--color-text))] rounded-sm shadow-2xl overflow-hidden flex flex-col md:flex-row border-l-[12px] border-r-[12px] border-[rgb(var(--color-border))] book-shadow",children:[e.jsxs("div",{className:"w-full md:w-1/2 h-full p-8 md:p-12 md:border-r border-[rgb(var(--color-border))] flex flex-col justify-between relative bg-[rgb(var(--color-surface))] page-texture overflow-y-auto custom-scrollbar-light",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("span",{className:"px-3 py-1 bg-[rgb(var(--color-accent))] text-white text-xs font-bold uppercase tracking-widest",children:t.sourceTitle}),e.jsx("time",{className:"text-[rgb(var(--color-textSecondary))] text-xs font-serif italic",children:new Date(t.pubDate).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsx("h1",{className:"font-serif text-4xl md:text-5xl lg:text-6xl font-black leading-none tracking-tight mb-8 text-[rgb(var(--color-text))]",children:M(t.title)}),t.author&&e.jsxs("div",{className:"flex items-center gap-2 mb-8 text-sm font-medium text-[rgb(var(--color-textSecondary))] border-l-2 border-[rgb(var(--color-accent))] pl-3",children:["By ",t.author]}),t.imageUrl&&!v&&e.jsxs("div",{className:"relative w-full aspect-video mb-6 cursor-zoom-in group overflow-hidden shadow-lg transform rotate-1 bg-black/20",onClick:()=>b(!0),children:[e.jsx("img",{src:t.imageUrl,alt:"",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]}),n&&e.jsx("div",{className:"aspect-video w-full mb-6 bg-black shadow-lg",children:e.jsx("iframe",{src:n,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),e.jsxs("div",{className:"text-xs text-[rgb(var(--color-textSecondary))] font-mono mt-4 pt-4 border-t border-[rgb(var(--color-border))]",children:["PAGE 1 • ",t.categories?.join(", ")||"Uncategorized"]})]}),e.jsxs("div",{className:"w-full md:w-1/2 h-full p-8 md:p-12 bg-[rgb(var(--color-background))] page-texture overflow-y-auto custom-scrollbar-light relative",children:[e.jsx("div",{className:"prose prose-lg prose-invert max-w-none font-serif leading-relaxed drop-cap text-[rgb(var(--color-text))]",children:h?e.jsx("div",{dangerouslySetInnerHTML:{__html:h},className:"animate-in fade-in duration-500"}):e.jsxs(e.Fragment,{children:[t.content?e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content}}):e.jsx("div",{className:"text-lg leading-8",dangerouslySetInnerHTML:{__html:t.description||""}}),j&&e.jsxs("div",{className:"py-8 flex items-center justify-center text-[rgb(var(--color-textSecondary))] animate-pulse font-sans text-sm",children:[e.jsxs("svg",{className:"w-4 h-4 mr-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Fetching full story from source..."]})]})}),e.jsx("div",{className:"text-xs text-[rgb(var(--color-textSecondary))] font-mono mt-12 pt-4 border-t border-[rgb(var(--color-border))] text-right",children:"PAGE 2 • PERSONAL NEWS"})]})]})]})},$=({articles:t})=>{const[s,i]=f.useState(null),{contentConfig:m}=T(),{t:l}=z(),[x,v]=f.useState(20),b=m.paginationType||"numbered";let n=[];b==="loadMore"?n=t.slice(0,x):n=t;const h=()=>{v(r=>Math.min(r+20,t.length))},d=r=>{i(r)},j=()=>{if(!s)return;const r=t.findIndex(a=>a.link===s.link);r<t.length-1&&i(t[r+1])},u=()=>{if(!s)return;const r=t.findIndex(a=>a.link===s.link);r>0&&i(t[r-1])},g=r=>{const a=typeof r=="string"?new Date(r):r,N=new Date().getTime()-a.getTime();if(N<0||isNaN(N))return a.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"});const p=Math.floor(N/6e4);if(p<1)return l("time.now")||"agora";if(p<60)return`${p}min`;const y=Math.floor(p/60);if(y<24)return`${y}h`;const L=Math.floor(y/24);return L<7?`${L}d`:a.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})},o=n[0],c=n.slice(1,4),k=n.slice(4,10),S=n.slice(10);return o?e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 animate-in fade-in duration-300 min-h-screen",children:[e.jsx("section",{className:"mb-12",children:e.jsx("article",{className:"relative group cursor-pointer overflow-hidden rounded-2xl bg-[rgb(var(--color-surface))]",onClick:()=>d(o),children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[e.jsxs("div",{className:"relative aspect-[4/3] md:aspect-auto md:h-[400px] overflow-hidden",children:[e.jsx(w,{src:o.imageUrl||`https://picsum.photos/seed/${o.link}/1200/800`,alt:o.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 via-transparent to-transparent md:hidden"})]}),e.jsxs("div",{className:"flex flex-col justify-center p-6 md:p-10 bg-gradient-to-br from-[rgb(var(--color-surface))] to-[rgb(var(--color-background))]",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider bg-[rgb(var(--color-accent))] text-white",children:o.sourceTitle}),e.jsx("span",{className:"text-sm text-[rgb(var(--color-textSecondary))]",children:g(o.pubDate)})]}),e.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-[rgb(var(--color-text))] leading-tight mb-4 group-hover:text-[rgb(var(--color-accent))] transition-colors",children:o.title}),e.jsx("p",{className:"text-[rgb(var(--color-textSecondary))] text-base md:text-lg leading-relaxed line-clamp-3 mb-6",children:o.description}),o.author&&e.jsxs("p",{className:"text-sm text-[rgb(var(--color-textSecondary))] italic",children:[l("article.by")||"Por"," ",o.author]}),e.jsx("button",{className:"mt-6 self-start px-6 py-2.5 bg-[rgb(var(--color-primary))] text-white rounded-lg font-semibold text-sm hover:opacity-90 transition-opacity",children:l("action.read")||"Ler artigo"})]})]})})}),c.length>0&&e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-[rgb(var(--color-border))] to-transparent"}),e.jsx("h2",{className:"text-sm font-bold uppercase tracking-widest text-[rgb(var(--color-textSecondary))]",children:l("layout.featured")||"Destaques"}),e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-[rgb(var(--color-border))] to-transparent"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:c.map((r,a)=>e.jsxs("article",{className:"group cursor-pointer",onClick:()=>d(r),children:[e.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden rounded-xl mb-4 bg-[rgb(var(--color-surface))]",children:[e.jsx(w,{src:r.imageUrl||`https://picsum.photos/seed/${r.link}/600/400`,alt:r.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xs font-bold uppercase text-[rgb(var(--color-accent))]",children:r.sourceTitle}),e.jsx("span",{className:"text-xs text-[rgb(var(--color-textSecondary))]",children:"•"}),e.jsx("span",{className:"text-xs text-[rgb(var(--color-textSecondary))]",children:g(r.pubDate)})]}),e.jsx("h3",{className:"font-bold text-lg text-[rgb(var(--color-text))] leading-snug group-hover:text-[rgb(var(--color-accent))] transition-colors line-clamp-2",children:r.title})]},a))})]}),k.length>0&&e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("h2",{className:"text-sm font-bold uppercase tracking-widest text-[rgb(var(--color-textSecondary))]",children:l("layout.more_news")||"Mais Notícias"}),e.jsx("div",{className:"h-px flex-1 bg-[rgb(var(--color-border))]"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map((r,a)=>e.jsxs("article",{className:"group cursor-pointer flex gap-4 p-4 rounded-xl bg-[rgb(var(--color-surface))] hover:bg-[rgb(var(--color-background))] border border-[rgb(var(--color-border))] hover:border-[rgb(var(--color-accent))] transition-all",onClick:()=>d(r),children:[r.imageUrl&&e.jsx("div",{className:"w-24 h-24 flex-shrink-0 overflow-hidden rounded-lg bg-[rgb(var(--color-background))]",children:e.jsx(w,{src:r.imageUrl,alt:r.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase text-[rgb(var(--color-accent))]",children:r.sourceTitle}),e.jsx("span",{className:"text-[10px] text-[rgb(var(--color-textSecondary))]",children:g(r.pubDate)})]}),e.jsx("h3",{className:"font-semibold text-sm text-[rgb(var(--color-text))] group-hover:text-[rgb(var(--color-accent))] transition-colors line-clamp-2 leading-snug",children:r.title})]})]},a))})]}),S.length>0&&e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("h2",{className:"text-sm font-bold uppercase tracking-widest text-[rgb(var(--color-textSecondary))]",children:l("layout.latest")||"Últimas"}),e.jsx("div",{className:"h-px flex-1 bg-[rgb(var(--color-border))]"})]}),e.jsx("div",{className:"space-y-3",children:S.map((r,a)=>e.jsxs("article",{className:"group cursor-pointer flex items-center gap-4 p-3 rounded-lg hover:bg-[rgb(var(--color-surface))] transition-colors border-b border-[rgb(var(--color-border))] last:border-0",onClick:()=>d(r),children:[e.jsx("span",{className:"text-xs font-bold uppercase text-[rgb(var(--color-accent))] w-24 flex-shrink-0 truncate",children:r.sourceTitle}),e.jsx("h4",{className:"flex-1 font-medium text-sm text-[rgb(var(--color-text))] group-hover:text-[rgb(var(--color-accent))] transition-colors line-clamp-1",children:r.title}),e.jsx("span",{className:"text-xs text-[rgb(var(--color-textSecondary))] flex-shrink-0",children:g(r.pubDate)})]},a))})]}),b==="loadMore"&&x<t.length&&e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("button",{onClick:h,className:"px-8 py-3 bg-[rgb(var(--color-primary))] text-white rounded-xl font-semibold text-sm hover:opacity-90 transition-all shadow-lg hover:shadow-xl",children:l("action.load_more")||"Carregar Mais"})}),s&&e.jsx(E,{article:s,onClose:()=>i(null),onNext:j,onPrev:u,hasNext:t.findIndex(r=>r.link===s.link)<t.length-1,hasPrev:t.findIndex(r=>r.link===s.link)>0})]}):e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:e.jsx("p",{className:"text-[rgb(var(--color-textSecondary))] text-lg",children:l("feeds.empty")||"Nenhuma notícia para exibir."})})};export{$ as MagazineLayout};
