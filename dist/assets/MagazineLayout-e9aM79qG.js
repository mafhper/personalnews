import{r as f,R as A,j as e}from"./performance-C3ZVEFVv.js";import{k as z}from"./services-DShKEQpD.js";import{g as D}from"./videoEmbed-yRvvzQp4.js";import{f as T}from"./articleFetcher-DV9XA7ga.js";import{a as E,b as I}from"./index-CpyV6KE6.js";import{A as y}from"./ArticleImage-DzuEZ2nw.js";import{F as w}from"./FavoriteButton-lRbwz3OZ.js";import"./react-vendor-Cgg2GOmP.js";import"./LazyImage-CihW6eNW.js";import"./useFavorites-Di3xehAM.js";const R=({article:t,onClose:s,onNext:i,onPrev:x,hasNext:l,hasPrev:m})=>{const[b,v]=f.useState(!1),g=D(t.link),[n,h]=A.useState(null),[d,u]=A.useState(!1);return f.useEffect(()=>{(async()=>{h(null),u(!0);const o=await T(t.link);o&&h(o),u(!1)})();const c=o=>{o.key==="Escape"&&s(),o.key==="ArrowRight"&&l&&i(),o.key==="ArrowLeft"&&m&&x()};return window.addEventListener("keydown",c),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[t.link,s,i,x,l,m]),e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-8 animate-in fade-in duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-black/95 backdrop-blur-md",onClick:s}),m&&e.jsx("button",{onClick:x,className:"absolute left-4 top-1/2 -translate-y-1/2 p-4 text-[rgb(var(--color-textSecondary))] hover:text-[rgb(var(--color-text))] hover:bg-white/10 rounded-full transition-all z-[110]","aria-label":"Previous Article",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l&&e.jsx("button",{onClick:i,className:"absolute right-4 top-1/2 -translate-y-1/2 p-4 text-[rgb(var(--color-textSecondary))] hover:text-[rgb(var(--color-text))] hover:bg-white/10 rounded-full transition-all z-[110]","aria-label":"Next Article",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsx("button",{onClick:s,className:"absolute top-6 right-6 p-2 text-[rgb(var(--color-text))] hover:text-[rgb(var(--color-accent))] bg-black/20 hover:bg-white/20 backdrop-blur rounded-full z-[110] transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"relative w-full max-w-6xl max-h-[90vh] aspect-[16/10] bg-[rgb(var(--color-background))] text-[rgb(var(--color-text))] rounded-sm shadow-2xl overflow-hidden flex flex-col md:flex-row border-l-[12px] border-r-[12px] border-[rgb(var(--color-border))] book-shadow",children:[e.jsxs("div",{className:"w-full md:w-1/2 h-full p-8 md:p-12 md:border-r border-[rgb(var(--color-border))] flex flex-col justify-between relative bg-[rgb(var(--color-surface))] page-texture overflow-y-auto custom-scrollbar-light",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("span",{className:"px-3 py-1 bg-[rgb(var(--color-accent))] text-white text-xs font-bold uppercase tracking-widest",children:t.sourceTitle}),e.jsx("time",{className:"text-[rgb(var(--color-textSecondary))] text-xs font-serif italic",children:new Date(t.pubDate).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsx("h1",{className:"font-serif text-4xl md:text-5xl lg:text-6xl font-black leading-none tracking-tight mb-8 text-[rgb(var(--color-text))]",children:z(t.title)}),t.author&&e.jsxs("div",{className:"flex items-center gap-2 mb-8 text-sm font-medium text-[rgb(var(--color-textSecondary))] border-l-2 border-[rgb(var(--color-accent))] pl-3",children:["By ",t.author]}),t.imageUrl&&!b&&e.jsxs("div",{className:"relative w-full aspect-video mb-6 cursor-zoom-in group overflow-hidden shadow-lg transform rotate-1 bg-black/20",onClick:()=>v(!0),children:[e.jsx("img",{src:t.imageUrl,alt:"",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]}),g&&e.jsx("div",{className:"aspect-video w-full mb-6 bg-black shadow-lg",children:e.jsx("iframe",{src:g,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),e.jsxs("div",{className:"text-xs text-[rgb(var(--color-textSecondary))] font-mono mt-4 pt-4 border-t border-[rgb(var(--color-border))]",children:["PAGE 1 • ",t.categories?.join(", ")||"Uncategorized"]})]}),e.jsxs("div",{className:"w-full md:w-1/2 h-full p-8 md:p-12 bg-[rgb(var(--color-background))] page-texture overflow-y-auto custom-scrollbar-light relative",children:[e.jsx("div",{className:"prose prose-lg prose-invert max-w-none font-serif leading-relaxed drop-cap text-[rgb(var(--color-text))]",children:n?e.jsx("div",{dangerouslySetInnerHTML:{__html:n},className:"animate-in fade-in duration-500"}):e.jsxs(e.Fragment,{children:[t.content?e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content}}):e.jsx("div",{className:"text-lg leading-8",dangerouslySetInnerHTML:{__html:t.description||""}}),d&&e.jsxs("div",{className:"py-8 flex items-center justify-center text-[rgb(var(--color-textSecondary))] animate-pulse font-sans text-sm",children:[e.jsxs("svg",{className:"w-4 h-4 mr-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Fetching full story from source..."]})]})}),e.jsx("div",{className:"text-xs text-[rgb(var(--color-textSecondary))] font-mono mt-12 pt-4 border-t border-[rgb(var(--color-border))] text-right",children:"PAGE 2 • PERSONAL NEWS"})]})]})]})},V=({articles:t})=>{const[s,i]=f.useState(null),{contentConfig:x}=E(),{t:l}=I(),m=new Date,[b,v]=f.useState(20),g=x.paginationType||"numbered";let n=[];g==="loadMore"?n=t.slice(0,b):n=t;const h=()=>{v(r=>Math.min(r+20,t.length))},d=r=>{i(r)},u=()=>{if(!s)return;const r=t.findIndex(a=>a.link===s.link);r<t.length-1&&i(t[r+1])},k=()=>{if(!s)return;const r=t.findIndex(a=>a.link===s.link);r>0&&i(t[r-1])},c=r=>{const a=typeof r=="string"?new Date(r):r,j=m.getTime()-a.getTime();if(j<0||isNaN(j))return a.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"});const p=Math.floor(j/6e4);if(p<1)return l("time.now")||"agora";if(p<60)return`${p}min`;const N=Math.floor(p/60);if(N<24)return`${N}h`;const M=Math.floor(N/24);return M<7?`${M}d`:a.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})},o=n[0],S=n.slice(1,4),L=n.slice(4,10),C=n.slice(10);return o?e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 animate-in fade-in duration-300 min-h-screen",children:[e.jsx("section",{className:"mb-12",children:e.jsx("article",{className:"relative group cursor-pointer overflow-hidden rounded-2xl bg-[rgb(var(--color-surface))]",onClick:()=>d(o),children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[e.jsxs("div",{className:"relative aspect-[4/3] md:aspect-auto md:h-[400px] overflow-hidden",children:[e.jsx(y,{article:o,width:1200,height:800,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 via-transparent to-transparent md:hidden"}),e.jsx("div",{className:"absolute top-4 right-4 z-20",children:e.jsx(w,{article:o,size:"medium",className:"bg-black/40 hover:bg-black/60 border border-white/10"})})]}),e.jsxs("div",{className:"flex flex-col justify-center p-6 md:p-10 bg-gradient-to-br from-[rgb(var(--color-surface))] to-[rgb(var(--color-background))]",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider bg-[rgb(var(--color-accent))] text-white",children:o.sourceTitle}),e.jsx("span",{className:"text-sm text-[rgb(var(--color-textSecondary))]",children:c(o.pubDate)})]}),e.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-[rgb(var(--color-text))] leading-tight mb-4 group-hover:text-[rgb(var(--color-accent))] transition-colors",children:o.title}),e.jsx("p",{className:"text-[rgb(var(--color-textSecondary))] text-base md:text-lg leading-relaxed line-clamp-3 mb-6",children:o.description}),o.author&&e.jsxs("p",{className:"text-sm text-[rgb(var(--color-textSecondary))] italic",children:[l("article.by")||"Por"," ",o.author]}),e.jsx("button",{className:"mt-6 self-start px-6 py-2.5 bg-[rgb(var(--color-primary))] text-white rounded-lg font-semibold text-sm hover:opacity-90 transition-opacity",children:l("action.read")||"Ler artigo"})]})]})})}),S.length>0&&e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-[rgb(var(--color-border))] to-transparent"}),e.jsx("h2",{className:"text-sm font-bold uppercase tracking-widest text-[rgb(var(--color-textSecondary))]",children:l("layout.featured")||"Destaques"}),e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-[rgb(var(--color-border))] to-transparent"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:S.map((r,a)=>e.jsxs("article",{className:"group cursor-pointer",onClick:()=>d(r),children:[e.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden rounded-xl mb-4 bg-[rgb(var(--color-surface))]",children:[e.jsx(y,{article:r,width:600,height:400,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("div",{className:"absolute top-3 right-3 z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx(w,{article:r,size:"small",className:"bg-black/40 hover:bg-black/60 border border-white/10"})})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xs font-bold uppercase text-[rgb(var(--color-accent))]",children:r.sourceTitle}),e.jsx("span",{className:"text-xs text-[rgb(var(--color-textSecondary))]",children:"•"}),e.jsx("span",{className:"text-xs text-[rgb(var(--color-textSecondary))]",children:c(r.pubDate)})]}),e.jsx("h3",{className:"font-bold text-lg text-[rgb(var(--color-text))] leading-snug group-hover:text-[rgb(var(--color-accent))] transition-colors line-clamp-2",children:r.title})]},a))})]}),L.length>0&&e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("h2",{className:"text-sm font-bold uppercase tracking-widest text-[rgb(var(--color-textSecondary))]",children:l("layout.more_news")||"Mais Notícias"}),e.jsx("div",{className:"h-px flex-1 bg-[rgb(var(--color-border))]"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.map((r,a)=>e.jsxs("article",{className:"group cursor-pointer flex gap-4 p-4 rounded-xl bg-[rgb(var(--color-surface))] hover:bg-[rgb(var(--color-background))] border border-[rgb(var(--color-border))] hover:border-[rgb(var(--color-accent))] transition-all",onClick:()=>d(r),children:[e.jsx("div",{className:"w-24 h-24 flex-shrink-0 overflow-hidden rounded-lg bg-[rgb(var(--color-background))]",children:e.jsx(y,{article:r,width:200,height:200,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase text-[rgb(var(--color-accent))]",children:r.sourceTitle}),e.jsx("span",{className:"text-[10px] text-[rgb(var(--color-textSecondary))]",children:c(r.pubDate)})]}),e.jsx(w,{article:r,size:"small",position:"inline",className:"opacity-0 group-hover:opacity-100 transition-opacity"})]}),e.jsx("h3",{className:"font-semibold text-sm text-[rgb(var(--color-text))] group-hover:text-[rgb(var(--color-accent))] transition-colors line-clamp-2 leading-snug",children:r.title})]})]},a))})]}),C.length>0&&e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("h2",{className:"text-sm font-bold uppercase tracking-widest text-[rgb(var(--color-textSecondary))]",children:l("layout.latest")||"Últimas"}),e.jsx("div",{className:"h-px flex-1 bg-[rgb(var(--color-border))]"})]}),e.jsx("div",{className:"space-y-3",children:C.map((r,a)=>e.jsxs("article",{className:"group cursor-pointer flex items-center gap-4 p-3 rounded-lg hover:bg-[rgb(var(--color-surface))] transition-colors border-b border-[rgb(var(--color-border))] last:border-0",onClick:()=>d(r),children:[e.jsx("span",{className:"text-xs font-bold uppercase text-[rgb(var(--color-accent))] w-24 flex-shrink-0 truncate",children:r.sourceTitle}),e.jsx("h4",{className:"flex-1 font-medium text-sm text-[rgb(var(--color-text))] group-hover:text-[rgb(var(--color-accent))] transition-colors line-clamp-1",children:r.title}),e.jsx("span",{className:"text-xs text-[rgb(var(--color-textSecondary))] flex-shrink-0",children:c(r.pubDate)})]},a))})]}),g==="loadMore"&&b<t.length&&e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("button",{onClick:h,className:"px-8 py-3 bg-[rgb(var(--color-primary))] text-white rounded-xl font-semibold text-sm hover:opacity-90 transition-all shadow-lg hover:shadow-xl",children:l("action.load_more")||"Carregar Mais"})}),s&&e.jsx(R,{article:s,onClose:()=>i(null),onNext:u,onPrev:k,hasNext:t.findIndex(r=>r.link===s.link)<t.length-1,hasPrev:t.findIndex(r=>r.link===s.link)>0})]}):e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:e.jsx("p",{className:"text-[rgb(var(--color-textSecondary))] text-lg",children:l("feeds.empty")||"Nenhuma notícia para exibir."})})};export{V as MagazineLayout};
