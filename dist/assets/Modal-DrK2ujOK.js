import{r as l,j as d}from"./performance-BQw1TMdn.js";import"./react-vendor-Cgg2GOmP.js";import"./services-BY3oiKYC.js";const E=(t,f={})=>{const{trapFocus:x=!1,restoreFocus:b=!1,initialFocus:o,onEscape:a}=f,n=l.useRef(null),s=l.useRef(null),u=l.useRef(!1);l.useEffect(()=>{t&&!u.current?(s.current=document.activeElement,u.current=!0):t||(u.current=!1)},[t]);const i=l.useCallback(()=>{if(!n.current)return[];const e=["button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","a[href]",'[tabindex]:not([tabindex="-1"])','[contenteditable="true"]'].join(", ");return Array.from(n.current.querySelectorAll(e)).filter(m=>{const r=m;return r.offsetParent!==null&&!r.hasAttribute("aria-hidden")&&r.tabIndex!==-1})},[]),c=l.useCallback(()=>{if(!n.current||!t)return;let e=null;typeof o=="string"?e=n.current.querySelector(o):o instanceof HTMLElement&&(e=o),e||(e=i()[0]||null),e&&setTimeout(()=>{e?.focus()},0)},[t,o,i]),w=l.useCallback(()=>{b&&s.current&&setTimeout(()=>{s.current?.focus(),s.current=null},0)},[b]);return l.useEffect(()=>{if(!t||!x||!n.current)return;const e=r=>{if(r.key!=="Tab")return;const h=i();if(h.length===0)return;const p=h[0],g=h[h.length-1];r.shiftKey?document.activeElement===p&&(r.preventDefault(),g.focus()):document.activeElement===g&&(r.preventDefault(),p.focus())},m=r=>{r.key==="Escape"&&a&&a()};return document.addEventListener("keydown",e),document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keydown",m)}},[t,x,a,i]),l.useEffect(()=>{t&&c()},[t,c]),{containerRef:n,restoreFocus:w,setInitialFocus:c}},F=({isOpen:t,onClose:f,children:x,initialFocus:b,ariaLabelledBy:o,ariaLabel:a,size:n})=>{const{containerRef:s,restoreFocus:u}=E(t,{trapFocus:!0,restoreFocus:!0,initialFocus:b||"button",onEscape:f}),c=n?{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"sm:max-w-2xl","3xl":"sm:max-w-3xl","4xl":"sm:max-w-4xl","5xl":"sm:max-w-5xl","6xl":"lg:max-w-6xl","7xl":"xl:max-w-7xl",full:"max-w-full"}[n]:"max-w-sm sm:max-w-2xl lg:max-w-6xl xl:max-w-7xl",w=()=>{u(),f()};return t?d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 transition-all duration-300",onClick:w,role:"dialog","aria-modal":"true","aria-labelledby":o,"aria-label":a,children:d.jsxs("div",{ref:s,className:`bg-gray-900/80 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-4 sm:p-6 lg:p-8 m-4 w-full max-h-[90vh] overflow-y-auto transform transition-all duration-300 animate-in fade-in zoom-in-95 relative ${c}`,onClick:e=>e.stopPropagation(),role:"document",children:[d.jsx("button",{onClick:w,className:"absolute top-3 right-3 p-2 rounded-lg bg-white/5 border border-white/10 text-gray-400 hover:text-white hover:bg-white/15 hover:border-white/20 transition-all duration-200 group","aria-label":"Close modal",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 transition-transform group-hover:scale-110",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),x]})}):null};export{F as Modal};
