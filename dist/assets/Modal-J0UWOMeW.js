import{r as l,R as g,j as m}from"./performance-DlrZJWlJ.js";import"./react-vendor-Cgg2GOmP.js";import"./services-DnXlInF0.js";const y=(e,f={})=>{const{trapFocus:x=!1,restoreFocus:b=!1,initialFocus:o,onEscape:a}=f,r=l.useRef(null),s=l.useRef(null),u=l.useRef(!1);l.useEffect(()=>{e&&!u.current?(s.current=document.activeElement,u.current=!0):e||(u.current=!1)},[e]);const c=l.useCallback(()=>{if(!r.current)return[];const t=["button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","a[href]",'[tabindex]:not([tabindex="-1"])','[contenteditable="true"]'].join(", ");return Array.from(r.current.querySelectorAll(t)).filter(d=>{const n=d;return n.offsetParent!==null&&!n.hasAttribute("aria-hidden")&&n.tabIndex!==-1})},[]),i=l.useCallback(()=>{if(!r.current||!e)return;let t=null;typeof o=="string"?t=r.current.querySelector(o):o instanceof HTMLElement&&(t=o),t||(t=c()[0]||null),t&&setTimeout(()=>{t?.focus()},0)},[e,o,c]),w=l.useCallback(()=>{b&&s.current&&setTimeout(()=>{s.current?.focus(),s.current=null},0)},[b]);return l.useEffect(()=>{if(!e||!x||!r.current)return;const t=n=>{if(n.key!=="Tab")return;const h=c();if(h.length===0)return;const p=h[0],E=h[h.length-1];n.shiftKey?document.activeElement===p&&(n.preventDefault(),E.focus()):document.activeElement===E&&(n.preventDefault(),p.focus())},d=n=>{n.key==="Escape"&&a&&a()};return document.addEventListener("keydown",t),document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",t),document.removeEventListener("keydown",d)}},[e,x,a,c]),l.useEffect(()=>{e&&i()},[e,i]),{containerRef:r,restoreFocus:w,setInitialFocus:i}},C=({isOpen:e,onClose:f,children:x,initialFocus:b,ariaLabelledBy:o,ariaLabel:a,size:r})=>{const{containerRef:s,restoreFocus:u}=y(e,{trapFocus:!0,restoreFocus:!0,initialFocus:b||"button",onEscape:f}),i=r?{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"sm:max-w-2xl","3xl":"sm:max-w-3xl","4xl":"sm:max-w-4xl","5xl":"sm:max-w-5xl","6xl":"lg:max-w-6xl","7xl":"xl:max-w-7xl",full:"max-w-full"}[r]:"max-w-sm sm:max-w-2xl lg:max-w-6xl xl:max-w-7xl",w=()=>{u(),f()};return g.useEffect(()=>(e&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""}),[e]),e?m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 transition-all duration-300",onClick:w,role:"dialog","aria-modal":"true","aria-labelledby":o,"aria-label":a,children:m.jsxs("div",{ref:s,className:`bg-gray-900/80 backdrop-blur-xl border border-white/10 shadow-2xl overflow-y-auto transform transition-all duration-300 animate-in fade-in zoom-in-95 relative ${i} ${r==="full"?"h-full w-full m-0 p-0 rounded-none border-none":"rounded-2xl p-4 sm:p-6 lg:p-8 m-4 max-h-[90vh]"}`,onClick:t=>t.stopPropagation(),role:"document",children:[r!=="full"&&m.jsx("button",{onClick:w,className:"absolute top-3 right-3 p-2 rounded-lg bg-white/5 border border-white/10 text-gray-400 hover:text-white hover:bg-white/15 hover:border-white/20 transition-all duration-200 group z-10","aria-label":"Close modal",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 transition-transform group-hover:scale-110",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),x]})}):null};export{C as Modal};
