import{g as Y,h as X,i as K,P as Q,j as Z,c as ee,a as te,b as ae,u as se,L as re,_ as oe}from"./index-lYFGKdKE.js";import{r as j,j as e,R as le}from"./performance-DuI-sttC.js";import{C as ne,B as V}from"./Card-Dzja5Jsn.js";import{I as W}from"./Input-B0Fgo95W.js";import H from"./AuraWallpaperRenderer-DXbtTsJM.js";import{u as ie}from"./useNotificationReplacements-UoELiVPs.js";import"./react-vendor-Cgg2GOmP.js";import"./services-BY3oiKYC.js";const q=[{name:"Ocean",value:"59 130 246",hex:"#3b82f6"},{name:"Emerald",value:"16 185 129",hex:"#10b981"},{name:"Sunset",value:"249 115 22",hex:"#f97316"},{name:"Rose",value:"244 63 94",hex:"#f43f5e"},{name:"Violet",value:"139 92 246",hex:"#8b5cf6"}],ce=s=>{const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);if(!r)return"59 130 246";const n=parseInt(r[1],16),d=parseInt(r[2],16),l=parseInt(r[3],16);return`${n} ${d} ${l}`},de=({setThemeColor:s})=>{const[r,n]=j.useState("#3b82f6"),[d,l]=j.useState(null),m=x=>{l(x.name),s(x.value)},N=x=>{n(x),l(null);const y=ce(x);s(y)};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[q.map(x=>e.jsx("button",{onClick:()=>m(x),className:`group relative w-10 h-10 rounded-full transition-all duration-200 ${d===x.name?"ring-2 ring-white ring-offset-2 ring-offset-gray-900 scale-110":"hover:scale-110"}`,style:{backgroundColor:x.hex},title:x.name,children:d===x.name&&e.jsx("svg",{className:"absolute inset-0 m-auto w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})},x.name)),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"color",value:r,onChange:x=>N(x.target.value),className:"absolute inset-0 w-10 h-10 opacity-0 cursor-pointer",title:"Custom color"}),e.jsx("div",{className:`w-10 h-10 rounded-full border-2 border-dashed border-gray-500 flex items-center justify-center transition-all hover:border-white ${d===null?"ring-2 ring-white ring-offset-2 ring-offset-gray-900":""}`,style:{backgroundColor:d===null?r:"transparent"},children:d!==null&&e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-500 uppercase tracking-wider",children:[q.map(x=>e.jsx("span",{className:"w-10 text-center truncate",children:x.name},x.name)),e.jsx("span",{className:"w-10 text-center",children:"Custom"})]})]})},xe=({config:s,onChange:r})=>{const[n,d]=j.useState(()=>s.type==="gradient"||s.type==="pattern"?"solid":s.type),[l,m]=j.useState(s.auraSettings||Y),[N,x]=j.useState([]),[y,G]=j.useState("svg"),[B,U]=j.useState("m"),[F,E]=j.useState(!1),P={s:{label:"S (1280Ã—720)",width:1280,height:720},m:{label:"M (1920Ã—1080)",width:1920,height:1080},x:{label:"X (2560Ã—1440)",width:2560,height:1440},xg:{label:"XG (3840Ã—2160)",width:3840,height:2160}};j.useEffect(()=>{s.type==="aura"&&s.auraSettings&&m(s.auraSettings)},[s.type,s.auraSettings]),j.useEffect(()=>{if(n==="aura"){const a=setTimeout(()=>{const c=X(l);x(c)},300);return()=>clearTimeout(a)}},[l,n]);const o=a=>{d(a==="gradient"||a==="pattern"?"solid":a);const u={type:a,customImage:null};if(a==="solid")u.value="#121212";else if(a==="aura"){const b={...l,width:300,height:600};m(b),u.value=i(b),u.auraSettings=b}else a==="image"&&(u.value=s.customImage?`url(${s.customImage})`:"",u.customImage=s.customImage);r(u)},i=a=>{const{width:c,height:u,shapes:b,baseColor:T,noise:z,noiseScale:R}=a,O=`
      <defs>
        <filter id="noiseFilter">
          <feTurbulence
            type="fractalNoise"
            baseFrequency="${R/1e3}"
            numOctaves="3"
            stitchTiles="stitch"
          />
          <feColorMatrix type="saturate" values="0" />     
          <feComponentTransfer>
             <feFuncA type="linear" slope="${z/100}" /> 
          </feComponentTransfer>
        </filter>
        ${b.map(h=>`
          <filter id="blur-${h.id}" x="-100%" y="-100%" width="300%" height="300%">
            <feGaussianBlur stdDeviation="${h.blur}" result="coloredBlur" />
          </filter>
        `).join("")}
      </defs>
    `,I=b.map(h=>`
      <circle
        cx="${h.x}%"
        cy="${h.y}%"
        r="${h.size/2}%"
        fill="${h.color}"
        opacity="${h.opacity}"
        filter="url(#blur-${h.id})"
        style="mix-blend-mode: ${h.blendMode}"
      />
    `).join(""),A=`
      <svg
        viewBox="0 0 ${c} ${u}"
        width="${c}"
        height="${u}"
        xmlns="http://www.w3.org/2000/svg"
        preserveAspectRatio="xMidYMid slice"
        style="background-color: ${T};"
      >
        ${O}
        <rect width="100%" height="100%" fill="${T}" />
        <g>${I}</g>
        <rect
          width="100%"
          height="100%"
          filter="url(#noiseFilter)"
          opacity="1"
          style="mix-blend-mode: overlay;"
        />
      </svg>
    `;return`url('data:image/svg+xml;utf8,${encodeURIComponent(A)}')`},C=a=>{const c=a.target.files?.[0];if(c){const u=new FileReader;u.onloadend=()=>{r({type:"image",value:`url(${u.result})`,customImage:u.result})},u.readAsDataURL(c)}},S=async()=>{E(!0);try{const a=P[B],c={...l,width:a.width,height:a.height},{width:u,height:b,shapes:T,baseColor:z,noise:R,noiseScale:O}=c,I=`
        <defs>
          <filter id="noiseFilter">
            <feTurbulence type="fractalNoise" baseFrequency="${O/1e3}" numOctaves="3" stitchTiles="stitch"/>
            <feColorMatrix type="saturate" values="0"/>
            <feComponentTransfer>
              <feFuncA type="linear" slope="${R/100}"/>
            </feComponentTransfer>
          </filter>
          ${T.map(g=>`
            <filter id="blur-${g.id}" x="-100%" y="-100%" width="300%" height="300%">
              <feGaussianBlur stdDeviation="${g.blur}" result="coloredBlur"/>
            </filter>
          `).join("")}
        </defs>
      `,A=T.map(g=>`
        <circle cx="${g.x}%" cy="${g.y}%" r="${g.size/2}%" 
          fill="${g.color}" opacity="${g.opacity}" 
          filter="url(#blur-${g.id})" style="mix-blend-mode: ${g.blendMode}"/>
      `).join(""),h=`<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 ${u} ${b}" width="${u}" height="${b}" 
  xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice">
  ${I}
  <rect width="100%" height="100%" fill="${z}"/>
  <g>${A}</g>
  <rect width="100%" height="100%" filter="url(#noiseFilter)" opacity="1" style="mix-blend-mode: overlay;"/>
</svg>`;if(y==="svg"){const g=new Blob([h],{type:"image/svg+xml"}),L=URL.createObjectURL(g),f=document.createElement("a");f.href=L,f.download=`aura-wallpaper-${a.width}x${a.height}.svg`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(L)}else{const g=new Image,L=new Blob([h],{type:"image/svg+xml"}),f=URL.createObjectURL(L);g.onload=()=>{const $=document.createElement("canvas");$.width=u,$.height=b;const t=$.getContext("2d");t&&(t.drawImage(g,0,0,u,b),$.toBlob(p=>{if(p){const v=URL.createObjectURL(p),w=document.createElement("a");w.href=v,w.download=`aura-wallpaper-${a.width}x${a.height}.jpg`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(v)}E(!1)},"image/jpeg",.95)),URL.revokeObjectURL(f)},g.onerror=()=>{console.error("Failed to load SVG for JPEG conversion"),E(!1)},g.src=f;return}}catch(a){console.error("Download failed:",a)}E(!1)};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex space-x-1 bg-gray-800/50 p-1 rounded-lg",children:["solid","aura","image"].map(a=>e.jsx("button",{onClick:()=>o(a),className:`flex-1 py-1.5 px-2 rounded-md text-xs font-medium transition-all ${n===a?"bg-[rgb(var(--color-accent))] text-white shadow-md":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))}),e.jsxs(ne,{variant:"glass",className:"p-4 bg-black/20 border-white/5",children:[n==="solid"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400",children:"Cor SÃ³lida"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:s.value.startsWith("#")?s.value:"#121212",onChange:a=>r({value:a.target.value}),className:"w-10 h-10 rounded-lg cursor-pointer bg-transparent border-0"}),e.jsx(W,{value:s.value,onChange:a=>r({value:a.target.value}),placeholder:"#000000",className:"font-mono text-xs h-10"})]})]}),n==="aura"&&e.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[e.jsx("div",{className:"relative h-48 w-full rounded-lg border border-white/10 shadow-inner overflow-hidden",children:e.jsx(H,{config:l,className:"w-full h-full",lowQuality:!0})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400",children:"Cor Base"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:l.baseColor.startsWith("#")?l.baseColor:"#000000",onChange:a=>m(c=>({...c,baseColor:a.target.value})),className:"w-10 h-10 rounded-lg cursor-pointer bg-transparent border-0"}),e.jsx(W,{value:l.baseColor,onChange:a=>m(c=>({...c,baseColor:a.target.value})),placeholder:"#000000",className:"font-mono text-xs h-10"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[10px] text-gray-400 mb-1",children:["RuÃ­do: ",l.noise,"%"]}),e.jsx("input",{type:"range",min:"0",max:"100",value:l.noise,onChange:a=>m(c=>({...c,noise:parseInt(a.target.value)})),className:"w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[10px] text-gray-400 mb-1",children:["Escala RuÃ­do: ",l.noiseScale.toFixed(1)]}),e.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.1",value:l.noiseScale,onChange:a=>m(c=>({...c,noiseScale:parseFloat(a.target.value)})),className:"w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer"})]})]}),e.jsx(V,{onClick:()=>{const a=K(l);m(a),r({type:"aura",value:i(a),auraSettings:a})},className:"w-full",children:"Randomize Aura"}),e.jsxs("div",{className:"pt-3 border-t border-white/10",children:[e.jsx("label",{className:"block text-[10px] text-gray-400 mb-2",children:"Baixar Wallpaper"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs("select",{value:y,onChange:a=>G(a.target.value),className:"flex-1 bg-gray-800/50 text-white text-xs px-2 py-1.5 rounded-md border border-white/10 focus:outline-none focus:border-[rgb(var(--color-accent))]",children:[e.jsx("option",{value:"svg",children:"SVG (Vetorial)"}),e.jsx("option",{value:"jpeg",children:"JPEG (Imagem)"})]}),e.jsxs("select",{value:B,onChange:a=>U(a.target.value),className:"flex-1 bg-gray-800/50 text-white text-xs px-2 py-1.5 rounded-md border border-white/10 focus:outline-none focus:border-[rgb(var(--color-accent))]",children:[e.jsx("option",{value:"s",children:"S (1280Ã—720)"}),e.jsx("option",{value:"m",children:"M (1920Ã—1080)"}),e.jsx("option",{value:"x",children:"X (2560Ã—1440)"}),e.jsx("option",{value:"xg",children:"XG (3840Ã—2160)"})]})]}),e.jsx(V,{onClick:S,disabled:F,className:"w-full",children:F?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Gerando..."]}):e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Baixar ",y.toUpperCase()]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] text-gray-400 mb-2",children:"Presets"}),e.jsx("div",{className:"flex gap-2 flex-wrap max-h-[100px] overflow-y-auto custom-scrollbar",children:Q.map(a=>e.jsx("button",{onClick:()=>{m(c=>({...c,...a.config})),r({type:"aura",value:i({...l,...a.config}),auraSettings:{...l,...a.config}})},className:"w-12 h-8 rounded-md border border-white/10 hover:border-white/30 transition-all shadow-sm",style:{background:a.thumbnail},title:a.name},a.id))})]}),N.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] text-gray-400 mb-2",children:"VariaÃ§Ãµes"}),e.jsx("div",{className:"flex gap-2 flex-wrap max-h-[100px] overflow-y-auto custom-scrollbar",children:N.map((a,c)=>e.jsx("button",{onClick:()=>{m(a),r({type:"aura",value:i(a),auraSettings:a})},className:"w-12 h-8 rounded-md border border-white/10 hover:border-white/30 transition-all shadow-sm",children:e.jsx(H,{config:a,className:"w-full h-full",lowQuality:!0})},c))})]})]}),n==="image"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs text-gray-400",children:"Carregar Imagem"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"cursor-pointer bg-gray-700 hover:bg-gray-600 text-white px-3 py-1.5 rounded-lg transition-colors text-xs",children:["Escolher Arquivo",e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:C})]}),s.customImage&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-green-400 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Imagem carregada"]}),e.jsx("button",{onClick:()=>r({type:"solid",value:"#121212",customImage:null}),className:"text-xs text-red-400 hover:text-red-300",children:"Remover"})]})]})]})]})]})},k=({checked:s,onChange:r,className:n="",size:d="md"})=>{const m={sm:{switch:"h-5 w-9",dot:"h-4 w-4",translate:"translate-x-4"},md:{switch:"h-6 w-11",dot:"h-5 w-5",translate:"translate-x-5"},lg:{switch:"h-8 w-14",dot:"h-7 w-7",translate:"translate-x-6"}}[d];return e.jsx("button",{type:"button",role:"switch","aria-checked":s,onClick:()=>r(!s),className:`
        relative inline-flex ${m.switch} flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-[rgb(var(--color-accent))] focus:ring-offset-2
        ${s?"bg-[rgb(var(--color-accent))]":"bg-gray-700"}
        ${n}
      `,children:e.jsx("span",{"aria-hidden":"true",className:`
          pointer-events-none inline-block ${m.dot} transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out
          ${s?m.translate:"translate-x-0"}
        `})})},ue={FEEDS:"rss-feeds",CATEGORIES:"feed-categories",FAVORITES:"favorites-data",READ_STATUS:"article-read-status",HEADER:"appearance-header",CONTENT:"appearance-content",BACKGROUND:"appearance-background",ACTIVE_LAYOUT:"appearance-active-layout",LAYOUT_SETTINGS:"article-layout-settings",THEME_SETTINGS:"theme-settings",CURRENT_THEME:"extended-theme-current",CUSTOM_THEMES:"extended-theme-custom",TIME_FORMAT:"time-format"},ge=()=>{const s={};return Object.values(ue).forEach(r=>{const n=localStorage.getItem(r);if(n)try{s[r]=JSON.parse(n)}catch(d){console.warn(`Failed to parse key ${r} for backup`,d),s[r]=n}}),{version:"1.0",timestamp:new Date().toISOString(),data:s}},me=s=>{const r=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),n=URL.createObjectURL(r),d=document.createElement("a");d.href=n,d.download=`personal-news-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(n)},he=s=>!(!s||typeof s!="object"||!s.version||!s.timestamp||!s.data),pe=s=>{if(!he(s))throw new Error("Invalid backup file format");try{return Object.entries(s.data).forEach(([r,n])=>{typeof n=="object"?localStorage.setItem(r,JSON.stringify(n)):localStorage.setItem(r,String(n))}),!0}catch(r){return console.error("Failed to restore backup",r),!1}},ke=({isOpen:s,onClose:r,timeFormat:n,setTimeFormat:d})=>{const[l,m]=j.useState("appearance"),{currentTheme:N,updateThemeSettings:x,themeSettings:y,setCurrentTheme:G,defaultPresets:B}=Z();ee();const{applyLayoutPreset:U,backgroundConfig:F,updateBackgroundConfig:E,resetAppearance:P,headerConfig:o,updateHeaderConfig:i,contentConfig:C,updateContentConfig:S}=te(),{alertSuccess:a,alertError:c,confirmDanger:u}=ie(),{language:b,setLanguage:T,t:z}=ae(),{resetCategoryLayouts:R}=se(),O=le.useRef(null),I=()=>{try{const t=ge();me(t),a("Backup exportado!")}catch{c("Erro ao exportar.")}},A=async t=>{const p=t.target.files?.[0];if(p)try{const v=await p.text(),w=JSON.parse(v);await pe(w),a("Backup restaurado!"),window.location.reload()}catch{c("Erro ao importar.")}},h=async()=>{await u("Isso vai resetar apenas as personalizaÃ§Ãµes de estilo (tema, layout, cores, header). Feeds e categorias serÃ£o mantidos. Continuar?")&&(P(),R(),a("Estilos resetados!"))},g=async()=>{await u('Isso vai remover todas as categorias personalizadas e restaurar as categorias padrÃ£o. Os feeds serÃ£o movidos para "Sem categoria". Continuar?')&&(localStorage.removeItem("feed-categories"),window.location.reload())},L=async()=>{await u(`âš ï¸ ATENÃ‡ÃƒO: Isso vai apagar TODOS os dados:

â€¢ Todos os feeds cadastrados
â€¢ Todas as categorias
â€¢ Todas as personalizaÃ§Ãµes de estilo
â€¢ HistÃ³rico de leitura
â€¢ Favoritos

Esta aÃ§Ã£o NÃƒO pode ser desfeita. Deseja continuar?`)&&(["rss-feeds","feed-sources","feed-categories","appearance-header","appearance-content","appearance-background","appearance-active-layout","appearance-overrides","extended-theme-settings","article-layout-settings","article-read-status","favorites-data","personalnews_weather_city","feed-error-history"].forEach(v=>localStorage.removeItem(v)),a("Reset completo realizado! A pÃ¡gina serÃ¡ recarregada."),setTimeout(()=>window.location.reload(),1500))},f=t=>{m(l===t?null:t)},$=t=>{const p={...N,id:`quick-color-${Date.now()}`,name:`${N.name} (Custom)`,colors:{...N.colors,accent:t}};x({currentTheme:p})};return s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 backdrop-blur-sm animate-in fade-in duration-200",onClick:r}),e.jsxs("div",{className:"fixed top-0 right-0 h-full w-full max-w-md bg-[rgb(var(--color-surface))] border-l border-[rgb(var(--color-border))] z-50 shadow-2xl animate-in slide-in-from-right duration-300 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[rgb(var(--color-border))] bg-[rgb(var(--color-background))]",children:[e.jsxs("h2",{className:"text-lg font-bold text-[rgb(var(--color-text))] flex items-center gap-2",children:[e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"ConfiguraÃ§Ãµes"]}),e.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-[rgb(var(--color-background))] text-[rgb(var(--color-textSecondary))] hover:text-[rgb(var(--color-text))] transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsx(D,{title:"AparÃªncia",icon:"ðŸŽ¨",isOpen:l==="appearance",onToggle:()=>f("appearance"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Tema Principal"}),e.jsx("div",{className:"flex gap-2",children:[{id:"auto",label:"Auto"},{id:"light",label:"Claro"},{id:"dark",label:"Escuro"}].map(t=>e.jsx("button",{onClick:()=>{if(t.id==="auto")x({autoDetectSystemTheme:!0,systemThemeOverride:null});else{const p=B.find(v=>v.category===t.id);p&&G(p.theme),x({autoDetectSystemTheme:!1,systemThemeOverride:t.id})}},className:`flex-1 py-2 px-3 rounded-lg text-xs font-medium transition-all ${t.id==="auto"&&y.autoDetectSystemTheme||t.id!=="auto"&&!y.autoDetectSystemTheme&&y.systemThemeOverride===t.id?"bg-[rgb(var(--color-accent))] text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:t.label},t.id))})]}),e.jsx(de,{setThemeColor:$}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Plano de Fundo"}),e.jsx(xe,{config:F,onChange:E})]})]})}),e.jsx(D,{title:"Layouts",icon:"ðŸ“",isOpen:l==="layouts",onToggle:()=>f("layouts"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Estilo de Leitura"}),e.jsx("div",{className:"grid grid-cols-3 gap-2 pr-1",children:[{id:"bento",label:"Bento"},{id:"brutalist",label:"Brutalista"},{id:"compact",label:"Compacto"},{id:"cyberpunk",label:"Cyberpunk"},{id:"split",label:"DivisÃµes"},{id:"focus",label:"Foco"},{id:"gallery",label:"Galeria"},{id:"grid",label:"Grade"},{id:"immersive",label:"Imersivo"},{id:"newspaper",label:"Jornal"},{id:"timeline",label:"Linha do Tempo"},{id:"list",label:"Lista"},{id:"minimal",label:"MÃ­nimo"},{id:"modern",label:"Moderno"},{id:"masonry",label:"Mosaico"},{id:"polaroid",label:"Polaroid"},{id:"magazine",label:"Revista"},{id:"terminal",label:"Terminal"}].map(t=>e.jsxs("button",{onClick:()=>{re.find(v=>v.id===t.id)?U(t.id):S({layoutMode:t.id}),R()},className:`py-2 px-2 rounded-lg text-[10px] font-medium transition-all flex items-center justify-center gap-1 ${C.layoutMode===t.id?"bg-[rgb(var(--color-accent))] text-white shadow-lg ring-1 ring-white/20":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:[C.layoutMode===t.id&&e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white animate-pulse"}),t.label]},t.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"PosiÃ§Ã£o do CabeÃ§alho"}),e.jsxs("select",{value:o.position,onChange:t=>i({position:t.target.value}),className:"w-full bg-gray-800 border-gray-700 text-gray-300 text-xs rounded-lg h-9 px-3",children:[e.jsx("option",{value:"sticky",children:"Fixo no Topo (Sticky)"}),e.jsx("option",{value:"static",children:"EstÃ¡tico"}),e.jsx("option",{value:"floating",children:"Flutuante"}),e.jsx("option",{value:"hidden",children:"Oculto (Auto-hide)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Altura"}),e.jsxs("select",{value:o.height,onChange:t=>i({height:t.target.value}),className:"w-full bg-gray-800 border-gray-700 text-gray-300 text-xs rounded-lg h-9 px-3",children:[e.jsx("option",{value:"ultra-compact",children:"MÃ­nima (Ultra)"}),e.jsx("option",{value:"tiny",children:"Extra Compacto"}),e.jsx("option",{value:"compact",children:"Compacto"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"spacious",children:"EspaÃ§oso"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Cor do Fundo"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:o.bgColor||"#1a1a1a",onChange:t=>i({bgColor:t.target.value}),className:"w-8 h-8 rounded cursor-pointer bg-transparent border-0"}),e.jsx("span",{className:"text-xs text-gray-500",children:o.bgColor||"#1a1a1a"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-gray-400 mb-2",children:["Opacidade: ",Math.round((o.bgOpacity??.9)*100),"%"]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:o.bgOpacity??.9,onChange:t=>i({bgOpacity:parseFloat(t.target.value)}),className:"w-full h-1 bg-gray-700 rounded-lg"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-gray-400 mb-2",children:["Blur: ",o.blur??10,"px"]}),e.jsx("input",{type:"range",min:"0",max:"30",step:"2",value:o.blur??10,onChange:t=>i({blur:parseInt(t.target.value)}),className:"w-full h-1 bg-gray-700 rounded-lg"})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-800",children:[e.jsxs("h3",{className:"text-xs font-bold text-gray-300 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"ðŸ†”"})," Identidade Visual"]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Logo SVG"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>document.getElementById("logo-upload")?.click(),className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 py-2 px-3 rounded-lg text-xs font-medium transition-colors border border-gray-700 flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),o.customLogoSvg?"Alterar Logo SVG":"Carregar Logo SVG"]}),o.customLogoSvg&&e.jsx("button",{onClick:()=>i({customLogoSvg:void 0}),className:"px-3 bg-red-900/30 hover:bg-red-900/50 text-red-400 rounded-lg border border-red-800/50",title:"Remover Logo",children:"âœ•"})]}),e.jsx("input",{id:"logo-upload",type:"file",accept:".svg",className:"hidden",onChange:t=>{const p=t.target.files?.[0];if(p){const v=new FileReader;v.onload=w=>{const _=w.target?.result;oe(()=>import("./services-BY3oiKYC.js").then(M=>M.q),[]).then(M=>{const J=M.default.sanitize(_);i({customLogoSvg:J})}).catch(M=>{console.error("DOMPurify load failed, using raw",M),i({customLogoSvg:_})})},v.readAsText(p)}}}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:o.customLogoSvg?"âœ… SVG personalizado ativo":"Selecione um arquivo .svg para usar como logo"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Tamanho do Logo"}),e.jsx("div",{className:"flex bg-gray-800 rounded-lg p-1",children:["sm","md","lg"].map(t=>e.jsx("button",{onClick:()=>i({logoSize:t}),className:`flex-1 py-1 text-[10px] rounded ${o.logoSize===t?"bg-gray-600 text-white":"text-gray-400"}`,children:t.toUpperCase()},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Cor do Logo"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:o.logoColorMode||"theme",onChange:t=>i({logoColorMode:t.target.value}),className:"bg-gray-800 text-[10px] rounded h-8 px-2 border-none flex-1",children:[e.jsx("option",{value:"theme",children:"Tema"}),e.jsx("option",{value:"custom",children:"Fixa"}),e.jsx("option",{value:"original",children:"Original"})]}),o.logoColorMode==="custom"&&e.jsx("input",{type:"color",value:o.logoColor||"#ffffff",onChange:t=>i({logoColor:t.target.value}),className:"w-8 h-8 rounded bg-transparent cursor-pointer"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Sincronizar Favicon"}),e.jsx(k,{checked:o.syncFavicon||!1,onChange:t=>i({syncFavicon:t}),size:"sm"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Mostrar Logo"}),e.jsx(k,{checked:o.showLogo!==!1,onChange:t=>i({showLogo:t}),size:"sm"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-xs text-gray-400",children:"TÃ­tulo da PÃ¡gina"}),e.jsx(k,{checked:o.showTitle,onChange:t=>i({showTitle:t}),size:"sm"})]}),o.showTitle&&e.jsx("input",{type:"text",value:o.customTitle||"",onChange:t=>i({customTitle:t.target.value}),className:"w-full bg-gray-800 border-gray-700 text-gray-300 text-xs rounded-lg h-9 px-3"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"block text-xs text-gray-400",children:"Estilo do Texto"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] text-gray-500",children:"Gradiente"}),e.jsx(k,{checked:o.titleGradient?.enabled||!1,onChange:t=>i({titleGradient:{...o.titleGradient||{from:"#fff",to:"#fff",direction:"to right"},enabled:t}}),size:"sm"})]})]}),o.titleGradient?.enabled?e.jsxs("div",{className:"bg-gray-800/50 p-2 rounded-lg space-y-2 border border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] text-gray-400",children:"Cores"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",value:o.titleGradient.from,onChange:t=>i({titleGradient:{...o.titleGradient,from:t.target.value}}),className:"w-6 h-6 rounded bg-transparent"}),e.jsx("span",{className:"text-gray-500",children:"â†’"}),e.jsx("input",{type:"color",value:o.titleGradient.to,onChange:t=>i({titleGradient:{...o.titleGradient,to:t.target.value}}),className:"w-6 h-6 rounded bg-transparent"})]})]}),e.jsxs("div",{className:"flex justify-between items-center text-[10px]",children:[e.jsx("span",{className:"text-gray-400",children:"DireÃ§Ã£o"}),e.jsxs("select",{value:o.titleGradient.direction,onChange:t=>i({titleGradient:{...o.titleGradient,direction:t.target.value}}),className:"bg-gray-900 border-none rounded h-6 px-1 text-gray-300",children:[e.jsx("option",{value:"to right",children:"âž¡ Dir."}),e.jsx("option",{value:"to left",children:"â¬… Esq."}),e.jsx("option",{value:"to bottom",children:"â¬‡ Baixo"}),e.jsx("option",{value:"to bottom right",children:"â†˜ Diag."})]})]})]}):e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Cor do Texto"}),e.jsx("input",{type:"color",value:o.titleColor||"#ffffff",onChange:t=>i({titleColor:t.target.value}),className:"w-8 h-8 rounded bg-transparent cursor-pointer"})]})]})]})]})]})}),e.jsx(D,{title:"ExibiÃ§Ã£o",icon:"ðŸ‘",isOpen:l==="display",onToggle:()=>f("display"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-300",children:"Mostrar Autor"}),e.jsx(k,{checked:C.showAuthor,onChange:t=>S({showAuthor:t}),size:"sm"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-300",children:"Mostrar Data"}),e.jsx(k,{checked:C.showDate,onChange:t=>S({showDate:t}),size:"sm"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-300",children:"Mostrar Tags"}),e.jsx(k,{checked:C.showTags,onChange:t=>S({showTags:t}),size:"sm"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-300",children:"Formato 24h"}),e.jsx(k,{checked:n==="24h",onChange:t=>d(t?"24h":"12h"),size:"sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"PaginaÃ§Ã£o"}),e.jsxs("select",{value:C.paginationType||"numbered",onChange:t=>S({paginationType:t.target.value}),className:"w-full bg-gray-800 border-gray-700 text-gray-300 text-xs rounded-lg h-9 px-3",children:[e.jsx("option",{value:"numbered",children:"PÃ¡ginas (Numerada)"}),e.jsx("option",{value:"loadMore",children:'BotÃ£o "Carregar Mais"'})]})]})]})}),e.jsx(D,{title:"Sistema",icon:"âš™ï¸",isOpen:l==="system",onToggle:()=>f("system"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Idioma"}),e.jsxs("select",{value:b,onChange:t=>T(t.target.value),className:"w-full bg-gray-800 border-gray-700 text-gray-300 text-xs rounded-lg h-9 px-3",children:[e.jsx("option",{value:"pt-BR",children:"PortuguÃªs (BR)"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"es",children:"EspaÃ±ol"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:I,className:"flex-1 py-2 px-3 bg-gray-800 hover:bg-gray-700 text-gray-300 text-xs rounded-lg transition-colors",children:"Exportar"}),e.jsxs("label",{className:"flex-1 py-2 px-3 bg-gray-800 hover:bg-gray-700 text-gray-300 text-xs rounded-lg transition-colors text-center cursor-pointer",children:["Importar",e.jsx("input",{type:"file",accept:".json",className:"hidden",ref:O,onChange:A})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"OpÃ§Ãµes de Reset"}),e.jsxs("button",{onClick:h,className:"w-full py-2 px-3 bg-yellow-900/20 hover:bg-yellow-900/40 text-yellow-400 text-xs rounded-lg transition-colors border border-yellow-800/30 text-left",children:["ðŸŽ¨ Resetar Estilos",e.jsx("span",{className:"block text-[10px] text-yellow-600 mt-0.5",children:"Tema, layout, cores e header"})]}),e.jsxs("button",{onClick:g,className:"w-full py-2 px-3 bg-orange-900/20 hover:bg-orange-900/40 text-orange-400 text-xs rounded-lg transition-colors border border-orange-800/30 text-left",children:["ðŸ“‚ Resetar Categorias",e.jsx("span",{className:"block text-[10px] text-orange-600 mt-0.5",children:"Remove categorias personalizadas"})]}),e.jsxs("button",{onClick:L,className:"w-full py-2 px-3 bg-red-900/30 hover:bg-red-900/50 text-red-400 text-xs rounded-lg transition-colors border border-red-800/50 text-left",children:["âš ï¸ Reset Completo",e.jsx("span",{className:"block text-[10px] text-red-600 mt-0.5",children:"Apaga TUDO: feeds, categorias, estilos"})]})]})]})})]})]})]}):null},D=({title:s,icon:r,isOpen:n,onToggle:d,children:l})=>e.jsxs("div",{className:"border border-[rgb(var(--color-border))] rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:d,className:"w-full flex items-center justify-between p-3 bg-[rgb(var(--color-background))] hover:bg-gray-800/50 transition-colors",children:[e.jsxs("span",{className:"flex items-center gap-2 text-sm font-medium text-[rgb(var(--color-text))]",children:[e.jsx("span",{children:r}),s]}),e.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&e.jsx("div",{className:"p-4 bg-[rgb(var(--color-surface))] animate-in slide-in-from-top-2 duration-200",children:l})]});export{ke as SettingsSidebar};
