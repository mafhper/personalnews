import{D as q,g as Y,f as X,P as K,h as Q,b as Z,a as ee,u as ae,L as te,_ as se}from"./index-qehJ29F6.js";import{r as f,j as e,R as re}from"./performance-DGt_hWBo.js";import{C as le,B as _}from"./Card-BYBKq3mD.js";import{I as V}from"./Input-Cy5c7-Hl.js";import W from"./AuraWallpaperRenderer-CeLguj8Q.js";import{S}from"./Switch-CqyllBNs.js";import{u as oe}from"./useNotificationReplacements-BTe9EHe0.js";import"./react-vendor-Cgg2GOmP.js";import"./services-Do1rjcQb.js";const H=[{name:"Ocean",value:"59 130 246",hex:"#3b82f6"},{name:"Emerald",value:"16 185 129",hex:"#10b981"},{name:"Sunset",value:"249 115 22",hex:"#f97316"},{name:"Rose",value:"244 63 94",hex:"#f43f5e"},{name:"Violet",value:"139 92 246",hex:"#8b5cf6"}],ne=s=>{const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);if(!r)return"59 130 246";const n=parseInt(r[1],16),u=parseInt(r[2],16),o=parseInt(r[3],16);return`${n} ${u} ${o}`},ie=({setThemeColor:s})=>{const[r,n]=f.useState("#3b82f6"),[u,o]=f.useState(null),p=d=>{o(d.name),s(d.value)},N=d=>{n(d),o(null);const y=ne(d);s(y)};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[H.map(d=>e.jsx("button",{onClick:()=>p(d),className:`group relative w-10 h-10 rounded-full transition-all duration-200 ${u===d.name?"ring-2 ring-white ring-offset-2 ring-offset-gray-900 scale-110":"hover:scale-110"}`,style:{backgroundColor:d.hex},title:d.name,children:u===d.name&&e.jsx("svg",{className:"absolute inset-0 m-auto w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})},d.name)),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"color",value:r,onChange:d=>N(d.target.value),className:"absolute inset-0 w-10 h-10 opacity-0 cursor-pointer",title:"Custom color"}),e.jsx("div",{className:`w-10 h-10 rounded-full border-2 border-dashed border-gray-500 flex items-center justify-center transition-all hover:border-white ${u===null?"ring-2 ring-white ring-offset-2 ring-offset-gray-900":""}`,style:{backgroundColor:u===null?r:"transparent"},children:u!==null&&e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-500 uppercase tracking-wider",children:[H.map(d=>e.jsx("span",{className:"w-10 text-center truncate",children:d.name},d.name)),e.jsx("span",{className:"w-10 text-center",children:"Custom"})]})]})},ce=({config:s,onChange:r})=>{const[n,u]=f.useState(()=>s.type==="gradient"||s.type==="pattern"?"solid":s.type),[o,p]=f.useState(s.auraSettings||q),[N,d]=f.useState([]),[y,U]=f.useState("svg"),[F,z]=f.useState("m"),[D,R]=f.useState(!1),P={s:{label:"S (1280Ã—720)",width:1280,height:720},m:{label:"M (1920Ã—1080)",width:1920,height:1080},x:{label:"X (2560Ã—1440)",width:2560,height:1440},xg:{label:"XG (3840Ã—2160)",width:3840,height:2160}};f.useEffect(()=>{s.type==="aura"&&s.auraSettings&&p(s.auraSettings)},[s.type,s.auraSettings]),f.useEffect(()=>{if(n==="aura"){const t=setTimeout(()=>{const c=Y(o);d(c)},300);return()=>clearTimeout(t)}},[o,n]);const l=t=>{u(t==="gradient"||t==="pattern"?"solid":t);const x={type:t,customImage:null};if(t==="solid")x.value="#121212";else if(t==="aura"){const b={...o,width:300,height:600};p(b),x.value=i(b),x.auraSettings=b}else t==="image"&&(x.value=s.customImage?`url(${s.customImage})`:"",x.customImage=s.customImage);r(x)},i=t=>{const{width:c,height:x,shapes:b,baseColor:E,noise:L,noiseScale:O}=t,I=`
      <defs>
        <filter id="noiseFilter">
          <feTurbulence
            type="fractalNoise"
            baseFrequency="${O/1e3}"
            numOctaves="3"
            stitchTiles="stitch"
          />
          <feColorMatrix type="saturate" values="0" />     
          <feComponentTransfer>
             <feFuncA type="linear" slope="${L/100}" /> 
          </feComponentTransfer>
        </filter>
        ${b.map(m=>`
          <filter id="blur-${m.id}" x="-100%" y="-100%" width="300%" height="300%">
            <feGaussianBlur stdDeviation="${m.blur}" result="coloredBlur" />
          </filter>
        `).join("")}
      </defs>
    `,A=b.map(m=>`
      <circle
        cx="${m.x}%"
        cy="${m.y}%"
        r="${m.size/2}%"
        fill="${m.color}"
        opacity="${m.opacity}"
        filter="url(#blur-${m.id})"
        style="mix-blend-mode: ${m.blendMode}"
      />
    `).join(""),M=`
      <svg
        viewBox="0 0 ${c} ${x}"
        width="${c}"
        height="${x}"
        xmlns="http://www.w3.org/2000/svg"
        preserveAspectRatio="xMidYMid slice"
        style="background-color: ${E};"
      >
        ${I}
        <rect width="100%" height="100%" fill="${E}" />
        <g>${A}</g>
        <rect
          width="100%"
          height="100%"
          filter="url(#noiseFilter)"
          opacity="1"
          style="mix-blend-mode: overlay;"
        />
      </svg>
    `;return`url('data:image/svg+xml;utf8,${encodeURIComponent(M)}')`},C=t=>{const c=t.target.files?.[0];if(c){const x=new FileReader;x.onloadend=()=>{r({type:"image",value:`url(${x.result})`,customImage:x.result})},x.readAsDataURL(c)}},T=async()=>{R(!0);try{const t=P[F],c={...o,width:t.width,height:t.height},{width:x,height:b,shapes:E,baseColor:L,noise:O,noiseScale:I}=c,A=`
        <defs>
          <filter id="noiseFilter">
            <feTurbulence type="fractalNoise" baseFrequency="${I/1e3}" numOctaves="3" stitchTiles="stitch"/>
            <feColorMatrix type="saturate" values="0"/>
            <feComponentTransfer>
              <feFuncA type="linear" slope="${O/100}"/>
            </feComponentTransfer>
          </filter>
          ${E.map(g=>`
            <filter id="blur-${g.id}" x="-100%" y="-100%" width="300%" height="300%">
              <feGaussianBlur stdDeviation="${g.blur}" result="coloredBlur"/>
            </filter>
          `).join("")}
        </defs>
      `,M=E.map(g=>`
        <circle cx="${g.x}%" cy="${g.y}%" r="${g.size/2}%" 
          fill="${g.color}" opacity="${g.opacity}" 
          filter="url(#blur-${g.id})" style="mix-blend-mode: ${g.blendMode}"/>
      `).join(""),m=`<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 ${x} ${b}" width="${x}" height="${b}" 
  xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice">
  ${A}
  <rect width="100%" height="100%" fill="${L}"/>
  <g>${M}</g>
  <rect width="100%" height="100%" filter="url(#noiseFilter)" opacity="1" style="mix-blend-mode: overlay;"/>
</svg>`;if(y==="svg"){const g=new Blob([m],{type:"image/svg+xml"}),w=URL.createObjectURL(g),j=document.createElement("a");j.href=w,j.download=`aura-wallpaper-${t.width}x${t.height}.svg`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(w)}else{const g=new Image,w=new Blob([m],{type:"image/svg+xml"}),j=URL.createObjectURL(w);g.onload=()=>{const a=document.createElement("canvas");a.width=x,a.height=b;const h=a.getContext("2d");h&&(h.drawImage(g,0,0,x,b),a.toBlob(v=>{if(v){const $=URL.createObjectURL(v),k=document.createElement("a");k.href=$,k.download=`aura-wallpaper-${t.width}x${t.height}.jpg`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL($)}R(!1)},"image/jpeg",.95)),URL.revokeObjectURL(j)},g.onerror=()=>{console.error("Failed to load SVG for JPEG conversion"),R(!1)},g.src=j;return}}catch(t){console.error("Download failed:",t)}R(!1)};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex space-x-1 bg-gray-800/50 p-1 rounded-lg",children:["solid","aura","image"].map(t=>e.jsx("button",{onClick:()=>l(t),className:`flex-1 py-1.5 px-2 rounded-md text-xs font-medium transition-all ${n===t?"bg-[rgb(var(--color-accent))] text-white shadow-md":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:t.charAt(0).toUpperCase()+t.slice(1)},t))}),e.jsxs(le,{variant:"glass",className:"p-4 bg-black/20 border-white/5",children:[n==="solid"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400",children:"Cor SÃ³lida"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:s.value.startsWith("#")?s.value:"#121212",onChange:t=>r({value:t.target.value}),className:"w-10 h-10 rounded-lg cursor-pointer bg-transparent border-0"}),e.jsx(V,{value:s.value,onChange:t=>r({value:t.target.value}),placeholder:"#000000",className:"font-mono text-xs h-10"})]})]}),n==="aura"&&e.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[e.jsx("div",{className:"relative h-48 w-full rounded-lg border border-white/10 shadow-inner overflow-hidden",children:e.jsx(W,{config:o,className:"w-full h-full",lowQuality:!0})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400",children:"Cor Base"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:o.baseColor.startsWith("#")?o.baseColor:"#000000",onChange:t=>p(c=>({...c,baseColor:t.target.value})),className:"w-10 h-10 rounded-lg cursor-pointer bg-transparent border-0"}),e.jsx(V,{value:o.baseColor,onChange:t=>p(c=>({...c,baseColor:t.target.value})),placeholder:"#000000",className:"font-mono text-xs h-10"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[10px] text-gray-400 mb-1",children:["RuÃ­do: ",o.noise,"%"]}),e.jsx("input",{type:"range",min:"0",max:"100",value:o.noise,onChange:t=>p(c=>({...c,noise:parseInt(t.target.value)})),className:"w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[10px] text-gray-400 mb-1",children:["Escala RuÃ­do: ",o.noiseScale.toFixed(1)]}),e.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.1",value:o.noiseScale,onChange:t=>p(c=>({...c,noiseScale:parseFloat(t.target.value)})),className:"w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer"})]})]}),e.jsx(_,{onClick:()=>{const t=X(o);p(t),r({type:"aura",value:i(t),auraSettings:t})},className:"w-full",children:"Randomize Aura"}),e.jsxs("div",{className:"pt-3 border-t border-white/10",children:[e.jsx("label",{className:"block text-[10px] text-gray-400 mb-2",children:"Baixar Wallpaper"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs("select",{value:y,onChange:t=>U(t.target.value),className:"flex-1 bg-gray-800/50 text-white text-xs px-2 py-1.5 rounded-md border border-white/10 focus:outline-none focus:border-[rgb(var(--color-accent))]",children:[e.jsx("option",{value:"svg",children:"SVG (Vetorial)"}),e.jsx("option",{value:"jpeg",children:"JPEG (Imagem)"})]}),e.jsxs("select",{value:F,onChange:t=>z(t.target.value),className:"flex-1 bg-gray-800/50 text-white text-xs px-2 py-1.5 rounded-md border border-white/10 focus:outline-none focus:border-[rgb(var(--color-accent))]",children:[e.jsx("option",{value:"s",children:"S (1280Ã—720)"}),e.jsx("option",{value:"m",children:"M (1920Ã—1080)"}),e.jsx("option",{value:"x",children:"X (2560Ã—1440)"}),e.jsx("option",{value:"xg",children:"XG (3840Ã—2160)"})]})]}),e.jsx(_,{onClick:T,disabled:D,className:"w-full",children:D?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Gerando..."]}):e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Baixar ",y.toUpperCase()]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] text-gray-400 mb-2",children:"Presets"}),e.jsx("div",{className:"flex gap-2 flex-wrap max-h-[100px] overflow-y-auto custom-scrollbar",children:K.map(t=>e.jsx("button",{onClick:()=>{p(c=>({...c,...t.config})),r({type:"aura",value:i({...o,...t.config}),auraSettings:{...o,...t.config}})},className:"w-12 h-8 rounded-md border border-white/10 hover:border-white/30 transition-all shadow-sm",style:{background:t.thumbnail},title:t.name},t.id))})]}),N.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] text-gray-400 mb-2",children:"VariaÃ§Ãµes"}),e.jsx("div",{className:"flex gap-2 flex-wrap max-h-[100px] overflow-y-auto custom-scrollbar",children:N.map((t,c)=>e.jsx("button",{onClick:()=>{p(t),r({type:"aura",value:i(t),auraSettings:t})},className:"w-12 h-8 rounded-md border border-white/10 hover:border-white/30 transition-all shadow-sm",children:e.jsx(W,{config:t,className:"w-full h-full",lowQuality:!0})},c))})]})]}),n==="image"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs text-gray-400",children:"Carregar Imagem"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"cursor-pointer bg-gray-700 hover:bg-gray-600 text-white px-3 py-1.5 rounded-lg transition-colors text-xs",children:["Escolher Arquivo",e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:C})]}),s.customImage&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-green-400 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Imagem carregada"]}),e.jsx("button",{onClick:()=>r({type:"solid",value:"#121212",customImage:null}),className:"text-xs text-red-400 hover:text-red-300",children:"Remover"})]})]})]})]})]})},de={FEEDS:"rss-feeds",CATEGORIES:"feed-categories",FAVORITES:"favorites-data",READ_STATUS:"article-read-status",HEADER:"appearance-header",CONTENT:"appearance-content",BACKGROUND:"appearance-background",ACTIVE_LAYOUT:"appearance-active-layout",LAYOUT_SETTINGS:"article-layout-settings",THEME_SETTINGS:"theme-settings",CURRENT_THEME:"extended-theme-current",CUSTOM_THEMES:"extended-theme-custom",TIME_FORMAT:"time-format"},xe=()=>{const s={};return Object.values(de).forEach(r=>{const n=localStorage.getItem(r);if(n)try{s[r]=JSON.parse(n)}catch(u){console.warn(`Failed to parse key ${r} for backup`,u),s[r]=n}}),{version:"1.0",timestamp:new Date().toISOString(),data:s}},ue=s=>{const r=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),n=URL.createObjectURL(r),u=document.createElement("a");u.href=n,u.download=`personal-news-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(n)},ge=s=>!(!s||typeof s!="object"||!s.version||!s.timestamp||!s.data),me=s=>{if(!ge(s))throw new Error("Invalid backup file format");try{return Object.entries(s.data).forEach(([r,n])=>{typeof n=="object"?localStorage.setItem(r,JSON.stringify(n)):localStorage.setItem(r,String(n))}),!0}catch(r){return console.error("Failed to restore backup",r),!1}},Ce=({isOpen:s,onClose:r,timeFormat:n,setTimeFormat:u})=>{const[o,p]=f.useState(null),{currentTheme:N,updateThemeSettings:d,themeSettings:y,setCurrentTheme:U,defaultPresets:F}=Q(),{applyLayoutPreset:z,backgroundConfig:D,updateBackgroundConfig:R,resetAppearance:P,headerConfig:l,updateHeaderConfig:i,contentConfig:C,updateContentConfig:T}=Z(),{alertSuccess:t,alertError:c,confirmDanger:x}=oe(),{language:b,setLanguage:E}=ee(),{resetCategoryLayouts:L}=ae(),O=re.useRef(null),I=()=>{try{const a=xe();ue(a),t("Backup exportado!")}catch{c("Erro ao exportar.")}},A=async a=>{const h=a.target.files?.[0];if(h)try{const v=await h.text(),$=JSON.parse(v);await me($),t("Backup restaurado!"),window.location.reload()}catch{c("Erro ao importar.")}},M=async()=>{await x("Isso vai resetar apenas as personalizaÃ§Ãµes de estilo (tema, layout, cores, header). Feeds e categorias serÃ£o mantidos. Continuar?")&&(P(),L(),t("Estilos resetados!"))},m=async()=>{await x('Isso vai remover todas as categorias personalizadas e restaurar as categorias padrÃ£o. Os feeds serÃ£o movidos para "Sem categoria". Continuar?')&&(localStorage.removeItem("feed-categories"),window.location.reload())},g=async()=>{await x(`âš ï¸ ATENÃ‡ÃƒO: Isso vai apagar TODOS os dados:

â€¢ Todos os feeds cadastrados
â€¢ Todas as categorias
â€¢ Todas as personalizaÃ§Ãµes de estilo
â€¢ HistÃ³rico de leitura
â€¢ Favoritos

Esta aÃ§Ã£o NÃƒO pode ser desfeita. Deseja continuar?`)&&(["rss-feeds","feed-sources","feed-categories","appearance-header","appearance-content","appearance-background","appearance-active-layout","appearance-overrides","extended-theme-settings","article-layout-settings","article-read-status","favorites-data","personalnews_weather_city","feed-error-history"].forEach(v=>localStorage.removeItem(v)),t("Reset completo realizado! A pÃ¡gina serÃ¡ recarregada."),setTimeout(()=>window.location.reload(),1500))},w=a=>{p(o===a?null:a)},j=a=>{const h={...N,id:`quick-color-${Date.now()}`,name:`${N.name} (Custom)`,colors:{...N.colors,accent:a}};d({currentTheme:h})};return s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 backdrop-blur-sm animate-in fade-in duration-200",onClick:r}),e.jsxs("div",{className:"fixed top-0 right-0 h-full w-full max-w-md bg-[rgb(var(--color-surface))] border-l border-[rgb(var(--color-border))] z-50 shadow-2xl animate-in slide-in-from-right duration-300 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[rgb(var(--color-border))] bg-[rgb(var(--color-background))]",children:[e.jsxs("h2",{className:"text-lg font-bold text-[rgb(var(--color-text))] flex items-center gap-2",children:[e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"ConfiguraÃ§Ãµes"]}),e.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-[rgb(var(--color-background))] text-[rgb(var(--color-textSecondary))] hover:text-[rgb(var(--color-text))] transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsx(G,{title:"AparÃªncia",icon:"ðŸŽ¨",isOpen:o==="appearance",onToggle:()=>w("appearance"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Tema Principal"}),e.jsx("div",{className:"flex gap-2",children:[{id:"auto",label:"Auto"},{id:"light",label:"Claro"},{id:"dark",label:"Escuro"}].map(a=>e.jsx("button",{onClick:()=>{if(a.id==="auto")d({autoDetectSystemTheme:!0,systemThemeOverride:null});else{const h=F.find(v=>v.category===a.id);h&&U(h.theme),d({autoDetectSystemTheme:!1,systemThemeOverride:a.id})}},className:`flex-1 py-2 px-3 rounded-lg text-xs font-medium transition-all ${a.id==="auto"&&y.autoDetectSystemTheme||a.id!=="auto"&&!y.autoDetectSystemTheme&&y.systemThemeOverride===a.id?"bg-[rgb(var(--color-accent))] text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:a.label},a.id))})]}),e.jsx(ie,{setThemeColor:j}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Plano de Fundo"}),e.jsx(ce,{config:D,onChange:R})]})]})}),e.jsx(G,{title:"Layouts",icon:"ðŸ“",isOpen:o==="layouts",onToggle:()=>w("layouts"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Estilo de Leitura"}),e.jsx("div",{className:"grid grid-cols-3 gap-2 pr-1",children:[{id:"bento",label:"Bento"},{id:"brutalist",label:"Brutalista"},{id:"compact",label:"Compacto"},{id:"cyberpunk",label:"Cyberpunk"},{id:"split",label:"DivisÃµes"},{id:"focus",label:"Foco"},{id:"gallery",label:"Galeria"},{id:"grid",label:"Grade"},{id:"immersive",label:"Imersivo"},{id:"newspaper",label:"Jornal"},{id:"timeline",label:"Linha do Tempo"},{id:"list",label:"Lista"},{id:"minimal",label:"MÃ­nimo"},{id:"modern",label:"Moderno"},{id:"masonry",label:"Mosaico"},{id:"polaroid",label:"Polaroid"},{id:"magazine",label:"Revista"},{id:"terminal",label:"Terminal"}].map(a=>e.jsxs("button",{onClick:()=>{te.find(v=>v.id===a.id)?z(a.id):T({layoutMode:a.id}),L()},className:`py-2 px-2 rounded-lg text-[10px] font-medium transition-all flex items-center justify-center gap-1 ${C.layoutMode===a.id?"bg-[rgb(var(--color-accent))] text-white shadow-lg ring-1 ring-white/20":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:[C.layoutMode===a.id&&e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white animate-pulse"}),a.label]},a.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"PosiÃ§Ã£o do CabeÃ§alho"}),e.jsxs("select",{value:l.position,onChange:a=>i({position:a.target.value}),className:"w-full bg-gray-800 border-gray-700 text-gray-300 text-xs rounded-lg h-9 px-3",children:[e.jsx("option",{value:"sticky",children:"Fixo no Topo (Sticky)"}),e.jsx("option",{value:"static",children:"EstÃ¡tico"}),e.jsx("option",{value:"floating",children:"Flutuante"}),e.jsx("option",{value:"hidden",children:"Oculto (Auto-hide)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Altura"}),e.jsxs("select",{value:l.height,onChange:a=>i({height:a.target.value}),className:"w-full bg-gray-800 border-gray-700 text-gray-300 text-xs rounded-lg h-9 px-3",children:[e.jsx("option",{value:"ultra-compact",children:"MÃ­nima (Ultra)"}),e.jsx("option",{value:"tiny",children:"Extra Compacto"}),e.jsx("option",{value:"compact",children:"Compacto"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"spacious",children:"EspaÃ§oso"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Cor do Fundo"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:l.bgColor||"#1a1a1a",onChange:a=>i({bgColor:a.target.value}),className:"w-8 h-8 rounded cursor-pointer bg-transparent border-0"}),e.jsx("span",{className:"text-xs text-gray-500",children:l.bgColor||"#1a1a1a"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-gray-400 mb-2",children:["Opacidade: ",Math.round((l.bgOpacity??.9)*100),"%"]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:l.bgOpacity??.9,onChange:a=>i({bgOpacity:parseFloat(a.target.value)}),className:"w-full h-1 bg-gray-700 rounded-lg"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-gray-400 mb-2",children:["Blur: ",l.blur??10,"px"]}),e.jsx("input",{type:"range",min:"0",max:"30",step:"2",value:l.blur??10,onChange:a=>i({blur:parseInt(a.target.value)}),className:"w-full h-1 bg-gray-700 rounded-lg"})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-800",children:[e.jsxs("h3",{className:"text-xs font-bold text-gray-300 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"ðŸ†”"})," Identidade Visual"]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Logo SVG"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>document.getElementById("logo-upload")?.click(),className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 py-2 px-3 rounded-lg text-xs font-medium transition-colors border border-gray-700 flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),l.customLogoSvg?"Alterar Logo SVG":"Carregar Logo SVG"]}),l.customLogoSvg&&e.jsx("button",{onClick:()=>i({customLogoSvg:void 0}),className:"px-3 bg-red-900/30 hover:bg-red-900/50 text-red-400 rounded-lg border border-red-800/50",title:"Remover Logo",children:"âœ•"})]}),e.jsx("input",{id:"logo-upload",type:"file",accept:".svg",className:"hidden",onChange:a=>{const h=a.target.files?.[0];if(h){const v=new FileReader;v.onload=$=>{const k=$.target?.result;se(()=>import("./services-Do1rjcQb.js").then(B=>B.t),[]).then(B=>{const J=B.default.sanitize(k);i({customLogoSvg:J})}).catch(B=>{console.error("DOMPurify load failed, using raw",B),i({customLogoSvg:k})})},v.readAsText(h)}}}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:l.customLogoSvg?"âœ… SVG personalizado ativo":"Selecione um arquivo .svg para usar como logo"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Tamanho do Logo"}),e.jsx("div",{className:"flex bg-gray-800 rounded-lg p-1",children:["sm","md","lg"].map(a=>e.jsx("button",{onClick:()=>i({logoSize:a}),className:`flex-1 py-1 text-[10px] rounded ${l.logoSize===a?"bg-gray-600 text-white":"text-gray-400"}`,children:a.toUpperCase()},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Cor do Logo"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:l.logoColorMode||"theme",onChange:a=>i({logoColorMode:a.target.value}),className:"bg-gray-800 text-[10px] rounded h-8 px-2 border-none flex-1",children:[e.jsx("option",{value:"theme",children:"Tema"}),e.jsx("option",{value:"custom",children:"Fixa"}),e.jsx("option",{value:"original",children:"Original"})]}),l.logoColorMode==="custom"&&e.jsx("input",{type:"color",value:l.logoColor||"#ffffff",onChange:a=>i({logoColor:a.target.value}),className:"w-8 h-8 rounded bg-transparent cursor-pointer"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Sincronizar Favicon"}),e.jsx(S,{checked:l.syncFavicon||!1,onChange:a=>i({syncFavicon:a}),size:"sm"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Mostrar Logo"}),e.jsx(S,{checked:l.showLogo!==!1,onChange:a=>i({showLogo:a}),size:"sm"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-xs text-gray-400",children:"TÃ­tulo da PÃ¡gina"}),e.jsx(S,{checked:l.showTitle,onChange:a=>i({showTitle:a}),size:"sm"})]}),l.showTitle&&e.jsx("input",{type:"text",value:l.customTitle||"",onChange:a=>i({customTitle:a.target.value}),className:"w-full bg-gray-800 border-gray-700 text-gray-300 text-xs rounded-lg h-9 px-3"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"block text-xs text-gray-400",children:"Estilo do Texto"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] text-gray-500",children:"Gradiente"}),e.jsx(S,{checked:l.titleGradient?.enabled||!1,onChange:a=>i({titleGradient:{...l.titleGradient||{from:"#fff",to:"#fff",direction:"to right"},enabled:a}}),size:"sm"})]})]}),l.titleGradient?.enabled?e.jsxs("div",{className:"bg-gray-800/50 p-2 rounded-lg space-y-2 border border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] text-gray-400",children:"Cores"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",value:l.titleGradient.from,onChange:a=>i({titleGradient:{...l.titleGradient,from:a.target.value}}),className:"w-6 h-6 rounded bg-transparent"}),e.jsx("span",{className:"text-gray-500",children:"â†’"}),e.jsx("input",{type:"color",value:l.titleGradient.to,onChange:a=>i({titleGradient:{...l.titleGradient,to:a.target.value}}),className:"w-6 h-6 rounded bg-transparent"})]})]}),e.jsxs("div",{className:"flex justify-between items-center text-[10px]",children:[e.jsx("span",{className:"text-gray-400",children:"DireÃ§Ã£o"}),e.jsxs("select",{value:l.titleGradient.direction,onChange:a=>i({titleGradient:{...l.titleGradient,direction:a.target.value}}),className:"bg-gray-900 border-none rounded h-6 px-1 text-gray-300",children:[e.jsx("option",{value:"to right",children:"âž¡ Dir."}),e.jsx("option",{value:"to left",children:"â¬… Esq."}),e.jsx("option",{value:"to bottom",children:"â¬‡ Baixo"}),e.jsx("option",{value:"to bottom right",children:"â†˜ Diag."})]})]})]}):e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Cor do Texto"}),e.jsx("input",{type:"color",value:l.titleColor||"#ffffff",onChange:a=>i({titleColor:a.target.value}),className:"w-8 h-8 rounded bg-transparent cursor-pointer"})]})]})]})]})]})}),e.jsx(G,{title:"ExibiÃ§Ã£o",icon:"ðŸ‘",isOpen:o==="display",onToggle:()=>w("display"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-300",children:"Mostrar Autor"}),e.jsx(S,{checked:C.showAuthor,onChange:a=>T({showAuthor:a}),size:"sm"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-300",children:"Mostrar Data"}),e.jsx(S,{checked:C.showDate,onChange:a=>T({showDate:a}),size:"sm"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-300",children:"Mostrar Tags"}),e.jsx(S,{checked:C.showTags,onChange:a=>T({showTags:a}),size:"sm"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-300",children:"Formato 24h"}),e.jsx(S,{checked:n==="24h",onChange:a=>u(a?"24h":"12h"),size:"sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"PaginaÃ§Ã£o"}),e.jsxs("select",{value:C.paginationType||"numbered",onChange:a=>T({paginationType:a.target.value}),className:"w-full bg-gray-800 border-gray-700 text-gray-300 text-xs rounded-lg h-9 px-3",children:[e.jsx("option",{value:"numbered",children:"PÃ¡ginas (Numerada)"}),e.jsx("option",{value:"loadMore",children:'BotÃ£o "Carregar Mais"'})]})]})]})}),e.jsx(G,{title:"Sistema",icon:"âš™ï¸",isOpen:o==="system",onToggle:()=>w("system"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Idioma"}),e.jsxs("select",{value:b,onChange:a=>E(a.target.value),className:"w-full bg-gray-800 border-gray-700 text-gray-300 text-xs rounded-lg h-9 px-3",children:[e.jsx("option",{value:"pt-BR",children:"PortuguÃªs (BR)"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"es",children:"EspaÃ±ol"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:I,className:"flex-1 py-2 px-3 bg-gray-800 hover:bg-gray-700 text-gray-300 text-xs rounded-lg transition-colors",children:"Exportar"}),e.jsxs("label",{className:"flex-1 py-2 px-3 bg-gray-800 hover:bg-gray-700 text-gray-300 text-xs rounded-lg transition-colors text-center cursor-pointer",children:["Importar",e.jsx("input",{type:"file",accept:".json",className:"hidden",ref:O,onChange:A})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"OpÃ§Ãµes de Reset"}),e.jsxs("button",{onClick:M,className:"w-full py-2 px-3 bg-yellow-900/20 hover:bg-yellow-900/40 text-yellow-400 text-xs rounded-lg transition-colors border border-yellow-800/30 text-left",children:["ðŸŽ¨ Resetar Estilos",e.jsx("span",{className:"block text-[10px] text-yellow-600 mt-0.5",children:"Tema, layout, cores e header"})]}),e.jsxs("button",{onClick:m,className:"w-full py-2 px-3 bg-orange-900/20 hover:bg-orange-900/40 text-orange-400 text-xs rounded-lg transition-colors border border-orange-800/30 text-left",children:["ðŸ“‚ Resetar Categorias",e.jsx("span",{className:"block text-[10px] text-orange-600 mt-0.5",children:"Remove categorias personalizadas"})]}),e.jsxs("button",{onClick:g,className:"w-full py-2 px-3 bg-red-900/30 hover:bg-red-900/50 text-red-400 text-xs rounded-lg transition-colors border border-red-800/50 text-left",children:["âš ï¸ Reset Completo",e.jsx("span",{className:"block text-[10px] text-red-600 mt-0.5",children:"Apaga TUDO: feeds, categorias, estilos"})]})]})]})})]})]})]}):null},G=({title:s,icon:r,isOpen:n,onToggle:u,children:o})=>e.jsxs("div",{className:"border border-[rgb(var(--color-border))] rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:u,className:"w-full flex items-center justify-between p-3 bg-[rgb(var(--color-background))] hover:bg-gray-800/50 transition-colors",children:[e.jsxs("span",{className:"flex items-center gap-2 text-sm font-medium text-[rgb(var(--color-text))]",children:[e.jsx("span",{children:r}),s]}),e.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&e.jsx("div",{className:"p-4 bg-[rgb(var(--color-surface))] animate-in slide-in-from-top-2 duration-200",children:o})]});export{Ce as SettingsSidebar};
