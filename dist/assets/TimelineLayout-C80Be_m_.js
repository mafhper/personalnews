import{r as x,j as e}from"./performance-loPN9a-y.js";import{A as N}from"./ArticleReaderModal-BSnZWIHY.js";import{b as w}from"./index-DATOltF_.js";import"./react-vendor-Cgg2GOmP.js";import"./services-kTaNVaQ0.js";import"./videoEmbed-D9D8KXWZ.js";import"./articleFetcher-CYOfQrHu.js";const C=({articles:p,timeFormat:u})=>{const[o,i]=x.useState(null),{t:g,language:l}=w(),{groupedArticles:b,navigationList:n}=x.useMemo(()=>{const t=p.reduce((r,a)=>{const m=new Date(a.pubDate).toLocaleDateString(l,{weekday:"long",year:"numeric",month:"long",day:"numeric"});return r[m]||(r[m]=[]),r[m].push(a),r},{}),s=Object.entries(t).flatMap(([r,a])=>a);return{groupedArticles:t,navigationList:s}},[p,l]),c=t=>{i(t)},h=()=>{if(!o)return;const t=n.findIndex(s=>s.link===o.link);t<n.length-1&&i(n[t+1])},v=()=>{if(!o)return;const t=n.findIndex(s=>s.link===o.link);t>0&&i(n[t-1])},d=o?n.findIndex(t=>t.link===o.link):-1,f=d!==-1&&d<n.length-1,j=d>0;return e.jsxs("div",{className:"max-w-3xl mx-auto relative animate-in fade-in duration-500",children:[e.jsx("div",{className:"absolute left-4 md:left-8 top-0 bottom-0 w-0.5 bg-[rgb(var(--color-border))]"}),Object.entries(b).map(([t,s])=>e.jsxs("div",{className:"mb-12 relative",children:[e.jsx("div",{className:"sticky top-20 z-10 mb-8 ml-10 md:ml-16",children:e.jsx("span",{className:"inline-block px-4 py-2 bg-[rgb(var(--color-surface))] border border-[rgb(var(--color-border))] rounded-full text-sm font-bold text-[rgb(var(--color-text))] shadow-sm capitalize",children:t})}),e.jsx("div",{className:"space-y-8",children:s.map(r=>e.jsxs("article",{className:"relative pl-10 md:pl-16 group",children:[e.jsx("div",{className:"absolute left-[14px] md:left-[30px] top-6 w-3 h-3 rounded-full bg-[rgb(var(--color-accent))] border-4 border-[rgb(var(--color-background))] shadow-sm group-hover:scale-125 transition-transform"}),e.jsxs("div",{className:"bg-[rgb(var(--color-surface))] p-4 md:p-6 rounded-2xl border border-[rgb(var(--color-border))] hover:border-[rgb(var(--color-accent))] transition-all shadow-sm hover:shadow-md relative overflow-hidden",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-[rgb(var(--color-textSecondary))] mb-2",children:[e.jsx("span",{className:"font-medium text-[rgb(var(--color-accent))]",children:r.sourceTitle}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:new Date(r.pubDate).toLocaleTimeString(l,{hour:"2-digit",minute:"2-digit",hour12:u==="12h"})})]}),e.jsx("h3",{className:"text-xl font-bold text-[rgb(var(--color-text))] mb-3 leading-tight cursor-pointer hover:text-[rgb(var(--color-accent))] transition-colors",onClick:()=>c(r),children:r.title}),r.imageUrl&&e.jsx("div",{className:"mb-4 rounded-xl overflow-hidden h-48 cursor-pointer",onClick:()=>c(r),children:e.jsx("img",{src:r.imageUrl,alt:"",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"})}),e.jsxs("div",{className:"relative",children:[e.jsxs("p",{className:"text-[rgb(var(--color-textSecondary))] text-sm line-clamp-6 mb-2 leading-relaxed",children:[r.description,(!r.description||r.description.length<100)&&e.jsxs("span",{className:"opacity-50",children:[" ",r.description," ",r.description]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-[rgb(var(--color-surface))] to-transparent flex items-end justify-center pb-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",children:e.jsx("button",{onClick:a=>{a.stopPropagation(),c(r)},className:"pointer-events-auto bg-[rgb(var(--color-accent))] text-white px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider shadow-lg hover:scale-105 transition-transform",children:g("action.preview")})})]})]})]},r.link))})]},t)),o&&e.jsx(N,{article:o,onClose:()=>i(null),onNext:h,onPrev:v,hasNext:f,hasPrev:j})]})};export{C as TimelineLayout};
