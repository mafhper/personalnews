import{r as Y,g as Q}from"./react-vendor-Cgg2GOmP.js";import{a as U}from"./services-9ZPKsN6G.js";function X(r,t){for(var a=0;a<t.length;a++){const s=t[a];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in r)){const o=Object.getOwnPropertyDescriptor(s,n);o&&Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}var O={exports:{}},C={};var V;function Z(){if(V)return C;V=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(s,n,o){var c=null;if(o!==void 0&&(c=""+o),n.key!==void 0&&(c=""+n.key),"key"in n){o={};for(var m in n)m!=="key"&&(o[m]=n[m])}else o=n;return n=o.ref,{$$typeof:r,type:s,key:c,ref:n!==void 0?n:null,props:o}}return C.Fragment=t,C.jsx=a,C.jsxs=a,C}var G;function K(){return G||(G=1,O.exports=Z()),O.exports}var e=K(),h=Y();const _=Q(h),ie=X({__proto__:null,default:_},[h]);class ee{constructor(){this.metrics=new Map,this.feedMetrics=[],this.paginationMetrics=[],this.applicationMetrics=[],this.isEnabled=!0,this.logToConsole=!0,this.isEnabled=localStorage.getItem("performance-debug")==="true",this.logToConsole=this.isEnabled,this.isEnabled&&(this.initializePerformanceObserver(),this.logSystemInfo())}startTiming(t,a,s){if(!this.isEnabled)return;const n={id:t,name:a,startTime:performance.now(),status:"pending",metadata:s};this.metrics.set(t,n),this.logToConsole&&console.log(`ðŸš€ [Performance] Started: ${a}`,s)}endTiming(t,a){if(!this.isEnabled)return null;const s=this.metrics.get(t);if(!s)return console.warn(`[Performance] Metric not found: ${t}`),null;const n=performance.now(),o=n-s.startTime,c={...s,endTime:n,duration:o,status:"completed",metadata:{...s.metadata,...a}};return this.metrics.set(t,c),this.logToConsole&&console.log(`âœ… [Performance] Completed: ${s.name} (${o.toFixed(2)}ms)`,c.metadata),c}markFailed(t,a,s){if(!this.isEnabled)return null;const n=this.metrics.get(t);if(!n)return console.warn(`[Performance] Metric not found: ${t}`),null;const o=performance.now(),c=o-n.startTime,m={...n,endTime:o,duration:c,status:"failed",error:a,metadata:{...n.metadata,...s}};return this.metrics.set(t,m),this.logToConsole&&console.error(`âŒ [Performance] Failed: ${n.name} (${c.toFixed(2)}ms)`,{error:a,...m.metadata}),m}trackFeedLoading(t,a){const s=`feed-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;return this.startTiming(s,`Feed Loading: ${t}`,{feedUrl:t,type:"feed-loading",...a}),s}completeFeedLoading(t,a,s){const n=this.endTiming(t,{articleCount:a,...s});if(n){const o={...n,feedUrl:n.metadata?.feedUrl||"unknown",articleCount:a,cacheHit:n.metadata?.cacheHit||!1,retryCount:n.metadata?.retryCount||0};this.feedMetrics.push(o),this.trimMetricsArray(this.feedMetrics,100)}}failFeedLoading(t,a,s){const n=this.markFailed(t,a,s);if(n&&n.metadata?.type==="feed-loading"){const o={...n,feedUrl:n.metadata?.feedUrl||"unknown",articleCount:0,cacheHit:n.metadata?.cacheHit||!1,retryCount:n.metadata?.retryCount||0};this.feedMetrics.push(o),this.trimMetricsArray(this.feedMetrics,100)}}trackPagination(t,a,s){const n=`pagination-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;return this.startTiming(n,`Pagination: ${t} â†’ ${a}`,{fromPage:t,toPage:a,totalArticles:s,type:"pagination"}),n}completePagination(t,a){const s=this.endTiming(t,{renderTime:a});if(s){const n={...s,fromPage:s.metadata?.fromPage||0,toPage:s.metadata?.toPage||0,totalArticles:s.metadata?.totalArticles||0,renderTime:a};this.paginationMetrics.push(n),this.trimMetricsArray(this.paginationMetrics,50)}}trackApplication(t,a){const s=`app-${t}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;return this.startTiming(s,a||`Application: ${t}`,{type:t,memoryUsage:this.getMemoryUsage()}),s}completeApplication(t,a){const s=this.endTiming(t,{memoryUsage:this.getMemoryUsage(),...a});if(s){const n={...s,type:s.metadata?.type||"app-load",componentCount:s.metadata?.componentCount,memoryUsage:s.metadata?.memoryUsage};this.applicationMetrics.push(n),this.trimMetricsArray(this.applicationMetrics,50)}}failApplication(t,a,s){const n=this.markFailed(t,a,{memoryUsage:this.getMemoryUsage(),...s});if(n){const o={...n,type:n.metadata?.type||"app-load",componentCount:n.metadata?.componentCount,memoryUsage:n.metadata?.memoryUsage};this.applicationMetrics.push(o),this.trimMetricsArray(this.applicationMetrics,50)}}getPerformanceSummary(){const t=this.feedMetrics.filter(m=>m.status==="completed"),a=this.feedMetrics.filter(m=>m.status==="failed"),s=this.feedMetrics.filter(m=>m.cacheHit).length,n=t.map(m=>m.duration||0),o=this.paginationMetrics.map(m=>m.duration||0),c=this.applicationMetrics.map(m=>m.duration||0);return{feeds:{total:this.feedMetrics.length,successful:t.length,failed:a.length,averageLoadTime:this.calculateAverage(n),slowestFeed:this.findSlowest(this.feedMetrics),fastestFeed:this.findFastest(this.feedMetrics),cacheHitRate:this.feedMetrics.length>0?s/this.feedMetrics.length*100:0},pagination:{total:this.paginationMetrics.length,averageNavigationTime:this.calculateAverage(o),slowestNavigation:this.findSlowest(this.paginationMetrics)},application:{total:this.applicationMetrics.length,averageLoadTime:this.calculateAverage(c),memoryTrend:this.applicationMetrics.slice(-10).map(m=>m.memoryUsage||0)}}}logPerformanceSummary(){if(!this.isEnabled)return;const t=this.getPerformanceSummary();console.group("ðŸ“Š Performance Summary"),console.group("ðŸŒ Feed Loading"),console.log(`Total feeds loaded: ${t.feeds.total}`),console.log(`Success rate: ${t.feeds.total>0?(t.feeds.successful/t.feeds.total*100).toFixed(1):0}%`),console.log(`Average load time: ${t.feeds.averageLoadTime.toFixed(2)}ms`),console.log(`Cache hit rate: ${t.feeds.cacheHitRate.toFixed(1)}%`),t.feeds.slowestFeed&&console.log(`Slowest feed: ${t.feeds.slowestFeed.feedUrl} (${t.feeds.slowestFeed.duration?.toFixed(2)}ms)`),console.groupEnd(),console.group("ðŸ“„ Pagination"),console.log(`Total navigations: ${t.pagination.total}`),console.log(`Average navigation time: ${t.pagination.averageNavigationTime.toFixed(2)}ms`),console.groupEnd(),console.group("ðŸš€ Application"),console.log(`Total operations: ${t.application.total}`),console.log(`Average operation time: ${t.application.averageLoadTime.toFixed(2)}ms`),console.log(`Current memory usage: ${this.getMemoryUsage().toFixed(2)}MB`),console.groupEnd(),console.groupEnd()}getAllMetrics(){return{feeds:[...this.feedMetrics],pagination:[...this.paginationMetrics],application:[...this.applicationMetrics],active:Array.from(this.metrics.values()).filter(t=>t.status==="pending")}}clearMetrics(){this.metrics.clear(),this.feedMetrics.length=0,this.paginationMetrics.length=0,this.applicationMetrics.length=0,this.logToConsole&&console.log("ðŸ§¹ [Performance] All metrics cleared")}setEnabled(t){this.isEnabled=t,this.logToConsole=t,t?localStorage.setItem("performance-debug","true"):localStorage.removeItem("performance-debug")}initializePerformanceObserver(){if(typeof PerformanceObserver<"u")try{new PerformanceObserver(a=>{a.getEntries().forEach(n=>{if(n.entryType==="navigation"){const o=n;console.log("ðŸŒ [Performance] Navigation timing:",{domContentLoaded:o.domContentLoadedEventEnd-o.domContentLoadedEventStart,loadComplete:o.loadEventEnd-o.loadEventStart,totalTime:o.loadEventEnd-o.fetchStart})}})}).observe({entryTypes:["navigation","measure"]})}catch(t){console.warn("[Performance] PerformanceObserver not supported:",t)}}logSystemInfo(){const t={userAgent:navigator.userAgent,memory:this.getMemoryUsage(),connection:navigator.connection?.effectiveType||"unknown",hardwareConcurrency:navigator.hardwareConcurrency||"unknown"};console.log("ðŸ’» [Performance] System info:",t)}getMemoryUsage(){return"memory"in performance?performance.memory.usedJSHeapSize/1024/1024:0}calculateAverage(t){return t.length===0?0:t.reduce((a,s)=>a+s,0)/t.length}findSlowest(t){return t.length===0?null:t.reduce((a,s)=>(s.duration||0)>(a.duration||0)?s:a)}findFastest(t){return t.length===0?null:t.reduce((a,s)=>(s.duration||0)<(a.duration||0)?s:a)}trimMetricsArray(t,a){t.length>a&&t.splice(0,t.length-a)}}const b=new ee;function oe(r,t){const a=s=>{const n=t||r.displayName||r.name||"Unknown Component";return _.useEffect(()=>{const o=b.trackApplication("app-load",`Render: ${n}`),c=setTimeout(()=>{b.completeApplication(o,{componentName:n,propsCount:Object.keys(s).length})},0);return()=>clearTimeout(c)},[n,s]),_.createElement(r,s)};return a.displayName=`withPerformanceTracking(${t||r.displayName||r.name||"Unknown"})`,a}const J={logSlowOperations:(r=1e3)=>{const t=b.getAllMetrics(),a=[...t.feeds.filter(s=>(s.duration||0)>r),...t.pagination.filter(s=>(s.duration||0)>r),...t.application.filter(s=>(s.duration||0)>r)];a.length>0&&(console.group("ðŸŒ Slow Operations (>"+r+"ms)"),a.forEach(s=>{console.warn(`${s.name}: ${s.duration?.toFixed(2)}ms`,s.metadata)}),console.groupEnd())},logFailedOperations:()=>{const r=b.getAllMetrics(),t=[...r.feeds.filter(a=>a.status==="failed"),...r.pagination.filter(a=>a.status==="failed"),...r.application.filter(a=>a.status==="failed")];t.length>0&&(console.group("âŒ Failed Operations"),t.forEach(a=>{console.error(`${a.name}: ${a.error}`,a.metadata)}),console.groupEnd())},logPerformanceTrends:()=>{const r=b.getPerformanceSummary();if(console.group("ðŸ“ˆ Performance Trends"),r.feeds.total>0&&console.log(`Feed loading trend: ${r.feeds.averageLoadTime.toFixed(2)}ms avg, ${r.feeds.cacheHitRate.toFixed(1)}% cache hit rate`),r.pagination.total>0&&console.log(`Pagination trend: ${r.pagination.averageNavigationTime.toFixed(2)}ms avg navigation time`),r.application.memoryTrend.length>0){const t=r.application.memoryTrend,a=t[t.length-1]-t[0];console.log(`Memory trend: ${a>0?"+":""}${a.toFixed(2)}MB over last ${t.length} operations`)}console.groupEnd()},exportPerformanceData:()=>{const r={timestamp:new Date().toISOString(),summary:b.getPerformanceSummary(),metrics:b.getAllMetrics(),systemInfo:{userAgent:navigator.userAgent,memory:performance.memory?{used:performance.memory.usedJSHeapSize,total:performance.memory.totalJSHeapSize,limit:performance.memory.jsHeapSizeLimit}:null,connection:navigator.connection?.effectiveType||"unknown",hardwareConcurrency:navigator.hardwareConcurrency||"unknown"}},t=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),a=URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download=`performance-data-${Date.now()}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a),console.log("ðŸ“Š Performance data exported")}};let $=0;const z=[],R=[];let E=!1,A=0,B=null;const g={getMemoryUsage:()=>{const r=performance;if(r.memory){const t=r.memory;return{used:t.usedJSHeapSize/1024/1024,total:t.totalJSHeapSize/1024/1024,limit:t.jsHeapSizeLimit/1024/1024}}return null},getPerformanceSummary:()=>b.getPerformanceSummary(),clearMetrics:()=>b.clearMetrics(),logSummary:()=>b.logPerformanceSummary(),exportData:()=>J.exportPerformanceData(),trackNetworkRequest:()=>{$++},getNetworkRequestCount:()=>$,resetNetworkRequestCount:()=>{$=0},createNetworkRequestBatch:r=>{const t=`batch-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,a={id:t,urls:r,startTime:Date.now(),endTime:void 0,status:"pending",results:[]};return z.push(a),t},completeNetworkRequestBatch:(r,t,a)=>{const s=z.find(n=>n.id===r);s&&(s.endTime=Date.now(),s.status=a,s.results=t)},getNetworkRequestBatches:()=>z,getPerformanceSnapshots:()=>R,clearPerformanceSnapshots:()=>{R.length=0},isBackgrounded:()=>E,getBackgroundedTime:()=>E&&A>0?Date.now()-A:0,startBackgroundMonitoring:()=>{if(B)return;const r=()=>{document.hidden?(E=!0,A=Date.now()):(E=!1,A=0)};document.addEventListener("visibilitychange",r),B=setInterval(()=>{const t=b.getPerformanceSummary(),a=g.getMemoryUsage(),s={timestamp:Date.now(),memory:a,feeds:t.feeds,pagination:t.pagination,application:t.application,cacheStats:{hitRate:t.feeds.cacheHitRate/100},networkRequests:$,fps:60,longTasks:0,layoutShifts:0};R.push(s),R.length>50&&R.shift()},5e3)},stopBackgroundMonitoring:()=>{B&&(clearInterval(B),B=null)}},te={enabled:!1,sampleRate:1,maxMetrics:100,backgroundCleanup:!0,monitoringInterval:1e4},se=(r={})=>{const t={...te,...r},[a,s]=h.useState(()=>({loadTime:0,renderTime:0,memoryUsage:0,cacheHitRate:0,networkRequests:0,fps:0,longTasks:0,layoutShifts:0,isBackgrounded:!1,backgroundedTime:0,lastUpdated:Date.now()})),[n,o]=h.useState([]),c=h.useRef([]),m=h.useRef(0),d=h.useRef(null),T=h.useCallback(()=>{t.enabled&&(m.current=performance.now())},[t.enabled]),u=h.useCallback(()=>{if(!t.enabled||m.current===0)return;const i=performance.now()-m.current;s(f=>({...f,renderTime:i,lastUpdated:Date.now()})),m.current=0},[t.enabled]),L=h.useCallback(()=>{t.enabled&&(g.trackNetworkRequest(),s(i=>({...i,networkRequests:g.getNetworkRequestCount(),lastUpdated:Date.now()})))},[t.enabled]),H=h.useCallback(()=>{t.enabled},[t.enabled]),q=h.useCallback(()=>{t.enabled},[t.enabled]),M=h.useCallback(i=>t.enabled?g.createNetworkRequestBatch(i):null,[t.enabled]),I=h.useCallback((i,f,l="complete")=>{t.enabled&&g.completeNetworkRequestBatch(i,f,l)},[t.enabled]),F=h.useCallback(()=>{const i=g.getNetworkRequestBatches(),f=i.filter(x=>x.status==="pending"),l=i.filter(x=>x.status==="complete"),k=i.filter(x=>x.status==="error"),S=l.filter(x=>x.endTime!==void 0).map(x=>x.endTime-x.startTime),j=S.length>0?S.reduce((x,W)=>x+W,0)/S.length:0;return{totalBatches:i.length,pendingBatches:f.length,completedBatches:l.length,failedBatches:k.length,averageBatchTime:j}},[]),P=h.useCallback(()=>{if(!t.enabled)return;const i=g.getPerformanceSnapshots();if(i.length===0)return;o(i);const f=i[i.length-1];s(l=>({...l,memoryUsage:f.memory?.used||0,cacheHitRate:f.cacheStats.hitRate*100,networkRequests:f.networkRequests,fps:f.fps,longTasks:f.longTasks,layoutShifts:f.layoutShifts,isBackgrounded:g.isBackgrounded(),backgroundedTime:g.getBackgroundedTime(),lastUpdated:Date.now()}))},[t.enabled]),N=h.useCallback(()=>U.getStats(),[]),w=h.useCallback(()=>{U.cleanup()},[]),v=h.useCallback(()=>{if(!t.enabled||c.current.length===0)return null;const i=c.current,f=i.reduce((j,x)=>j+x.renderTime,0)/i.length,l=Math.max(...i.map(j=>j.memoryUsage)),k=i.reduce((j,x)=>j+x.cacheHitRate,0)/i.length,S=i.reduce((j,x)=>j+x.fps,0)/i.length;return{averageRenderTime:f,maxMemoryUsage:l,averageCacheHitRate:k,totalNetworkRequests:g.getNetworkRequestCount(),averageFps:S,totalLongTasks:i.reduce((j,x)=>j+x.longTasks,0),totalLayoutShifts:i.reduce((j,x)=>j+x.layoutShifts,0),metricsCount:i.length}},[t.enabled]),p=h.useCallback(()=>{t.enabled&&(g.resetNetworkRequestCount(),g.clearPerformanceSnapshots(),U.resetStats(),c.current=[],s({loadTime:0,renderTime:0,memoryUsage:0,cacheHitRate:0,networkRequests:0,fps:0,longTasks:0,layoutShifts:0,isBackgrounded:g.isBackgrounded(),backgroundedTime:g.getBackgroundedTime(),lastUpdated:Date.now()}),o([]))},[t.enabled]),y=h.useCallback(()=>{t.enabled&&g.startBackgroundMonitoring()},[t.enabled]),D=h.useCallback(()=>{t.enabled&&(g.stopBackgroundMonitoring(),d.current&&(clearInterval(d.current),d.current=null))},[t.enabled]);return h.useEffect(()=>{if(!t.enabled)return;const i=()=>{const f=performance.getEntriesByType("navigation")[0];if(f){const l=f.loadEventEnd-f.fetchStart;s(k=>({...k,loadTime:l,lastUpdated:Date.now()}))}};if(document.readyState==="complete")i();else return window.addEventListener("load",i),()=>window.removeEventListener("load",i)},[t.enabled]),h.useEffect(()=>{if(!t.enabled)return;y();const i=setInterval(()=>{P()},t.monitoringInterval);return d.current=i,()=>{clearInterval(i),d.current=null}},[t.enabled,t.monitoringInterval,y,P]),h.useEffect(()=>{t.enabled&&(c.current.push(a),c.current.length>t.maxMetrics&&(c.current=c.current.slice(-t.maxMetrics)))},[a,t.enabled,t.maxMetrics]),h.useEffect(()=>()=>{d.current&&clearInterval(d.current)},[]),{metrics:a,snapshots:n,metricsHistory:c,startRenderTiming:T,endRenderTiming:u,trackNetworkRequest:L,trackCacheHit:H,trackCacheMiss:q,createNetworkBatch:M,completeNetworkBatch:I,getNetworkBatchStats:F,getCacheStats:N,cleanupCache:w,getPerformanceSummary:v,clearMetrics:p,startBackgroundMonitoring:y,stopBackgroundMonitoring:D,isEnabled:t.enabled,isBackgrounded:g.isBackgrounded()}},ae=({enabled:r=!1,position:t="bottom-right"})=>{const[a,s]=h.useState(!1),[n,o]=h.useState(!1),[c,m]=h.useState("metrics"),d=b.getPerformanceSummary(),T=b.getAllMetrics(),{metrics:u,snapshots:L,getPerformanceSummary:H,clearMetrics:q,isEnabled:M,getCacheStats:I,cleanupCache:F,getNetworkBatchStats:P,isBackgrounded:N}=se();if(h.useEffect(()=>{if(!r||!M)return;const l=setTimeout(()=>s(!0),1e3);return()=>clearTimeout(l)},[r,M]),!r||!M||!a)return null;const w=H(),v=g.getMemoryUsage(),p=I(),y=P(),D={"top-left":"top-4 left-4","top-right":"top-4 right-4","bottom-left":"bottom-4 left-4","bottom-right":"bottom-4 right-4"},i=(l,k="ms")=>l===0?"0":`${l.toFixed(2)}${k}`,f=l=>l<1e3?`${l.toFixed(0)}ms`:l<6e4?`${(l/1e3).toFixed(1)}s`:`${Math.floor(l/6e4)}m ${Math.floor(l%6e4/1e3)}s`;return e.jsxs("div",{className:`fixed ${D[t]} z-50 bg-black/80 text-white text-xs font-mono rounded-lg shadow-lg backdrop-blur-sm`,style:{minWidth:"240px",maxWidth:"320px"},children:[e.jsxs("div",{className:"flex items-center justify-between p-2 cursor-pointer hover:bg-white/10 rounded-t-lg",onClick:()=>o(!n),children:[e.jsx("span",{className:"font-semibold",children:"âš¡ Performance"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${u.renderTime>16?"bg-red-500":u.renderTime>8?"bg-yellow-500":"bg-green-500"}`}),N&&e.jsx("span",{className:"text-yellow-400",children:"BG"}),e.jsx("span",{children:n?"â–¼":"â–¶"})]})]}),!n&&e.jsxs("div",{className:"px-2 pb-2 space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Render:"}),e.jsx("span",{className:u.renderTime>16?"text-red-400":"text-green-400",children:i(u.renderTime)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"FPS:"}),e.jsx("span",{className:u.fps<30?"text-red-400":u.fps<50?"text-yellow-400":"text-green-400",children:u.fps.toFixed(0)})]}),v&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Memory:"}),e.jsxs("span",{children:[v.used,"MB"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Cache:"}),e.jsxs("span",{className:p.hitRate>.7?"text-green-400":"text-yellow-400",children:[(p.hitRate*100).toFixed(0),"%"]})]})]}),n&&e.jsxs("div",{className:"border-t border-white/20",children:[e.jsxs("div",{className:"flex border-b border-white/20",children:[e.jsx("button",{className:`flex-1 py-1 text-center ${c==="metrics"?"bg-white/10 text-blue-300":"hover:bg-white/5"}`,onClick:()=>m("metrics"),children:"Metrics"}),e.jsx("button",{className:`flex-1 py-1 text-center ${c==="cache"?"bg-white/10 text-green-300":"hover:bg-white/5"}`,onClick:()=>m("cache"),children:"Cache"}),e.jsx("button",{className:`flex-1 py-1 text-center ${c==="network"?"bg-white/10 text-purple-300":"hover:bg-white/5"}`,onClick:()=>m("network"),children:"Network"}),e.jsx("button",{className:`flex-1 py-1 text-center ${c==="feeds"?"bg-white/10 text-orange-300":"hover:bg-white/5"}`,onClick:()=>m("feeds"),children:"Feeds"})]}),c==="metrics"&&e.jsxs("div",{className:"p-2 space-y-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold mb-1 text-yellow-300",children:"App Status"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"State:"}),e.jsx("span",{className:N?"text-yellow-400":"text-green-400",children:N?"Backgrounded":"Active"})]}),N&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Time in BG:"}),e.jsx("span",{children:f(u.backgroundedTime)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"FPS:"}),e.jsx("span",{className:u.fps<30?"text-red-400":u.fps<50?"text-yellow-400":"text-green-400",children:u.fps.toFixed(0)})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold mb-1 text-blue-300",children:"Current Metrics"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Load Time:"}),e.jsx("span",{children:i(u.loadTime)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Render Time:"}),e.jsx("span",{className:u.renderTime>16?"text-red-400":"text-green-400",children:i(u.renderTime)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Memory:"}),e.jsx("span",{children:i(u.memoryUsage,"MB")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Cache Hit Rate:"}),e.jsx("span",{className:u.cacheHitRate>80?"text-green-400":"text-yellow-400",children:i(u.cacheHitRate,"%")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Network Requests:"}),e.jsx("span",{children:u.networkRequests})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Long Tasks:"}),e.jsx("span",{className:u.longTasks>0?"text-yellow-400":"text-green-400",children:u.longTasks})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Layout Shifts:"}),e.jsx("span",{className:u.layoutShifts>5?"text-red-400":"text-green-400",children:u.layoutShifts})]})]})]}),v&&e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold mb-1 text-green-300",children:"Memory Details"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Used:"}),e.jsxs("span",{children:[v.used,"MB"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:[v.total,"MB"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Limit:"}),e.jsxs("span",{children:[v.limit,"MB"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1 mt-1",children:e.jsx("div",{className:"bg-blue-500 h-1 rounded-full",style:{width:`${v.used/v.limit*100}%`}})})]})]}),w&&e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold mb-1 text-purple-300",children:"Summary"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Avg Render:"}),e.jsx("span",{children:i(w.averageRenderTime)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Max Memory:"}),e.jsx("span",{children:i(w.maxMemoryUsage,"MB")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Avg Cache Hit:"}),e.jsx("span",{children:i(w.averageCacheHitRate,"%")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Avg FPS:"}),e.jsx("span",{children:w.averageFps?.toFixed(1)||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Long Tasks:"}),e.jsx("span",{children:w.totalLongTasks||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Samples:"}),e.jsx("span",{children:w.metricsCount})]})]})]})]}),c==="cache"&&e.jsxs("div",{className:"p-2 space-y-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold mb-1 text-green-300",children:"Cache Statistics"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Size:"}),e.jsxs("span",{children:[p.size," / ",p.maxSize]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1 mt-1 mb-2",children:e.jsx("div",{className:"bg-green-500 h-1 rounded-full",style:{width:`${p.size/p.maxSize*100}%`}})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Hit Rate:"}),e.jsxs("span",{className:p.hitRate>.7?"text-green-400":"text-yellow-400",children:[(p.hitRate*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Hits:"}),e.jsx("span",{children:p.hits})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Misses:"}),e.jsx("span",{children:p.misses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Evictions:"}),e.jsx("span",{children:p.evictions})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold mb-1 text-blue-300",children:"Cache Age"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Oldest Item:"}),e.jsx("span",{children:f(p.oldestItemAge)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Newest Item:"}),e.jsx("span",{children:f(p.newestItemAge)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Average Age:"}),e.jsx("span",{children:f(p.averageAge)})]})]})]}),p.memoryUsage!==null&&e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold mb-1 text-yellow-300",children:"Cache Memory"}),e.jsx("div",{className:"space-y-1 text-xs",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Memory Usage:"}),e.jsxs("span",{children:[p.memoryUsage,"MB"]})]})})]}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t border-white/20",children:[e.jsx("button",{onClick:F,className:"flex-1 px-2 py-1 bg-yellow-600/20 hover:bg-yellow-600/40 rounded text-xs transition-colors",children:"Cleanup"}),e.jsx("button",{onClick:()=>{U.clear(),F()},className:"flex-1 px-2 py-1 bg-red-600/20 hover:bg-red-600/40 rounded text-xs transition-colors",children:"Clear Cache"})]})]}),c==="feeds"&&e.jsxs("div",{className:"p-2 space-y-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold mb-1 text-orange-300",children:"Feed Performance"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Feeds:"}),e.jsx("span",{children:d.feeds.total})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Success Rate:"}),e.jsxs("span",{className:d.feeds.total>0&&d.feeds.successful/d.feeds.total>.8?"text-green-400":"text-yellow-400",children:[d.feeds.total>0?(d.feeds.successful/d.feeds.total*100).toFixed(0):0,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Avg Load Time:"}),e.jsx("span",{className:d.feeds.averageLoadTime>2e3?"text-red-400":d.feeds.averageLoadTime>1e3?"text-yellow-400":"text-green-400",children:i(d.feeds.averageLoadTime)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Cache Hit Rate:"}),e.jsxs("span",{className:d.feeds.cacheHitRate>70?"text-green-400":"text-yellow-400",children:[d.feeds.cacheHitRate.toFixed(0),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Failed Feeds:"}),e.jsx("span",{className:d.feeds.failed>0?"text-red-400":"text-green-400",children:d.feeds.failed})]})]})]}),T.feeds.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold mb-1 text-blue-300",children:"Recent Activity"}),e.jsx("div",{className:"space-y-1 text-xs max-h-32 overflow-y-auto",children:T.feeds.slice(-5).reverse().map((l,k)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"truncate max-w-24",title:l.feedUrl,children:l.feedUrl.split("/").pop()||l.feedUrl}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${l.status==="completed"?"bg-green-400":l.status==="failed"?"bg-red-400":"bg-yellow-400"}`}),e.jsx("span",{className:(l.duration||0)>2e3?"text-red-400":(l.duration||0)>1e3?"text-yellow-400":"text-green-400",children:i(l.duration||0)})]})]},k))})]}),d.feeds.slowestFeed?.duration&&d.feeds.slowestFeed.duration>2e3||d.feeds.failed>0?e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold mb-1 text-red-300",children:"Alerts"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[d.feeds.slowestFeed?.duration&&d.feeds.slowestFeed.duration>2e3&&e.jsxs("div",{className:"flex items-center gap-1 text-yellow-400",children:[e.jsx("span",{children:"âš "}),e.jsx("span",{children:"Slow feed detected"})]}),d.feeds.failed>0&&e.jsxs("div",{className:"flex items-center gap-1 text-red-400",children:[e.jsx("span",{children:"âœ—"}),e.jsxs("span",{children:[d.feeds.failed," feed",d.feeds.failed!==1?"s":""," failed"]})]}),d.feeds.cacheHitRate<50&&d.feeds.total>3&&e.jsxs("div",{className:"flex items-center gap-1 text-orange-400",children:[e.jsx("span",{children:"â„¹"}),e.jsx("span",{children:"Low cache hit rate"})]})]})]}):e.jsx("div",{className:"text-xs text-green-400",children:"âœ“ All feeds performing well"}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t border-white/20",children:[e.jsx("button",{onClick:()=>J.logSlowOperations(1e3),className:"flex-1 px-2 py-1 bg-yellow-600/20 hover:bg-yellow-600/40 rounded text-xs transition-colors",children:"Log Slow"}),e.jsx("button",{onClick:()=>J.logFailedOperations(),className:"flex-1 px-2 py-1 bg-red-600/20 hover:bg-red-600/40 rounded text-xs transition-colors",children:"Log Failed"})]}),T.feeds.length===0&&e.jsx("div",{className:"text-xs text-gray-400 text-center py-2",children:"No feed data available"})]}),c==="network"&&e.jsxs("div",{className:"p-2 space-y-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold mb-1 text-purple-300",children:"Network Statistics"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Requests:"}),e.jsx("span",{children:u.networkRequests})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Batches:"}),e.jsx("span",{children:y.totalBatches})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Pending Batches:"}),e.jsx("span",{className:y.pendingBatches>0?"text-yellow-400":"text-green-400",children:y.pendingBatches})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Completed Batches:"}),e.jsx("span",{children:y.completedBatches})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Failed Batches:"}),e.jsx("span",{className:y.failedBatches>0?"text-red-400":"text-green-400",children:y.failedBatches})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Avg Batch Time:"}),e.jsx("span",{children:f(y.averageBatchTime)})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold mb-1 text-yellow-300",children:"Background Status"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"App State:"}),e.jsx("span",{className:N?"text-yellow-400":"text-green-400",children:N?"Backgrounded":"Active"})]}),N&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Time in Background:"}),e.jsx("span",{children:f(u.backgroundedTime)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Auto Cleanup:"}),e.jsx("span",{children:"Enabled"})]})]})]})]}),e.jsxs("div",{className:"flex gap-2 p-2 border-t border-white/20",children:[e.jsx("button",{onClick:q,className:"flex-1 px-2 py-1 bg-red-600/20 hover:bg-red-600/40 rounded text-xs transition-colors",children:"Clear"}),e.jsx("button",{onClick:()=>{const l={metrics:u,summary:w,memoryInfo:v,cacheStats:p,networkStats:y,snapshots:L.slice(-5),timestamp:new Date().toISOString()};console.log("Performance Data:",l)},className:"flex-1 px-2 py-1 bg-blue-600/20 hover:bg-blue-600/40 rounded text-xs transition-colors",children:"Log"})]})]})]})},le=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"}));export{le as P,_ as R,ie as a,e as j,h as r,se as u,oe as w};
