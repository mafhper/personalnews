import{j as e}from"./vendor-framer-B65la2y2.js";import{r as n}from"./vendor-react-7Kzf8NDb.js";import{u as j,R as b,e as m,E as N,C as v,f as w}from"./vendor-ui-DuB3ZbCu.js";const y=[{id:"mobile",title:"App Mobile",description:"Versão PWA otimizada para mobile",status:"in-progress"},{id:"sync",title:"Sincronização",description:"Sync de configurações entre dispositivos",status:"planned"},{id:"themes",title:"Mais Temas",description:"Novos temas e esquemas de cores",status:"completed"},{id:"widgets",title:"Widgets",description:"Widgets para clima, hora, etc.",status:"planned"}],z={completed:"bg-green-500","in-progress":"bg-yellow-500",planned:"bg-zinc-600"},C={completed:"Concluído","in-progress":"Em Progresso",planned:"Planejado"};function k(t){return{sha:t.hash,commit:{message:t.message,author:{name:"mafhper",date:t.date}},html_url:`https://github.com/mafhper/personalnews/commit/${t.hash}`}}function P(){const{t}=j(),[a,c]=n.useState([]),[l,d]=n.useState(!1),[h,i]=n.useState(!0),[p,o]=n.useState("none");n.useEffect(()=>{fetch("https://api.github.com/repos/mafhper/personalnews/commits?per_page=20").then(s=>s.ok?s.json():Promise.reject()).then(s=>{c(s),o("api"),i(!1)}).catch(()=>{console.log("GitHub API failed, trying static changelog..."),fetch("/personalnews/changelog.json").then(s=>s.ok?s.json():Promise.reject()).then(s=>{const g=s.months.flatMap(f=>f.commits).slice(0,20).map(k);c(g),o("static"),i(!1)}).catch(()=>{console.log("Static changelog also failed"),o("none"),i(!1)})})},[]);const x=s=>new Date(s).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"}),u=l?a:a.slice(0,2);return e.jsx("div",{className:"min-h-screen pt-40 pb-20 animate-in",children:e.jsxs("div",{className:"container mx-auto px-6 max-w-4xl",children:[e.jsxs("div",{className:"text-center mb-20",children:[e.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6",children:t("changes.title")}),e.jsx("p",{className:"text-xl text-zinc-400",children:t("changes.subtitle")})]}),e.jsxs("section",{className:"mb-24",children:[e.jsxs("h2",{className:"text-3xl font-bold mb-8 flex items-center gap-3",children:[e.jsx(b,{className:"text-blue-400"}),t("changes.roadmap_title")]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:y.map((s,r)=>e.jsx("div",{className:"glass-panel rounded-2xl p-6 hover:border-blue-500/30 transition-all",style:{animationDelay:`${r*100}ms`},children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:s.title}),e.jsx("p",{className:"text-sm text-zinc-400",children:s.description})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0 bg-white/5 px-2 py-1 rounded-full",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${z[s.status]}`}),e.jsx("span",{className:"text-xs text-zinc-500 uppercase font-bold",children:C[s.status]})]})]})},s.id))})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-3xl font-bold mb-8 flex items-center gap-3",children:[e.jsx(m,{className:"text-purple-400"}),t("changes.commits_title"),p==="static"&&e.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-1 rounded-full font-normal",children:"cached"})]}),h?e.jsx("div",{className:"glass-panel rounded-2xl p-8 text-center text-zinc-500",children:t("changes.loading")}):a.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-3",children:u.map(s=>e.jsxs("a",{href:s.html_url,target:"_blank",rel:"noopener noreferrer",className:"glass-panel rounded-xl p-4 flex items-start gap-4 hover:border-purple-500/30 transition-all group block",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-500/20 flex items-center justify-center shrink-0",children:e.jsx(m,{size:18,className:"text-purple-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-white truncate group-hover:text-purple-300 transition-colors",children:s.commit.message.split(`
`)[0]}),e.jsxs("p",{className:"text-sm text-zinc-500 mt-1",children:[s.commit.author.name," • ",x(s.commit.author.date)]})]}),e.jsx(N,{size:16,className:"text-zinc-600 group-hover:text-purple-400 transition-colors shrink-0 mt-1"})]},s.sha))}),a.length>2&&e.jsx("button",{onClick:()=>d(!l),className:"mt-6 w-full glass-panel rounded-xl p-4 flex items-center justify-center gap-2 text-zinc-400 hover:text-white hover:border-white/20 transition-all",children:l?e.jsxs(e.Fragment,{children:[e.jsx(v,{size:18}),t("changes.show_less")]}):e.jsxs(e.Fragment,{children:[e.jsx(w,{size:18}),t("changes.view_more")," (",a.length-2,")"]})})]}):e.jsx("div",{className:"glass-panel rounded-2xl p-8 text-center text-zinc-500",children:"Não foi possível carregar os commits."})]})]})})}export{P as default};
